<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta charSet="utf-8"/><link rel="preload" as="font" href="/kawruhnology/_next/static/media/e4af272ccee01ff0-s.p.woff2" crossorigin="" type="font/woff2"/><link rel="stylesheet" href="/kawruhnology/_next/static/css/84be653f156721e5.css" data-precedence="next"/><link rel="stylesheet" href="/kawruhnology/_next/static/css/7ba97ac3c17e2e2a.css" data-precedence="next"/><link rel="stylesheet" href="/kawruhnology/_next/static/css/c78fb8f69dafcafd.css" data-precedence="next"/><link rel="preload" as="script" href="https://analytics.umami.is/script.js"/><title>Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom</title><meta name="description" content="Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra."/><meta name="viewport" content="width=device-width, initial-scale=1"/><meta property="og:title" content="Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom"/><meta property="og:description" content="Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra."/><meta property="og:url" content="http://localhost:3000/"/><meta property="og:site_name" content="kawruhnology"/><meta property="og:locale" content="en_US"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-11-06T00:00:00.000Z"/><meta property="article:modified_time" content="2024-11-06T00:00:00.000Z"/><meta property="article:author" content="Slamet Sam"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom"/><meta name="twitter:description" content="Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra."/><link rel="icon" href="/kawruhnology/favicon.ico" type="image/x-icon" sizes="any"/><meta name="next-size-adjust"/><link rel="icon" href="/kawruhnology/favicon.ico" type="image/x-icon" sizes="any"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>kawruhnology</title><meta name="description" content="Maintenance Extended Core"/><script src="/kawruhnology/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js" noModule=""></script></head><body class="min-h-screen bg-white text-slate-900 antialiased dark:bg-slate-950 dark:text-slate-50 __className_9d68f9"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><div class="flex min-h-screen flex-col justify-between font-sans"><header class="flex items-center justify-between rounded-xl bg-green-50 px-3 py-2 shadow-sm dark:bg-gray-900"><div><a aria-label="MxCore" href="/kawruhnology/"><div class="flex items-center justify-between"><div class="mr-3 overflow-hidden rounded-xl border border-gray-300 bg-white shadow-sm dark:border-gray-600 dark:bg-[#111827]"><svg xmlns="http://www.w3.org/2000/svg" width="42" height="45" fill="none" style="max-height:500px" viewBox="30.96 36.72 58.08 62.4"><rect width="120" height="120" fill="#111827" rx="12"></rect><circle cx="60" cy="60" r="28" fill="url(#lampu75x45_svg__a)" opacity="0.35"></circle><circle cx="60" cy="60" r="18" fill="url(#lampu75x45_svg__a)" opacity="0.5"></circle><path fill="#F97316" d="M60 38c-5 9-4 19 0 28 4-9 5-19 0-28"></path><path fill="#FDBA74" d="M60 44c-1.5 4-1 9 0 14 1-5 1.5-10 0-14"></path><ellipse cx="60" cy="60" fill="#FCD34D" fill-opacity="0.12" stroke="#F59E0B" stroke-width="1.5" rx="16" ry="22"></ellipse><rect width="20" height="6" x="50" y="77" fill="#78350F" rx="2"></rect><circle cx="52" cy="80" r="2" fill="#FBBF24"></circle><circle cx="68" cy="80" r="2" fill="#FBBF24"></circle><path fill="#92400E" d="M50 83h20c-2 10-18 10-20 0"></path><rect width="14" height="4" x="53" y="93" fill="#78350F" rx="1"></rect><defs><radialGradient id="lampu75x45_svg__a" cx="0" cy="0" r="1" gradientTransform="matrix(30 0 0 30 60 60)" gradientUnits="userSpaceOnUse"><stop stop-color="#FCD34D" stop-opacity="0.9"></stop><stop offset="1" stop-color="#FCD34D" stop-opacity="0"></stop></radialGradient></defs></svg></div></div></a></div><div class="flex items-center space-x-4 leading-5 sm:space-x-6"><a class="link-active hidden p-1 font-semibold text-blue-700 dark:text-gray-100 sm:block" href="/kawruhnology/blog/">Blog</a><button aria-label="Search"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="h-6 w-6 text-gray-900 dark:text-gray-100"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"></path></svg></button><button aria-label="Toggle Menu" class="sm:hidden"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100 h-8 w-8"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg></button><div class="fixed left-0 top-0 z-10 h-full w-full transform opacity-95 dark:opacity-[0.98] bg-white duration-300 ease-in-out dark:bg-gray-950 translate-x-full"><div class="flex justify-end"><button class="mr-8 mt-11 h-8 w-8" aria-label="Toggle Menu"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="text-gray-900 dark:text-gray-100"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg></button></div><nav class="fixed mt-8 h-full"><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/kawruhnology/">Home</a></div><div class="px-12 py-4"><a class="text-2xl font-bold tracking-widest text-gray-900 dark:text-gray-100" href="/kawruhnology/blog/">Blog</a></div></nav></div></div></header><main class="mb-auto"><section class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8"> <!-- --><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","headline":"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom","datePublished":"2024-11-06T00:00:00.000Z","dateModified":"2024-11-06T00:00:00.000Z","description":"Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra.","url":"https://slametsampon.github.io/kawruhnology//blog/IoT/tahap3","author":[{"@type":"Person","name":"Slamet Sam"}]}</script><section class="mx-auto max-w-5xl px-4 sm:px-6 lg:px-8"><div class="fixed bottom-8 right-8 hidden flex-col gap-3 md:hidden"><button aria-label="Scroll To Comment" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z" clip-rule="evenodd"></path></svg></button><button aria-label="Scroll To Top" class="rounded-full bg-gray-200 p-2 text-gray-500 transition-all hover:bg-gray-300 dark:bg-gray-700 dark:text-gray-400 dark:hover:bg-gray-600"><svg class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M3.293 9.707a1 1 0 010-1.414l6-6a1 1 0 011.414 0l6 6a1 1 0 01-1.414 1.414L11 5.414V17a1 1 0 11-2 0V5.414L4.707 9.707a1 1 0 01-1.414 0z" clip-rule="evenodd"></path></svg></button></div><article><div class="xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700"><header class="pt-6 xl:pb-6"><div class="space-y-1 text-center"><dl class="space-y-10"><div><dt class="sr-only">Published on</dt><dd class="text-base font-medium leading-6 text-gray-500 dark:text-gray-400"><time dateTime="2024-11-06T00:00:00.000Z">Wednesday, November 6, 2024</time></dd></div></dl><div><h1 class="text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14">Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom</h1></div></div></header><div class="grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0"><dl class="pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700"><dt class="sr-only">Authors</dt><dd><ul class="flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8"><li class="flex items-center space-x-2"><img alt="Slamet Sam" loading="lazy" width="38" height="38" decoding="async" data-nimg="1" class="h-10 w-10 rounded-full" style="color:transparent" src="/kawruhnology/static/images/bernas.jpg"/><dl class="whitespace-nowrap text-sm font-medium leading-5"><dt class="sr-only">Name</dt><dd class="text-gray-900 dark:text-gray-100">Slamet Sam</dd><dt class="sr-only">Twitter</dt><dd><a target="_blank" rel="noopener noreferrer" href="https://twitter.com/Twitter" class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400">@Twitter</a></dd></dl></li></ul></dd></dl><div class="divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="prose max-w-none pb-8 pt-10 dark:prose-invert"><p><strong>Proyek Serial HortiLink: Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom</strong></p><hr/><p><strong>Rangkuman Proyek:</strong></p><p>Selamat datang di <strong>Proyek Serial <a href="https://slamet-sam.netlify.app/blog/IoT/HortiLink">HortiLink</a>: Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom</strong></p><hr/><p>Setelah persiapan perangkat dan sensor selesai, kini kita memasuki <strong>Tahap 3: Integrasi ESP-Gateway dengan Server Kustom</strong>. Di sinilah semua data mulai hidup dan bekerja untuk kitaâ€”mulai dari koneksi sensor di lapangan hingga server yang menyimpan dan menampilkan data secara real-time!</p><p>Di tahap ini, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra. ðŸŒ±âœ¨</p><p>Yuk, simak langkah-langkah seru di Tahap 3 ini!</p><div><img alt="hortilink-tahap3" loading="lazy" width="1792" height="1024" decoding="async" data-nimg="1" style="color:transparent" src="/static/images/IoT/hortilink-tahap3.webp"/></div><p><strong>Konsep HortiLink Tahap3 - sumber ChatGpt</strong></p><p><a href="https://github.com/slametsampon/HortiLink/tree/main/tahap1">Seluruh update file tahap3 ini bisa dilihat pada github</a></p><hr/><p>Berikut rangkuman Tahap 3 dari proyek HortiLink dengan gaya santai tapi tetap informatif:</p><hr/><p><strong>Tahap 3: Integrasi ESP-Gateway dengan Server Kustom</strong></p><p>Di tahap ini, HortiLink mulai lebih canggih dengan menghubungkan perangkat IoT (ESP-Lora) ke server kustom untuk menangkap dan menampilkan data secara real-time! ðŸŽ‰</p><hr/><ul><li><a href="#11-pengembangan-komunikasi-antar-esp-lora"><strong>1.1 Pengembangan Komunikasi Antar ESP-Lora</strong></a></li><li><a href="#12-pengembangan-server-kustom"><strong>1.2 Pengembangan Server Kustom</strong></a></li><li><a href="#13-pengembangan-dasbor-dan-notifikasi-real-time"><strong>1.3 Pengembangan Dasbor dan Notifikasi Real-Time</strong></a></li><li><a href="#alasan-pemilihan-sub-bab-12-pengembangan-server-kustom">Alasan Pemilihan Sub-Bab 1.2 Pengembangan Server Kustom</a></li><li><a href="#kreteria-rancangan">Kreteria rancangan</a></li><li><a href="#setup-project"><strong>Setup Project</strong></a><ul><li><a href="#lebih-lanjut-eslint--prettier"><strong>Lebih lanjut ESLint &amp; Prettier</strong></a></li><li><a href="#konfigurasi-eslint--prettier"><strong>Konfigurasi ESLint &amp; Prettier</strong></a></li></ul></li><li><a href="#pattern-mvc-dan-atomic-design"><strong>Pattern MVC dan Atomic Design</strong></a></li><li><a href="#otentikasi-dan-otorisasi">Otentikasi dan Otorisasi</a><ul><li><a href="#mengapa-otentikasi-dan-otorisasi-itu-penting">Mengapa Otentikasi dan Otorisasi Itu Penting?</a></li><li><a href="#tujuan-otentikasi-dan-otorisasi-di-hortilink">Tujuan Otentikasi dan Otorisasi di HortiLink</a></li><li><a href="#manfaat-langsung-bagi-hortilink">Manfaat Langsung bagi HortiLink</a></li><li><a href="#1-instalasi-dan-setup-nextauth">1. Instalasi dan Setup NextAuth</a></li><li><a href="#2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose">2. Integrasi NextAuth dengan MongoDB Menggunakan Mongoose</a><ul><li><a href="#21-setup-koneksi-mongodb">2.1 Setup Koneksi MongoDB</a></li><li><a href="#22-membuat-model-user-dengan-role-di-mongodb">2.2 Membuat Model User dengan Role di MongoDB</a></li><li><a href="#23-menyimpan-dan-mengambil-role-dari-database">2.3 Menyimpan dan Mengambil Role dari Database</a></li></ul></li><li><a href="#3-middleware-untuk-proteksi-rute-berdasarkan-role">3. Middleware untuk Proteksi Rute Berdasarkan Role</a><ul><li><a href="#31-konsep-role-based-access-control-rbac">3.1 Konsep Role-Based Access Control (RBAC)</a></li><li><a href="#32-implementasi-middleware-di-nextjs">3.2 Implementasi Middleware di Next.js</a></li><li><a href="#33-menangani-akses-ditolak">3.3 Menangani Akses Ditolak</a></li><li><a href="#34-testing-middleware">3.4 Testing Middleware</a></li></ul></li><li><a href="#4-kontrol-akses-di-komponen-client">4. Kontrol Akses di Komponen Client</a><ul><li><a href="#41-menggunakan-usesession-untuk-kontrol-akses">4.1 Menggunakan <code>useSession</code> untuk Kontrol Akses</a></li><li><a href="#42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role">4.2 Menyembunyikan atau Menampilkan Fitur Berdasarkan Role</a></li></ul></li><li><a href="#5-fitur-lanjutan-redirect-setelah-login-dan-logout">5. Fitur Lanjutan: Redirect Setelah Login dan Logout</a><ul><li><a href="#51-redirect-setelah-login">5.1 Redirect Setelah Login</a></li><li><a href="#52-redirect-setelah-logout">5.2 Redirect Setelah Logout</a></li></ul></li></ul></li><li><a href="#hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya">Hak cipta^1. Artikel ini berdasar ChatGpt &amp; penulis tidak menjamin seluruh akurasi isinya</a></li></ul><hr/><h3 id="11-pengembangan-komunikasi-antar-esp-lora"><a href="#11-pengembangan-komunikasi-antar-esp-lora" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>1.1 Pengembangan Komunikasi Antar ESP-Lora</strong></h3><ul><li><strong>Koneksi ESP-Lora ke Wi-Fi</strong>: Satu ESP-Lora bertindak sebagai jembatan ke server dengan koneksi Wi-Fi, sementara yang lain berkomunikasi melalui LoRa. Jadi, semua data dari sensor tetap terhubung tanpa harus memiliki Wi-Fi di setiap perangkat!</li><li><strong>Protokol Komunikasi</strong>: Kita pakai <strong>MQTT</strong> atau <strong>HTTP</strong> untuk mengirim data dari gateway ke server. <strong>MQTT</strong> ideal untuk kirim data kecil secara berkala, cocok banget buat kebutuhan IoT seperti ini.</li></ul><h3 id="12-pengembangan-server-kustom"><a href="#12-pengembangan-server-kustom" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>1.2 Pengembangan Server Kustom</strong></h3><ul><li><strong>Desain Infrastruktur Server</strong>: Buat server khusus HortiLink yang menerima data dari gateway. Server ini bisa di cloud untuk skalabilitas atau di server lokal jika lebih aman dan sesuai kebutuhan internal.</li><li><strong>Database Time-Series (TSDB)</strong>: Untuk menyimpan data historis sensor, kita gunakan TSDB seperti <strong>InfluxDB</strong>. Dengan ini, kita bisa melacak tren data, misalnya pola kelembapan dan suhu sepanjang waktu.</li></ul><h3 id="13-pengembangan-dasbor-dan-notifikasi-real-time"><a href="#13-pengembangan-dasbor-dan-notifikasi-real-time" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>1.3 Pengembangan Dasbor dan Notifikasi Real-Time</strong></h3><ul><li><strong>Antarmuka Dashboard</strong>: Bangun dasbor real-time yang user-friendly untuk memantau data dari sensor, kontrol perangkat, dan bisa diakses dari mana saja, baik lewat PC maupun mobile.</li><li><strong>Notifikasi dan Alarm</strong>: Fitur ini penting! Secara otomatis, sistem akan mengirimkan notifikasi saat ada parameter yang melewati batas yang telah ditentukan (misalnya pH atau kelembapan rendah), sehingga pengguna bisa cepat bertindak.</li></ul><hr/><h3 id="alasan-pemilihan-sub-bab-12-pengembangan-server-kustom"><a href="#alasan-pemilihan-sub-bab-12-pengembangan-server-kustom" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Alasan Pemilihan Sub-Bab 1.2 Pengembangan Server Kustom</h3><p>Pada <strong>Tahap 3: Integrasi ESP-Gateway dengan Server Kustom</strong>, sub-bab <strong>1.2 Pengembangan Server Kustom</strong> dipilih sebagai fokus utama karena fungsi server yang vital dalam manajemen data sensor, keamanan, dan analisis jangka panjang. Server kustom bukan hanya menjadi pusat pengumpulan data yang diterima dari ESP-Gateway, namun juga berperan dalam menyediakan fondasi untuk pemrosesan data, penyimpanan historis, dan kemudahan akses bagi pengguna akhir.</p><ol><li><p><strong>Sentralisasi Data dan Skalabilitas</strong></p><ul><li>Server kustom dirancang untuk menerima dan menyimpan data secara terpusat, memberikan kontrol penuh atas akses, keamanan, dan performa sistem. Pilihan infrastruktur serverâ€”baik cloud maupun lokalâ€”memastikan fleksibilitas dalam menyesuaikan kapasitas dengan kebutuhan proyek di masa depan, terutama jika ada peningkatan volume data atau penambahan perangkat sensor.</li></ul></li><li><p><strong>Penyimpanan Time-Series untuk Analisis Jangka Panjang</strong></p><ul><li>Menggunakan <strong>Time Series Database (TSDB)</strong> seperti InfluxDB, server ini dapat menyimpan data sensor secara historis, memfasilitasi pemantauan tren serta analisis data jangka panjang. Penyimpanan yang berbasis waktu memungkinkan deteksi pola yang memengaruhi produktivitas, seperti tren kelembapan, suhu, atau konsentrasi nutrisi dalam tanah. Dengan pengelolaan data historis yang baik, sistem dapat menghasilkan laporan dan insight yang mendukung pengambilan keputusan berbasis data.</li></ul></li><li><p><strong>Ketersediaan Data untuk Layanan Real-Time</strong></p><ul><li>Server ini menyediakan data yang terus diperbarui untuk mendukung fitur dasbor dan notifikasi real-time di tahap selanjutnya. Struktur dan penyimpanan data yang efisien memastikan integrasi yang lancar antara sistem dan antarmuka pengguna, memudahkan pemantauan dan pengaturan perangkat dari jarak jauh.</li></ul></li></ol><p>Oleh karena itu, fokus pada <strong>Pengembangan Server Kustom</strong> sebagai pusat penyimpanan dan pengelolaan data di Tahap 3 akan membangun fondasi teknis yang kuat, memungkinkan pengelolaan data yang optimal dan berkelanjutan untuk HortiLink.</p><hr/><h3 id="kreteria-rancangan"><a href="#kreteria-rancangan" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Kreteria rancangan</h3><ol><li>Platform : Next.js versi terbaru dengan typescript serta app-router</li><li>Style : Tailwind css dan flowbite</li><li>Server/hosting : netlify</li><li>Database : MongoDB Atlas, mongose (ODM)</li><li>Integrated Development Editor (IDE) : vs-code</li><li>Memanfaatkan ESLint dan Prettier agar menjaga kode tetap konsisten</li><li>Pattern menggunakan MVC dan atomic design</li></ol><hr/><ul><li><strong>1. Platform: Next.js Versi Terbaru dengan TypeScript dan App Router</strong></li></ul><p>Pemilihan <strong>Next.js</strong> sebagai platform utama didasarkan pada keunggulannya dalam mengembangkan aplikasi web yang cepat, dinamis, dan skalabel. Next.js versi terbaru dilengkapi dengan dukungan <strong>TypeScript</strong> yang memungkinkan penulisan kode yang lebih aman dan bebas dari kesalahan tipe data, yang sangat penting untuk proyek berbasis data seperti HortiLink. Dengan menggunakan <strong>app-router</strong> sebagai pengatur rute utama, aplikasi ini mendapatkan manfaat penuh dari kemampuan server dan client routing yang mulus, mengoptimalkan kinerja dan pengalaman pengguna dalam menjelajahi berbagai fitur.</p><ul><li><strong>2. Style: Tailwind CSS dan Flowbite</strong></li></ul><p>Dalam hal styling dan antarmuka pengguna, <strong>Tailwind CSS</strong> dan <strong>Flowbite</strong> dipilih untuk memberikan pendekatan desain yang fleksibel dan cepat. <strong>Tailwind CSS</strong> adalah framework CSS yang berbasis utility-first, yang memungkinkan pengembang untuk membangun desain yang sepenuhnya responsif dengan efisiensi tinggi. Kombinasi dengan <strong>Flowbite</strong>, komponen UI berbasis Tailwind yang siap pakai, memungkinkan pengembangan antarmuka yang konsisten dan mudah digunakan. Solusi ini memberikan dasar desain yang modern dan responsif, memastikan tampilan yang profesional di berbagai perangkat, termasuk desktop dan mobile.</p><ul><li><strong>3. Server/Hosting: Netlify</strong></li></ul><p><strong>Netlify</strong> dipilih sebagai server hosting untuk mendukung otomatisasi proses build dan deploy. Netlify menyediakan integrasi yang seamless dengan Git, memungkinkan pengembangan dan pengujian berkelanjutan setiap kali ada pembaruan kode. Kemampuan Netlify dalam menangani deployment dengan optimasi untuk static dan server-side rendering di Next.js juga menjadikannya pilihan ideal untuk aplikasi yang memerlukan kecepatan akses tinggi. Selain itu, Netlify mempermudah pengelolaan lingkungan variabel untuk menyimpan kredensial dan API key yang dibutuhkan aplikasi.</p><ul><li><strong>4. Database: MongoDB Atlas dengan Mongoose (ODM)</strong></li></ul><p>Untuk penyimpanan data, <strong>MongoDB Atlas</strong> digunakan sebagai basis data NoSQL yang dikelola di cloud, memberikan skalabilitas tinggi yang diperlukan untuk menangani volume data sensor yang terus meningkat. <strong>Mongoose</strong> sebagai <strong>Object Data Modeling (ODM)</strong> dipilih untuk memberikan struktur data yang lebih ketat pada MongoDB, sehingga memudahkan pengembang dalam memvalidasi, mengelola, dan memanipulasi data di dalam aplikasi. Dengan MongoDB Atlas, aplikasi dapat memanfaatkan keamanan bawaan, backup otomatis, dan replikasi data yang memastikan keandalan dan ketersediaan data secara konsisten.</p><ul><li><strong>5. Integrated Development Editor (IDE): Visual Studio Code</strong></li></ul><p><strong>Visual Studio Code (VS Code)</strong> digunakan sebagai <strong>Integrated Development Environment (IDE)</strong> utama, karena kemudahan penggunaannya, kustomisasi yang tinggi, dan dukungan ekosistem ekstensi yang kaya. VS Code mendukung TypeScript, linting, debugging, dan fitur-fitur produktivitas lainnya, termasuk integrasi langsung dengan Git. Dengan ekstensi tambahan untuk linting dan format, seperti ESLint dan Prettier, serta konektivitas ke MongoDB, VS Code memberikan pengalaman pengembangan yang terintegrasi penuh untuk setiap aspek proyek HortiLink.</p><ul><li><strong>6. Menggunakan ESLint dan Prettier untuk Konsistensi Kode</strong></li></ul><p>Untuk menjaga kualitas dan konsistensi kode, <strong>ESLint</strong> dan <strong>Prettier</strong> diterapkan. <strong>ESLint</strong> berfungsi sebagai linter kode yang mendeteksi potensi kesalahan dan memastikan standar kode yang konsisten, sesuai dengan praktik terbaik. <strong>Prettier</strong> digunakan sebagai alat pemformatan otomatis yang memastikan kode tetap bersih, terstruktur, dan mengikuti gaya penulisan yang seragam. Dengan menerapkan kedua alat ini, proyek HortiLink akan memiliki kode yang lebih mudah dipelihara, dibaca, dan dikembangkan, serta meminimalisir kesalahan sintaks dan ketidakkonsistenan.</p><ul><li><strong>7. Pattern: Menggunakan MVC dan Atomic Design</strong></li></ul><p>Proyek ini menggunakan pendekatan <strong>Model-View-Controller (MVC)</strong> dan <strong>Atomic Design</strong> untuk arsitektur dan desain komponen. <strong>MVC</strong> adalah pola arsitektur yang memisahkan aplikasi menjadi tiga bagian utama:</p><ul><li><strong>Model</strong> untuk mengelola data dan logika bisnis,</li><li><strong>View</strong> untuk antarmuka pengguna,</li><li><strong>Controller</strong> untuk menghubungkan Model dan View, menangani logika aplikasi, dan merespons tindakan pengguna.</li></ul><p>Pola ini memudahkan dalam pengembangan modular dan memungkinkan tim untuk bekerja pada bagian aplikasi secara terpisah tanpa mengganggu keseluruhan sistem.</p><p><strong>Atomic Design</strong>, di sisi lain, adalah pendekatan desain komponen yang memecah antarmuka pengguna menjadi bagian-bagian yang lebih kecil dan dapat digunakan kembali, mulai dari atom (elemen terkecil) hingga organisme (kumpulan komponen kompleks). Dengan menerapkan Atomic Design pada HortiLink, setiap elemen UI menjadi modular, dapat digunakan ulang, dan mudah dikelola, menjadikan antarmuka pengguna lebih konsisten dan fleksibel untuk dikembangkan.</p><hr/><h3 id="setup-project"><a href="#setup-project" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Setup Project</strong></h3><p>Berikut ini adalah langkah-langkah setup awal proyek HortiLink dengan kriteria yang disebutkan, yaitu menggunakan <strong>Next.js</strong> (dengan <strong>TypeScript</strong> dan <strong>app-router</strong>), <strong>Tailwind CSS</strong> serta <strong>Flowbite</strong>, <strong>Netlify</strong> sebagai server hosting, dan <strong>MongoDB Atlas</strong> sebagai database.</p><ul><li><strong>Langkah 1: Membuat Proyek Next.js dengan TypeScript</strong></li></ul><ol><li><p><strong>Instalasi Proyek Next.js dengan TypeScript</strong> Jalankan perintah berikut untuk membuat proyek Next.js baru dengan TypeScript:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line">npx create-next-app@latest hortilink <span class="token parameter variable">--typescript</span>
</span><span class="code-line"><span class="token builtin class-name">cd</span> hortilink
</span></code></pre><p>Proyek ini akan terbuat dengan <code>app-router</code> secara default di Next.js versi terbaru (sejak versi 13).</p></li><li><p><strong>Menjalankan Server Pengembangan</strong> Pastikan semuanya berjalan dengan baik dengan menjalankan:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> run dev
</span></code></pre><p>Akses aplikasi pada <code>http://localhost:3000</code> untuk melihat halaman awal.</p></li></ol><ul><li><strong>Langkah 2: Konfigurasi Tailwind CSS dan Flowbite</strong></li></ul><ol><li><p><strong>Instalasi Tailwind CSS</strong> Instal Tailwind CSS dan dependensi yang diperlukan:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> tailwindcss postcss autoprefixer
</span><span class="code-line">npx tailwindcss init <span class="token parameter variable">-p</span>
</span></code></pre></li><li><p><strong>Konfigurasi Tailwind</strong> Di dalam file <code>tailwind.config.js</code>, tambahkan lokasi file yang akan digunakan untuk menulis CSS:</p><pre class="language-javascript"><code class="code-highlight language-javascript"><span class="code-line"><span class="token comment doc-comment">/** <span class="token keyword">@type</span> <span class="token class-name"><span class="token punctuation">{</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&#x27;tailwindcss&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>Config<span class="token punctuation">}</span></span> */</span>
</span><span class="code-line">module<span class="token punctuation">.</span><span class="token property-access">exports</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property literal-property">content</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token string">&#x27;./app/**/*.{js,ts,jsx,tsx}&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&#x27;./pages/**/*.{js,ts,jsx,tsx}&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&#x27;./components/**/*.{js,ts,jsx,tsx}&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&#x27;./node_modules/flowbite-react/**/*.js&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">theme</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property literal-property">extend</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property literal-property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#x27;flowbite/plugin&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></li><li><p><strong>Buat File CSS Utama</strong> Buat file <code>globals.css</code> di dalam folder <code>styles</code> (gantilah isi file jika sudah ada) dan tambahkan konfigurasi berikut:</p><pre class="language-css"><code class="code-highlight language-css"><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> base<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> components<span class="token punctuation">;</span></span>
</span><span class="code-line"><span class="token atrule"><span class="token rule">@tailwind</span> utilities<span class="token punctuation">;</span></span>
</span></code></pre></li><li><p><strong>Instalasi Flowbite</strong> Tambahkan Flowbite dan Flowbite React:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> flowbite flowbite-react
</span></code></pre></li><li><p><strong>Integrasi Flowbite di Next.js</strong> Import <code>globals.css</code> di file <code>app/layout.tsx</code> agar Tailwind CSS dan Flowbite bisa digunakan di seluruh halaman:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token string">&#x27;../styles/globals.css&#x27;</span>
</span></code></pre></li></ol><ul><li><strong>Langkah 3: Mengatur Koneksi ke MongoDB Atlas</strong></li></ul><ol><li><p><strong>Buat Database di MongoDB Atlas</strong></p><ul><li>Buat akun di <a href="https://www.mongodb.com/cloud/atlas">MongoDB Atlas</a> jika belum punya.</li><li>Buat kluster baru dan tambahkan database bernama <code>hortilink</code>.</li><li>Buat user dan password untuk akses database, dan simpan connection string, misalnya:<pre class="language-js"><code class="code-highlight language-js"><span class="code-line">mongodb<span class="token operator">+</span>srv<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token operator">&lt;</span>username<span class="token operator">&gt;</span><span class="token operator">:</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span>@clustername<span class="token punctuation">.</span><span class="token property-access">mongodb</span><span class="token punctuation">.</span><span class="token property-access">net</span><span class="token operator">/</span>hortilink<span class="token operator">?</span>retryWrites<span class="token operator">=</span><span class="token boolean">true</span><span class="token operator">&amp;</span>w<span class="token operator">=</span>majority
</span></code></pre></li></ul></li><li><p><strong>Instalasi Mongoose untuk Next.js</strong> Instal Mongoose sebagai ODM (Object Data Modeling) untuk menghubungkan aplikasi ke MongoDB:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> mongoose
</span></code></pre></li><li><p><strong>Konfigurasi Koneksi MongoDB</strong> Buat file <code>lib/mongodb.ts</code> untuk mengatur koneksi ke MongoDB:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">MONGODB_URI</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MONGODB_URI</span> <span class="token keyword">as</span> <span class="token builtin">string</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Please define the MONGODB_URI environment variable inside .env.local&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose <span class="token operator">=</span> <span class="token punctuation">{</span> conn<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> promise<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached<span class="token punctuation">.</span>conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">.</span>promise<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">const</span> opts <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">      bufferCommands<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    cached<span class="token punctuation">.</span>promise <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">,</span> opts<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mongoose<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> mongoose
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  cached<span class="token punctuation">.</span>conn <span class="token operator">=</span> <span class="token keyword">await</span> cached<span class="token punctuation">.</span>promise
</span><span class="code-line">  <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> dbConnect
</span></code></pre></li><li><p><strong>Menambahkan Variabel Lingkungan</strong> Buat file <code>.env.local</code> di root proyek, lalu tambahkan connection string MongoDB:</p><pre><code class="code-highlight language-env"><span class="code-line">MONGODB_URI=mongodb+srv://&lt;username&gt;:&lt;password&gt;@clustername.mongodb.net/hortilink?retryWrites=true&amp;w=majority
</span></code></pre></li><li><p><strong>Inisialisasi Database dalam Komponen Next.js</strong> Pada komponen atau halaman yang memerlukan akses ke MongoDB, import <code>dbConnect</code> dan panggil di dalam <code>getServerSideProps</code> atau API route.</p><p>Contoh di API route <code>app/api/sensordata/route.ts</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next/server&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> dbConnect <span class="token keyword">from</span> <span class="token string">&#x27;../../../lib/mongodb&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> SensorData <span class="token keyword">from</span> <span class="token string">&#x27;../../../models/sensorData&#x27;</span> <span class="token comment">// Buat model seperti pada langkah sebelumnya</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token constant">GET</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">await</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> SensorData<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></li></ol><ul><li><strong>Langkah 4: Deploy ke Netlify</strong></li></ul><ol><li><p><strong>Instal Netlify CLI (Opsional)</strong> Instal Netlify CLI jika ingin mengelola deploy melalui terminal:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> netlify-cli
</span></code></pre></li><li><p><strong>Push Proyek ke GitHub atau GitLab</strong> Netlify akan mengambil source code dari repositori GitHub atau GitLab. Pastikan proyek di-push ke repositori.</p></li><li><p><strong>Konfigurasi Build di Netlify</strong></p><ul><li>Masuk ke akun <a href="https://www.netlify.com/">Netlify</a> dan buat proyek baru dengan menghubungkan ke repositori.</li><li>Tambahkan variabel environment <code>MONGODB_URI</code> di pengaturan Netlify, sama seperti yang ada di <code>.env.local</code>.</li></ul></li><li><p><strong>Build Command dan Publish Directory</strong></p><ul><li><strong>Build Command</strong>: <code>npm run build</code></li><li><strong>Publish Directory</strong>: <code>out</code></li></ul></li><li><p><strong>Jalankan Deploy</strong> Netlify akan otomatis membangun dan menerbitkan aplikasi berdasarkan pengaturan ini.</p></li></ol><ul><li><strong>Langkah 5: Pengaturan VS Code</strong></li></ul><ol><li><p><strong>Instalasi Ekstensi VS Code</strong></p><ul><li><strong>Tailwind CSS IntelliSense</strong>: Menambahkan dukungan autocompletion untuk Tailwind CSS.</li><li><strong>ESLint dan Prettier</strong>: Untuk menjaga konsistensi dan kualitas kode.</li><li><strong>MongoDB for VS Code</strong>: Jika ingin mengelola MongoDB langsung dari VS Code.</li></ul></li><li><p><strong>Konfigurasi ESLint dan Prettier</strong> Jika ingin menjaga kode tetap konsisten, tambahkan konfigurasi ESLint dan Prettier dengan TypeScript di proyek Anda. Penggunaan <strong>ESLint</strong> dan <strong>Prettier</strong> sangat membantu dalam pengembangan proyek, terutama dalam menjaga kualitas dan konsistensi kode. Berikut ini fungsi dan keuntungan utama dari keduanya:</p></li></ol><hr/><h4 id="lebih-lanjut-eslint--prettier"><a href="#lebih-lanjut-eslint--prettier" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Lebih lanjut ESLint &amp; Prettier</strong></h4><ul><li><strong>1. ESLint: Fungsi dan Keuntungan</strong></li></ul><p><strong>Fungsi ESLint:</strong></p><ul><li><strong>Linting (Pengecekan Kode)</strong>: ESLint memeriksa kode untuk menemukan dan menandai masalah potensial seperti kesalahan sintaks, penggunaan variabel yang tidak dideklarasikan, atau kode yang tidak digunakan.</li><li><strong>Enforcing Best Practices</strong>: ESLint membantu menjaga standar kode dengan memperingatkan jika ada pola yang tidak sesuai dengan praktik terbaik, misalnya, kesalahan penggunaan React Hooks atau penamaan yang tidak konsisten.</li><li><strong>Mendeteksi Bug Lebih Dini</strong>: Dengan linting otomatis, ESLint dapat mendeteksi bug atau kesalahan kecil sebelum mereka menjadi masalah besar. Misalnya, saat ada variabel yang typo atau tidak diimpor dengan benar.</li></ul><p><strong>Keuntungan ESLint:</strong></p><ul><li><p><strong>Konsistensi Kode</strong>: Dengan aturan yang sama untuk semua pengembang di tim, kode menjadi konsisten dan mudah dibaca.</p></li><li><p><strong>Efisiensi Review Kode</strong>: Mengurangi waktu untuk revisi manual saat review, karena banyak kesalahan sudah diperbaiki oleh ESLint.</p></li><li><p><strong>Mengurangi Bug di Produksi</strong>: Deteksi dini terhadap kesalahan yang mungkin muncul di runtime, sehingga aplikasi lebih stabil dan andal.</p></li><li><p><strong>2. Prettier: Fungsi dan Keuntungan</strong></p><p><strong>Fungsi Prettier:</strong></p><ul><li><strong>Formatter Kode</strong>: Prettier secara otomatis memformat kode agar rapi dan seragam. Ini mencakup aspek seperti penempatan kurung, indentasi, panjang baris, dan penggunaan tanda koma.</li><li><strong>Menghilangkan Debat Gaya Kode</strong>: Dengan Prettier, tim tidak perlu mendebatkan gaya penulisan kode, karena Prettier menerapkan gaya yang sama ke semua bagian kode secara otomatis.</li></ul><p><strong>Keuntungan Prettier:</strong></p><ul><li><strong>Meningkatkan Readability</strong>: Dengan format yang konsisten, kode menjadi lebih mudah dibaca dan dipahami, terutama dalam tim yang besar.</li><li><strong>Hemat Waktu</strong>: Developer tidak perlu memformat kode secara manual, sehingga fokus bisa dialihkan ke pengembangan fitur.</li><li><strong>Konsistensi Estetika</strong>: Mencegah ketidakkonsistenan estetika, seperti indentasi yang tidak seragam atau panjang baris yang berlebihan.</li></ul></li><li><p><strong>Mengapa Menggunakan Keduanya Bersamaan?</strong></p><ul><li><strong>Kolaborasi Optimal</strong>: ESLint menangani masalah kualitas dan praktik terbaik, sementara Prettier menjaga penampilan dan estetika kode. Bersama-sama, keduanya menciptakan standar yang konsisten dan mudah diterapkan oleh semua pengembang di tim.</li><li><strong>Integrasi Otomatis</strong>: Dengan konfigurasi yang tepat, Prettier dapat dijalankan sebagai bagian dari ESLint. Ini memastikan kode bebas dari kesalahan sekaligus tampak rapi secara otomatis, tanpa langkah tambahan.</li></ul><p>Singkatnya, <strong>ESLint</strong> dan <strong>Prettier</strong> bersama-sama membuat proses pengembangan lebih rapi, konsisten, dan minim kesalahan. Ini sangat membantu menjaga kualitas kode di proyek yang berkembang, terutama dalam tim pengembang yang lebih besar.</p></li></ul><hr/><h4 id="konfigurasi-eslint--prettier"><a href="#konfigurasi-eslint--prettier" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Konfigurasi ESLint &amp; Prettier</strong></h4><p>Konfigurasi <strong>ESLint</strong> dan <strong>Prettier</strong> bisa dilakukan dengan mudah, dan sebagian besar bisa diotomatisasi dengan beberapa perintah. Mari ikuti langkah-langkah berikut untuk menyiapkan <strong>ESLint</strong> dan <strong>Prettier</strong> secara otomatis di proyek <strong>Next.js</strong> dengan <strong>TypeScript</strong>.</p><ul><li><p><strong>1. Instalasi ESLint dan Prettier beserta Plugin Pendukung</strong></p><p>Jalankan perintah berikut di terminal proyek untuk menginstal <strong>ESLint</strong>, <strong>Prettier</strong>, dan plugin yang dibutuhkan:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-D</span> eslint prettier eslint-config-prettier eslint-plugin-prettier eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y @typescript-eslint/parser @typescript-eslint/eslint-plugin
</span></code></pre><p>Penjelasan singkat tentang setiap package:</p><ul><li><strong>eslint</strong>: Linter utama untuk mendeteksi dan memperbaiki masalah sintaks.</li><li><strong>prettier</strong>: Formatter untuk menjaga konsistensi kode.</li><li><strong>eslint-config-prettier</strong>: Menonaktifkan aturan ESLint yang bisa bertentangan dengan Prettier.</li><li><strong>eslint-plugin-prettier</strong>: Menjalankan Prettier sebagai aturan ESLint.</li><li><strong>@typescript-eslint/parser</strong> dan <strong>@typescript-eslint/eslint-plugin</strong>: Mendukung linting untuk TypeScript.</li><li><strong>eslint-plugin-react</strong>, <strong>eslint-plugin-react-hooks</strong>, dan <strong>eslint-plugin-jsx-a11y</strong>: Plugin yang disarankan untuk proyek berbasis React agar kodenya lebih sesuai dengan standar aksesibilitas dan praktik terbaik.</li></ul></li><li><p><strong>2. Inisialisasi Konfigurasi ESLint</strong></p><p>Jalankan perintah berikut untuk membuat file konfigurasi <code>.eslintrc.json</code>:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line">npx eslint <span class="token parameter variable">--init</span>
</span></code></pre><p>Saat diminta, pilih opsi berikut:</p><ol><li><strong>How would you like to use ESLint?</strong>: Choose &quot;To check syntax, find problems, and enforce code style&quot;.</li><li><strong>What type of modules does your project use?</strong>: Choose &quot;JavaScript modules (import/export)&quot;.</li><li><strong>Which framework does your project use?</strong>: Choose &quot;React&quot;.</li><li><strong>Does your project use TypeScript?</strong>: Choose &quot;Yes&quot;.</li><li><strong>Where does your code run?</strong>: Choose &quot;Browser&quot;.</li><li><strong>What format do you want your config file to be in?</strong>: Choose &quot;JSON&quot;.</li></ol><p>Setelah selesai, file <code>.eslintrc.json</code> akan dihasilkan, dan kita akan menambahkan beberapa konfigurasi tambahan di langkah berikutnya.</p></li><li><p><strong>3. Menambahkan Konfigurasi ke <code>.eslintrc.json</code></strong></p><p>Edit file <code>.eslintrc.json</code> agar kompatibel dengan Prettier dan TypeScript. Berikut adalah contoh konfigurasi yang lengkap:</p><pre class="language-json"><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;env&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;browser&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;es2021&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;extends&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token string">&quot;eslint:recommended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;plugin:react/recommended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;plugin:@typescript-eslint/recommended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;plugin:react-hooks/recommended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;plugin:jsx-a11y/recommended&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token string">&quot;plugin:prettier/recommended&quot;</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;parser&quot;</span><span class="token operator">:</span> <span class="token string">&quot;@typescript-eslint/parser&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;parserOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;ecmaFeatures&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;ecmaVersion&quot;</span><span class="token operator">:</span> <span class="token string">&quot;latest&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;sourceType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;module&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;react&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;@typescript-eslint&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;prettier&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;rules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;prettier/prettier&quot;</span><span class="token operator">:</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token property">&quot;react/react-in-jsx-scope&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span><span class="token punctuation">,</span> <span class="token comment">// Khusus Next.js, karena React diimpor otomatis</span>
</span><span class="code-line">    <span class="token property">&quot;@typescript-eslint/explicit-module-boundary-types&quot;</span><span class="token operator">:</span> <span class="token string">&quot;off&quot;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;settings&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;react&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;detect&quot;</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p>Konfigurasi ini mengatur ESLint untuk:</p><ul><li>Menggunakan plugin <strong>Prettier</strong> dan menandai error jika kode tidak mengikuti format Prettier.</li><li>Mendukung <strong>React</strong>, <strong>React Hooks</strong>, <strong>JSX Accessibility</strong>, dan <strong>TypeScript</strong> dengan linting yang tepat.</li><li>Menonaktifkan beberapa aturan yang kurang relevan untuk proyek Next.js, seperti impor <code>React</code> secara eksplisit.</li></ul></li><li><p><strong>4. Buat Konfigurasi Prettier</strong></p><p>Buat file konfigurasi <strong>Prettier</strong> dengan nama <code>.prettierrc</code> di root proyek Anda:</p><pre class="language-json"><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;semi&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;singleQuote&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;tabWidth&quot;</span><span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;printWidth&quot;</span><span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;trailingComma&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;arrowParens&quot;</span><span class="token operator">:</span> <span class="token string">&quot;avoid&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p>File ini mengatur gaya format seperti penggunaan titik koma, tanda kutip tunggal, lebar baris, dan lain-lain sesuai preferensi umum.</p></li><li><p><strong>5. Tambahkan Ignore Files</strong></p><p>Agar ESLint dan Prettier tidak memeriksa file yang tidak diperlukan, buat file <code>.eslintignore</code> dan <code>.prettierignore</code> di root proyek. Contoh isi dari kedua file ini:</p><p><strong>.eslintignore</strong></p><pre class="language-js"><code class="code-highlight language-js"><span class="code-line">node_modules<span class="token operator">/</span>
</span><span class="code-line"><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token operator">/</span>
</span><span class="code-line">out<span class="token operator">/</span>
</span></code></pre><p><strong>.prettierignore</strong></p><pre class="language-js"><code class="code-highlight language-js"><span class="code-line">node_modules<span class="token operator">/</span>
</span><span class="code-line"><span class="token punctuation">.</span><span class="token property-access">next</span><span class="token operator">/</span>
</span><span class="code-line">out<span class="token operator">/</span>
</span></code></pre></li><li><p><strong>6. Menambahkan Script di <code>package.json</code></strong></p><p>Tambahkan script berikut di <code>package.json</code> untuk menjalankan ESLint dan Prettier secara otomatis:</p><pre class="language-json"><code class="code-highlight language-json"><span class="code-line"><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line"><span class="token property">&quot;lint&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .js,.jsx,.ts,.tsx&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token property">&quot;lint:fix&quot;</span><span class="token operator">:</span> <span class="token string">&quot;eslint . --ext .js,.jsx,.ts,.tsx --fix&quot;</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token property">&quot;format&quot;</span><span class="token operator">:</span> <span class="token string">&quot;prettier --write .&quot;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><ul><li><strong>lint</strong>: Mengecek kode menggunakan ESLint.</li><li><strong>lint:fix</strong>: Mengecek dan memperbaiki masalah ESLint secara otomatis.</li><li><strong>format</strong>: Menjalankan Prettier untuk memformat seluruh proyek.</li></ul></li><li><p><strong>7. Konfigurasi VS Code untuk Mendukung ESLint dan Prettier</strong></p><p>Instal ekstensi <strong>ESLint</strong> dan <strong>Prettier - Code Formatter</strong> di VS Code untuk mendukung linting dan formatting secara otomatis.</p><p>Tambahkan juga pengaturan berikut di <code>settings.json</code> VS Code untuk mengaktifkan format otomatis saat penyimpanan file:</p><pre class="language-json"><code class="code-highlight language-json"><span class="code-line"><span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property">&quot;editor.formatOnSave&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property">&quot;editor.codeActionsOnSave&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token property">&quot;source.fixAll.eslint&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre></li><li><p><strong>Langkah Tambahan: Memastikan Integrasi Otomatis</strong></p><p>Sekarang Anda dapat menjalankan linting dan format secara otomatis setiap kali menyimpan file di VS Code. Anda juga bisa menjalankan perintah berikut untuk linting dan format manual:</p><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> run lint
</span><span class="code-line"><span class="token function">npm</span> run <span class="token function">format</span>
</span></code></pre></li></ul><hr/><h3 id="pattern-mvc-dan-atomic-design"><a href="#pattern-mvc-dan-atomic-design" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a><strong>Pattern MVC dan Atomic Design</strong></h3><p>Menggabungkan <strong>MVC</strong> dengan <strong>Atomic Design</strong> adalah pilihan yang sangat baik untuk membuat aplikasi seperti <strong>HortiLink</strong> menjadi lebih terstruktur dan terorganisir! Dengan pendekatan ini, kita bisa menjaga logika bisnis dan manajemen data dalam pola <strong>MVC</strong>, sambil merapikan antarmuka pengguna dengan menggunakan <strong>Atomic Design</strong> untuk komponen UI. Ini memberikan struktur kode yang lebih modular dan rapi, terutama ketika berhadapan dengan fitur kompleks dan antarmuka yang kaya.</p><p>Berikut cara mengimplementasikan kombinasi <strong>MVC</strong> dan <strong>Atomic Design</strong> di Next.js:</p><hr/><ul><li><p><strong>1. Konsep Penggabungan MVC dan Atomic Design</strong></p></li><li><p><strong>MVC (Model-View-Controller)</strong>: Fokus pada pemisahan antara data (Model), logika bisnis (Controller), dan tampilan (View). MVC akan mengelola data dan logika aplikasi.</p></li><li><p><strong>Atomic Design</strong>: Struktur desain UI dari komponen kecil (<em>Atoms</em>) hingga komponen kompleks (<em>Molecules</em>, <em>Organisms</em>, <em>Templates</em>, dan <em>Pages</em>). Atomic Design mengatur komponen UI agar reusable dan terstruktur.</p></li><li><p><strong>2. Struktur Folder</strong></p></li></ul><p>Kita akan membagi proyek ke dalam dua bagian utama:</p><ul><li><strong>MVC Structure</strong>: Di sini akan ada folder <code>models</code>, <code>controllers</code>, dan <code>services</code>.</li><li><strong>Atomic Design Structure</strong>: Folder <code>components</code> akan dibagi menjadi <code>atoms</code>, <code>molecules</code>, <code>organisms</code>, <code>templates</code>, dan <code>pages</code>.</li></ul><p>Berikut adalah contoh struktur foldernya:</p><pre class="language-plaintext"><code class="code-highlight language-plaintext"><span class="code-line">hortilink/
</span><span class="code-line">â”œâ”€â”€ app/                        # App Router untuk API dan halaman
</span><span class="code-line">â”‚   â”œâ”€â”€ api/                    # API routes Next.js
</span><span class="code-line">â”‚   â”‚   â”œâ”€â”€ farm/               # API untuk data kebun
</span><span class="code-line">â”‚   â”‚   â””â”€â”€ sensor/             # API untuk data sensor
</span><span class="code-line">â”‚   â”œâ”€â”€ farm/                   # Halaman untuk fitur kebun
</span><span class="code-line">â”‚   â”‚   â””â”€â”€ page.tsx            # Halaman daftar kebun
</span><span class="code-line">â”‚   â””â”€â”€ sensor/                 # Halaman untuk fitur sensor
</span><span class="code-line">â”‚       â””â”€â”€ page.tsx            # Halaman daftar data sensor
</span><span class="code-line">â”œâ”€â”€ components/                 # Atomic Design untuk UI
</span><span class="code-line">â”‚   â”œâ”€â”€ atoms/                  # Komponen terkecil seperti button, input
</span><span class="code-line">â”‚   â”œâ”€â”€ molecules/              # Gabungan atoms, misalnya form field
</span><span class="code-line">â”‚   â”œâ”€â”€ organisms/              # Gabungan molecules, misalnya form atau tabel lengkap
</span><span class="code-line">â”‚   â”œâ”€â”€ templates/              # Layout atau template halaman
</span><span class="code-line">â”‚   â””â”€â”€ pages/                  # Halaman lengkap dengan layout dan komponen
</span><span class="code-line">â”œâ”€â”€ controllers/                # Controller untuk logika bisnis
</span><span class="code-line">â”‚   â”œâ”€â”€ FarmController.ts       # Logika bisnis untuk kebun
</span><span class="code-line">â”‚   â””â”€â”€ SensorController.ts     # Logika bisnis untuk data sensor
</span><span class="code-line">â”œâ”€â”€ models/                     # Model database menggunakan Mongoose
</span><span class="code-line">â”‚   â”œâ”€â”€ FarmModel.ts            # Model data untuk kebun
</span><span class="code-line">â”‚   â””â”€â”€ SensorDataModel.ts      # Model data untuk sensor
</span><span class="code-line">â”œâ”€â”€ services/                   # Service untuk logika umum dan helper
</span><span class="code-line">â”‚   â””â”€â”€ db.ts                   # Koneksi database MongoDB
</span><span class="code-line">â””â”€â”€ utils/                      # Utilitas umum
</span><span class="code-line">    â””â”€â”€ apiHelpers.ts
</span></code></pre><ul><li><p><strong>3. Implementasi MVC</strong></p><ul><li>a. <strong>Model</strong></li></ul><p>Model ini akan berfungsi sebagai representasi data di MongoDB. Misalnya, kita bisa membuat model <code>FarmModel</code> untuk kebun dan <code>SensorDataModel</code> untuk data sensor.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// models/FarmModel.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> mongoose<span class="token punctuation">,</span> <span class="token punctuation">{</span> Schema<span class="token punctuation">,</span> model<span class="token punctuation">,</span> models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> farmSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  luas<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Number<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  lokasi<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  jenisSayuran<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> FarmModel <span class="token operator">=</span> models<span class="token punctuation">.</span>Farm <span class="token operator">||</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#x27;Farm&#x27;</span><span class="token punctuation">,</span> farmSchema<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> FarmModel
</span></code></pre><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// models/SensorDataModel.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> mongoose<span class="token punctuation">,</span> <span class="token punctuation">{</span> Schema<span class="token punctuation">,</span> model<span class="token punctuation">,</span> models <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> sensorDataSchema <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  farmId<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> mongoose<span class="token punctuation">.</span>Schema<span class="token punctuation">.</span>Types<span class="token punctuation">.</span>ObjectId<span class="token punctuation">,</span> ref<span class="token operator">:</span> <span class="token string">&#x27;Farm&#x27;</span><span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  suhu<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Number<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  humidity<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Number<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  ec_tds<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Number<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  timestamp<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> Date<span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> Date<span class="token punctuation">.</span>now <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> SensorDataModel <span class="token operator">=</span> models<span class="token punctuation">.</span>SensorData <span class="token operator">||</span> <span class="token function">model</span><span class="token punctuation">(</span><span class="token string">&#x27;SensorData&#x27;</span><span class="token punctuation">,</span> sensorDataSchema<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> SensorDataModel
</span></code></pre><p><a href="https://slamet-sam.netlify.app/blog/IoT/dataModelHortiLink">Lebih detail terkait data model dengan mongoDB-Mongose</a></p><ul><li>b. <strong>Controller</strong></li></ul><p>Controller akan mengelola logika bisnis. Di Next.js, kita akan memanggil controller ini di dalam API Routes di <code>app/api</code>.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// controllers/FarmController.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> FarmModel <span class="token keyword">from</span> <span class="token string">&#x27;../models/FarmModel&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> dbConnect <span class="token keyword">from</span> <span class="token string">&#x27;../services/db&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">FarmController</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">getAllFarms</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">await</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> FarmModel<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">static</span> <span class="token keyword">async</span> <span class="token function">createFarm</span><span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">await</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token keyword">return</span> FarmModel<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><ul><li>c. <strong>Service Layer</strong></li></ul><p>Tambahkan service untuk koneksi database agar dapat digunakan di seluruh controller:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// services/db.ts</span>
</span><span class="code-line"><span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">MONGODB_URI</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MONGODB_URI</span> <span class="token operator">||</span> <span class="token string">&#x27;&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Please define the MONGODB_URI environment variable&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">let</span> cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose <span class="token operator">=</span> <span class="token punctuation">{</span> conn<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> promise<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">dbConnect</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached<span class="token punctuation">.</span>conn<span class="token punctuation">)</span> <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">.</span>promise<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cached<span class="token punctuation">.</span>promise <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mongoose<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> mongoose<span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  cached<span class="token punctuation">.</span>conn <span class="token operator">=</span> <span class="token keyword">await</span> cached<span class="token punctuation">.</span>promise
</span><span class="code-line">  <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> dbConnect
</span></code></pre></li><li><p><strong>4. Implementasi Atomic Design untuk Komponen UI</strong></p><p>Di sini, kita akan membuat antarmuka pengguna berdasarkan prinsip Atomic Design:</p><ul><li><p><strong>Atoms</strong>: Komponen UI terkecil, seperti tombol atau input.</p></li><li><p><strong>Molecules</strong>: Gabungan beberapa atoms, seperti field input lengkap dengan label.</p></li><li><p><strong>Organisms</strong>: Gabungan beberapa molecules, misalnya tabel yang berisi data sensor atau data kebun.</p></li><li><p><strong>Templates</strong>: Layout atau struktur halaman yang digunakan berulang kali.</p></li><li><p><strong>Pages</strong>: Halaman penuh yang berisi semua komponen dan layout.</p></li><li><p>Contoh Implementasi Komponen Atomic Design</p><ul><li>a. <strong>Atoms</strong></li></ul><p>Misalnya, tombol sederhana <code>Button.tsx</code> di <code>components/atoms</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// components/atoms/Button.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">ButtonProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function function-variable">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line">  className<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> Button<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>ButtonProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> text<span class="token punctuation">,</span> onClick<span class="token punctuation">,</span> className <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>onClick<span class="token punctuation">}</span> className<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token string template-punctuation">`</span><span class="token string">px-4 py-2 bg-blue-500 text-white rounded </span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>className<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string template-punctuation">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token punctuation">{</span>text<span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> Button<span class="token punctuation">;</span>
</span></code></pre><ul><li>b. <strong>Molecules</strong></li></ul><p>Field input yang lebih kompleks dengan label di <code>components/molecules/InputField.tsx</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// components/molecules/InputField.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">InputFieldProps</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  label<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token function function-variable">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span>e<span class="token operator">:</span> React<span class="token punctuation">.</span>ChangeEvent<span class="token operator">&lt;</span>HTMLInputElement<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> InputField<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span>InputFieldProps<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> label<span class="token punctuation">,</span> value<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>label className<span class="token operator">=</span><span class="token string">&quot;block text-gray-700 text-sm font-bold mb-2&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>label<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>input
</span><span class="code-line">      type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span>
</span><span class="code-line">      value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
</span><span class="code-line">      onChange<span class="token operator">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span>
</span><span class="code-line">      className<span class="token operator">=</span><span class="token string">&quot;border rounded py-2 px-3 w-full&quot;</span>
</span><span class="code-line">    <span class="token operator">/</span><span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> InputField<span class="token punctuation">;</span>
</span></code></pre><ul><li>c. <strong>Organisms</strong></li></ul><p>Tabel data sensor di <code>components/organisms/SensorTable.tsx</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// components/organisms/SensorTable.tsx</span>
</span><span class="code-line"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">&#x27;react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">type</span> <span class="token class-name">SensorData</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  _id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line">  suhu<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  humidity<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  ec_tds<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
</span><span class="code-line">  timestamp<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> SensorTable<span class="token operator">:</span> React<span class="token punctuation">.</span><span class="token constant">FC</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> data<span class="token operator">:</span> SensorData<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token operator">&lt;</span>table className<span class="token operator">=</span><span class="token string">&quot;table-auto w-full&quot;</span><span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>thead<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>tr<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>Suhu<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>Humidity<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span><span class="token constant">EC</span><span class="token operator">/</span><span class="token constant">TDS</span><span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>th<span class="token operator">&gt;</span>Timestamp<span class="token operator">&lt;</span><span class="token operator">/</span>th<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>thead<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>tbody<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">{</span>data<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sensor<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>tr key<span class="token operator">=</span><span class="token punctuation">{</span>sensor<span class="token punctuation">.</span>_id<span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span>sensor<span class="token punctuation">.</span>suhu<span class="token punctuation">}</span>Â°<span class="token constant">C</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span>sensor<span class="token punctuation">.</span>humidity<span class="token punctuation">}</span><span class="token operator">%</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span>sensor<span class="token punctuation">.</span>ec_tds<span class="token punctuation">}</span> Âµ<span class="token constant">S</span><span class="token operator">/</span>cm<span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>td<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span>sensor<span class="token punctuation">.</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLocaleString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>td<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>tbody<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">&gt;</span>
</span><span class="code-line"><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> SensorTable<span class="token punctuation">;</span>
</span></code></pre></li></ul></li></ul><hr/><ul><li><strong>5. Mengintegrasikan di Halaman</strong></li></ul><p>Di <strong>App Router</strong>, kita bisa menggunakan struktur ini dalam halaman <code>app/farm/page.tsx</code> atau <code>app/sensor/page.tsx</code>, menggabungkan komponen dari Atomic Design dan mengakses data melalui controller.</p><hr/><p>Tentu, berikut adalah kerangka bab beserta outline untuk bagian <strong>Otentikasi dan Otorisasi</strong> pada proyek situs HortiLink. Kerangka ini bisa membantu menyusun penjelasan yang sistematis dan komprehensif, mulai dari pengenalan hingga implementasi praktis dengan NextAuth, MongoDB, dan middleware untuk proteksi rute berdasarkan role.</p><hr/><h3 id="otentikasi-dan-otorisasi"><a href="#otentikasi-dan-otorisasi" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Otentikasi dan Otorisasi</h3><p>Dalam aplikasi modern, terutama yang melibatkan data sensitif atau fungsi penting seperti HortiLink, <strong>otentikasi</strong> dan <strong>otorisasi</strong> adalah dua pilar yang tak bisa diabaikan. Keduanya berfungsi sebagai gerbang keamanan utama yang memastikan siapa saja yang mengakses aplikasi memang benar-benar pengguna yang memiliki izin. Otentikasi dan otorisasi adalah kunci untuk menjaga data dan fungsionalitas tetap aman dari akses yang tidak sah. Mari kita bahas satu per satu kenapa ini penting dan bagaimana kita menerapkannya di HortiLink.</p><h4 id="mengapa-otentikasi-dan-otorisasi-itu-penting"><a href="#mengapa-otentikasi-dan-otorisasi-itu-penting" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Mengapa Otentikasi dan Otorisasi Itu Penting?</h4><ol><li><p><strong>Melindungi Data dan Fungsi Kritikal</strong></p><ul><li>Bayangkan sebuah aplikasi tanpa kontrol keamanan. Semua orang bisa masuk dan melihat data penting tanpa batasan. Bagi HortiLink, aplikasi yang menangani data operasional dan teknis, membuka akses tanpa filter bisa menimbulkan risiko besar, baik dari segi keamanan maupun stabilitas aplikasi.</li><li>Otentikasi memastikan bahwa yang masuk ke aplikasi hanyalah orang-orang yang memiliki akun yang valid, bukan sembarang orang. Sementara itu, otorisasi memastikan bahwa hanya pengguna tertentu yang bisa mengakses data atau fungsi tertentu, tergantung pada peran dan izin mereka.</li></ul></li><li><p><strong>Membatasi Akses Berdasarkan Peran</strong></p><ul><li>Di HortiLink, kita akan memiliki berbagai jenis pengguna: <strong>Admin</strong>, <strong>Engineer</strong>, <strong>Teknisi/Operator</strong>, dan <strong>Guest</strong>. Setiap peran ini punya hak dan akses berbeda-beda.</li><li>Misalnya, <strong>Admin</strong> mungkin bisa mengakses dan mengubah segala hal, dari data pengguna hingga pengaturan sistem. <strong>Engineer</strong> hanya bisa mengakses data teknis, sedangkan <strong>Operator</strong> mungkin hanya perlu mengakses data operasional tertentu. Dengan otorisasi berbasis role, kita bisa memastikan setiap pengguna memiliki akses yang sesuai, tanpa risiko membuka data kritikal kepada orang yang tidak berhak.</li></ul></li></ol><h4 id="tujuan-otentikasi-dan-otorisasi-di-hortilink"><a href="#tujuan-otentikasi-dan-otorisasi-di-hortilink" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Tujuan Otentikasi dan Otorisasi di HortiLink</h4><p>Di sinilah <strong>NextAuth</strong> masuk sebagai sistem otentikasi, yaitu proses yang memungkinkan pengguna login dengan akun masing-masing. Selain memudahkan proses login, NextAuth mendukung berbagai metode otentikasi, termasuk melalui akun sosial media (seperti Google dan GitHub) dan login berbasis email dan password. Dengan NextAuth, pengguna dapat dengan mudah masuk ke dalam aplikasi, dan kita bisa memastikan mereka benar-benar adalah pengguna yang terdaftar.</p><p>Kemudian, untuk otorisasi berbasis role, kita akan menggunakan <strong>middleware</strong> yang akan mengelola izin akses setiap pengguna berdasarkan perannya. Artinya, setelah pengguna berhasil login, middleware ini akan memeriksa apakah mereka memiliki hak yang sesuai untuk mengakses halaman atau fitur tertentu di aplikasi.</p><h4 id="manfaat-langsung-bagi-hortilink"><a href="#manfaat-langsung-bagi-hortilink" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Manfaat Langsung bagi HortiLink</h4><ol><li><p><strong>Keamanan Data yang Lebih Baik</strong></p><ul><li>Dengan otentikasi yang kuat dan kontrol otorisasi, data sensitif, seperti data teknis perangkat atau informasi operasional yang spesifik, hanya dapat diakses oleh pengguna yang tepat. Ini memastikan bahwa data selalu aman dan mencegah akses yang tidak sah.</li></ul></li><li><p><strong>Pengalaman Pengguna yang Disesuaikan</strong></p><ul><li>Dengan menerapkan otorisasi berbasis role, setiap pengguna akan merasa bahwa aplikasi disesuaikan untuk peran mereka. Seorang teknisi hanya akan melihat bagian yang relevan dengan tugas operasional mereka, sementara admin akan mendapatkan akses ke semua data dan pengaturan yang mereka perlukan.</li></ul></li><li><p><strong>Menghindari Beban Teknis di Server</strong></p><ul><li>Membatasi akses tidak hanya soal keamanan, tetapi juga efisiensi. Dengan memastikan pengguna hanya bisa mengakses halaman dan fungsi yang mereka butuhkan, kita bisa mengurangi beban di server dan meningkatkan performa aplikasi secara keseluruhan.</li></ul></li></ol><p>Jadi, dengan otentikasi dan otorisasi yang diterapkan melalui NextAuth dan middleware, HortiLink tidak hanya menjadi aplikasi yang aman tetapi juga efisien dan ramah pengguna. Setiap pengguna dapat menjalankan tugas mereka dengan tepat dan cepat, tanpa harus berurusan dengan data atau fungsi yang tidak relevan.</p><hr/><h4 id="1-instalasi-dan-setup-nextauth"><a href="#1-instalasi-dan-setup-nextauth" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>1. Instalasi dan Setup NextAuth</h4><p>Pada bagian ini, akan dijelaskan langkah-langkah menginstal dan melakukan konfigurasi dasar NextAuth pada aplikasi HortiLink. NextAuth akan digunakan sebagai sistem otentikasi utama untuk mengelola login pengguna dan sesi aplikasi.</p><ul><li><p>1.1 Pengantar NextAuth NextAuth adalah library otentikasi yang dirancang khusus untuk aplikasi Next.js. NextAuth memberikan solusi otentikasi yang mudah dan fleksibel dengan mendukung berbagai metode otentikasi, termasuk OAuth (misalnya Google, Facebook, GitHub) dan login berbasis email dan password.</p><p><strong>Kelebihan NextAuth</strong>:</p><ol><li><strong>Dukungan Berbagai Provider</strong>: NextAuth mendukung banyak provider otentikasi (Google, Facebook, GitHub, dll.), sehingga memudahkan pengguna untuk login menggunakan akun sosial media mereka.</li><li><strong>Sistem Berbasis JSON Web Tokens (JWT)</strong>: Menggunakan JWT, NextAuth mampu mengelola sesi secara aman di client-side dan server-side, yang sangat cocok untuk aplikasi yang membutuhkan otentikasi lintas platform.</li><li><strong>Fleksibilitas Callback</strong>: NextAuth menyediakan berbagai callback yang memungkinkan kita untuk menyesuaikan proses otentikasi dan manajemen sesi sesuai kebutuhan aplikasi, termasuk penambahan data khusus seperti peran (role) pengguna.</li></ol></li><li><p>1.2 Instalasi NextAuth Untuk memulai penggunaan NextAuth, lakukan instalasi library <code>next-auth</code> pada proyek Next.js dengan menggunakan perintah berikut:</p></li></ul><pre class="language-bash"><code class="code-highlight language-bash"><span class="code-line"><span class="token function">npm</span> <span class="token function">install</span> next-auth
</span></code></pre><p>Setelah instalasi selesai, NextAuth siap untuk dikonfigurasi sebagai sistem otentikasi di HortiLink.</p><ul><li><p>1.3 Konfigurasi Dasar NextAuth Konfigurasi dasar NextAuth mencakup beberapa hal: menentukan provider otentikasi, menambahkan dukungan login berbasis username/password, serta mengatur callback untuk pengelolaan sesi. Berikut adalah penjelasan detail dari setiap langkah konfigurasi.</p></li><li><p>a. Menentukan Provider OAuth Langkah pertama adalah menentukan provider yang akan digunakan dalam otentikasi. Pada contoh ini, kita akan mengkonfigurasi Google, Facebook, dan GitHub sebagai provider login.</p><ol><li>Buat file konfigurasi NextAuth di <code>app/api/auth/[...nextauth]/route.ts</code>. Pastikan struktur file ini sesuai dengan arsitektur Next.js yang menggunakan App Router.</li><li>Tambahkan konfigurasi setiap provider sebagai berikut:</li></ol><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/api/auth/[...nextauth]/route.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> NextAuth <span class="token keyword">from</span> <span class="token string">&#x27;next-auth&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> GoogleProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/google&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> FacebookProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/facebook&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> GitHubProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/github&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> CredentialsProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/credentials&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> authOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token function">GoogleProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      clientId<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_CLIENT_ID</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">      clientSecret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_CLIENT_SECRET</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function">FacebookProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      clientId<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">FACEBOOK_CLIENT_ID</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">      clientSecret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">FACEBOOK_CLIENT_SECRET</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function">GitHubProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      clientId<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GITHUB_CLIENT_ID</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">      clientSecret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GITHUB_CLIENT_SECRET</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token comment">// Konfigurasi tambahan untuk pengelolaan sesi akan ditambahkan pada langkah berikut</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token function">NextAuth</span><span class="token punctuation">(</span>authOptions<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token punctuation">{</span> handler <span class="token keyword">as</span> <span class="token constant">GET</span><span class="token punctuation">,</span> handler <span class="token keyword">as</span> <span class="token constant">POST</span> <span class="token punctuation">}</span>
</span></code></pre><ol start="3"><li>Pastikan Anda telah menambahkan variabel <code>GOOGLE_CLIENT_ID</code>, <code>GOOGLE_CLIENT_SECRET</code>, <code>FACEBOOK_CLIENT_ID</code>, <code>FACEBOOK_CLIENT_SECRET</code>, <code>GITHUB_CLIENT_ID</code>, dan <code>GITHUB_CLIENT_SECRET</code> pada file <code>.env.local</code> di root proyek Next.js.</li></ol></li><li><p>b. Menambahkan Login Berbasis Username dan Password dengan Credentials Provider Selain menggunakan provider OAuth, NextAuth juga mendukung login berbasis username dan password menggunakan <strong>Credentials Provider</strong>. Ini sangat bermanfaat jika aplikasi HortiLink juga ingin menyediakan opsi login khusus dengan email dan password.</p></li></ul><p>Tambahkan konfigurasi <code>CredentialsProvider</code> pada array <code>providers</code> di <code>authOptions</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Lanjutan dari kode sebelumnya di app/api/auth/[...nextauth]/route.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token function">CredentialsProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token string">&#x27;Credentials&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">  credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    username<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#x27;Username&#x27;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&#x27;text&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    password<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#x27;Password&#x27;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&#x27;password&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">authorize</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Logika otentikasi username/password</span>
</span><span class="code-line">    <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token punctuation">{</span> id<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> name<span class="token operator">:</span> <span class="token string">&#x27;user&#x27;</span><span class="token punctuation">,</span> email<span class="token operator">:</span> <span class="token string">&#x27;user@example.com&#x27;</span> <span class="token punctuation">}</span> <span class="token comment">// Contoh pengguna statis</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Verifikasi user dari database atau layanan lain di sini</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> <span class="token builtin">Promise</span><span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></code></pre><p>Dengan menambahkan <code>CredentialsProvider</code>, pengguna dapat melakukan login menggunakan kombinasi username dan password. <strong>Catatan</strong>: pada aplikasi produksi, logika <code>authorize</code> harus diubah agar memvalidasi username/password dari basis data atau sumber lain yang sesuai.</p><ul><li>c. Mengatur Callback NextAuth untuk Pengelolaan Sesi dengan JSON Web Tokens (JWT) NextAuth memungkinkan kita untuk mengelola sesi menggunakan <strong>JWT</strong>. Kita dapat menambahkan callback <code>jwt</code> dan <code>session</code> untuk menyimpan informasi tambahan di token sesi pengguna, seperti peran (role) pengguna atau ID pengguna.</li></ul><p>Tambahkan konfigurasi berikut pada <code>authOptions</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// Lanjutan dari konfigurasi di app/api/auth/[...nextauth]/route.ts</span>
</span><span class="code-line">
</span><span class="code-line">callbacks<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">jwt</span><span class="token punctuation">(</span><span class="token punctuation">{</span> token<span class="token punctuation">,</span> user <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Tambahkan data user ke token saat login pertama kali</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      token<span class="token punctuation">.</span>id <span class="token operator">=</span> user<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</span><span class="code-line">      token<span class="token punctuation">.</span>role <span class="token operator">=</span> user<span class="token punctuation">.</span>role <span class="token operator">||</span> <span class="token string">&#x27;user&#x27;</span><span class="token punctuation">;</span> <span class="token comment">// Menambahkan role default jika tidak ada</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token keyword">return</span> token<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token keyword">async</span> <span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> session<span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Tambahkan data dari token ke dalam sesi</span>
</span><span class="code-line">    session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>id <span class="token operator">=</span> token<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
</span><span class="code-line">    session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">=</span> token<span class="token punctuation">.</span>role<span class="token punctuation">;</span>
</span><span class="code-line">    <span class="token keyword">return</span> session<span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">session<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">  strategy<span class="token operator">:</span> <span class="token string">&#x27;jwt&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// Gunakan JWT untuk mengelola sesi</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">,</span>
</span></code></pre><p><strong>Penjelasan:</strong></p><ul><li><strong>Callback <code>jwt</code></strong>: Callback ini menambahkan data ke JWT setiap kali sesi pengguna diperbarui. Di sini, kita menambahkan <code>user.id</code> dan <code>user.role</code> ke dalam token.</li><li><strong>Callback <code>session</code></strong>: Callback ini menambahkan data dari token JWT ke dalam sesi pengguna, sehingga data ini bisa diakses di seluruh aplikasi.</li><li><strong><code>strategy: &#x27;jwt&#x27;</code></strong>: Menginstruksikan NextAuth untuk menggunakan JWT sebagai strategi penyimpanan sesi.</li></ul><p>Dengan konfigurasi ini, aplikasi HortiLink siap menggunakan NextAuth untuk otentikasi, mendukung beberapa provider, login berbasis username/password, dan manajemen sesi berbasis JWT.</p><hr/><h4 id="2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose"><a href="#2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2. Integrasi NextAuth dengan MongoDB Menggunakan Mongoose</h4><p>Pada bagian ini, akan dibahas cara mengintegrasikan <strong>NextAuth</strong> dengan <strong>MongoDB</strong> menggunakan <strong>Mongoose</strong> sebagai ODM (Object-Document Mapping). Integrasi ini diperlukan untuk menyimpan data pengguna secara persisten, termasuk informasi penting seperti role pengguna, yang digunakan dalam otorisasi akses pada aplikasi HortiLink.</p><h5 id="21-setup-koneksi-mongodb"><a href="#21-setup-koneksi-mongodb" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2.1 Setup Koneksi MongoDB</h5><p>Agar aplikasi dapat terhubung dengan MongoDB, kita perlu membuat file koneksi dan mengatur variabel lingkungan yang diperlukan untuk akses ke database MongoDB.</p><ul><li>a. Membuat File <code>mongodb.ts</code> untuk Koneksi dengan Mongoose</li></ul><p>Buat file <code>mongodb.ts</code> di dalam folder <code>lib/</code> atau folder lain yang sesuai di dalam proyek. File ini akan mengelola koneksi MongoDB, memastikan hanya satu koneksi yang digunakan selama aplikasi berjalan. Pendekatan ini juga membantu menghindari masalah koneksi ulang yang tidak diperlukan, terutama saat menggunakan fitur <strong>Fast Refresh</strong> di Next.js.</p><p>Berikut adalah contoh implementasi file <code>mongodb.ts</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// lib/mongodb.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> mongoose <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">MONGODB_URI</span> <span class="token operator">=</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">MONGODB_URI</span> <span class="token keyword">as</span> <span class="token builtin">string</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&#x27;Please define the MONGODB_URI environment variable inside .env.local&#x27;</span><span class="token punctuation">)</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Caching koneksi agar tidak membuat koneksi baru saat Fast Refresh</span>
</span><span class="code-line"><span class="token keyword">let</span> cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  cached <span class="token operator">=</span> global<span class="token punctuation">.</span>mongoose <span class="token operator">=</span> <span class="token punctuation">{</span> conn<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> promise<span class="token operator">:</span> <span class="token keyword">null</span> <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">connectToDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>cached<span class="token punctuation">.</span>conn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>cached<span class="token punctuation">.</span>promise<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    cached<span class="token punctuation">.</span>promise <span class="token operator">=</span> mongoose<span class="token punctuation">.</span><span class="token function">connect</span><span class="token punctuation">(</span><span class="token constant">MONGODB_URI</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>mongoose<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> mongoose
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">  cached<span class="token punctuation">.</span>conn <span class="token operator">=</span> <span class="token keyword">await</span> cached<span class="token punctuation">.</span>promise
</span><span class="code-line">  <span class="token keyword">return</span> cached<span class="token punctuation">.</span>conn
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> connectToDatabase
</span></code></pre><p><strong>Penjelasan:</strong></p><ul><li><p><code>MONGODB_URI</code> adalah variabel lingkungan yang berisi URL koneksi ke MongoDB.</p></li><li><p>Fungsi <code>connectToDatabase</code> memastikan koneksi hanya dibuat satu kali selama aplikasi berjalan, dan koneksi ini disimpan dalam cache (<code>cached.conn</code>).</p></li><li><p>Pendekatan ini membantu mengurangi masalah koneksi yang berlebihan, terutama dalam lingkungan pengembangan.</p></li><li><p>b. Pengaturan Environment Variable untuk Koneksi MongoDB</p></li></ul><p>Tambahkan variabel lingkungan <code>MONGODB_URI</code> di file <code>.env.local</code> pada root proyek. Nilainya adalah URI koneksi MongoDB yang sesuai dengan pengaturan database yang digunakan.</p><pre><code class="code-highlight language-env"><span class="code-line">MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/mydatabase
</span></code></pre><p>Gantilah <code>username</code>, <code>password</code>, dan <code>mydatabase</code> sesuai dengan kredensial dan nama database yang digunakan.</p><h5 id="22-membuat-model-user-dengan-role-di-mongodb"><a href="#22-membuat-model-user-dengan-role-di-mongodb" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2.2 Membuat Model User dengan Role di MongoDB</h5><p>Selanjutnya, kita perlu membuat model <strong>User</strong> di MongoDB yang mencakup informasi seperti nama, email, dan role pengguna. Model ini akan membantu mengelola dan mengakses data pengguna di seluruh aplikasi, khususnya untuk keperluan otorisasi.</p><ul><li>a. Membuat Skema User Menggunakan Mongoose</li></ul><p>Buat file <code>User.ts</code> di dalam folder <code>models</code> untuk mendefinisikan skema Mongoose yang mencakup field <code>role</code>. Berikut ini adalah contoh skema pengguna dengan field dasar yang diperlukan.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// models/User.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> mongoose<span class="token punctuation">,</span> <span class="token punctuation">{</span> Schema<span class="token punctuation">,</span> Document<span class="token punctuation">,</span> Model <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;mongoose&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">IUser</span> <span class="token keyword">extends</span> <span class="token class-name">Document</span> <span class="token punctuation">{</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  email<span class="token operator">:</span> <span class="token builtin">string</span>
</span><span class="code-line">  role<span class="token operator">:</span> <span class="token string">&#x27;admin&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;engineer&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;operator&#x27;</span> <span class="token operator">|</span> <span class="token string">&#x27;guest&#x27;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> userSchema<span class="token operator">:</span> Schema<span class="token operator">&lt;</span>IUser<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Schema</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">  name<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  email<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> required<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> unique<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  role<span class="token operator">:</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> String<span class="token punctuation">,</span> <span class="token keyword">enum</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;operator&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;guest&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">&#x27;guest&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> User<span class="token operator">:</span> Model<span class="token operator">&lt;</span>IUser<span class="token operator">&gt;</span> <span class="token operator">=</span> mongoose<span class="token punctuation">.</span>models<span class="token punctuation">.</span>User <span class="token operator">||</span> mongoose<span class="token punctuation">.</span><span class="token generic-function"><span class="token function">model</span><span class="token class-name generic"><span class="token operator">&lt;</span>IUser<span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token string">&#x27;User&#x27;</span><span class="token punctuation">,</span> userSchema<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> User
</span></code></pre><p><strong>Penjelasan:</strong></p><ul><li><strong>Field <code>name</code></strong>: Menyimpan nama pengguna, bersifat wajib (<code>required: true</code>).</li><li><strong>Field <code>email</code></strong>: Menyimpan email pengguna yang harus unik (<code>unique: true</code>) untuk setiap pengguna.</li><li><strong>Field <code>role</code></strong>: Menyimpan role pengguna dengan opsi <code>enum</code>, yaitu hanya menerima nilai &#x27;admin&#x27;, &#x27;engineer&#x27;, &#x27;operator&#x27;, atau &#x27;guest&#x27;. Role default adalah &#x27;guest&#x27;.</li></ul><p>Dengan model ini, kita bisa menyimpan dan mengelola pengguna di MongoDB serta memberikan role tertentu yang akan digunakan untuk keperluan otorisasi.</p><h5 id="23-menyimpan-dan-mengambil-role-dari-database"><a href="#23-menyimpan-dan-mengambil-role-dari-database" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>2.3 Menyimpan dan Mengambil Role dari Database</h5><p>Dalam otentikasi NextAuth, kita bisa menggunakan callback <code>jwt</code> dan <code>session</code> untuk menambahkan data role dari database MongoDB ke dalam token sesi. Ini memungkinkan kita untuk memanfaatkan role pengguna di seluruh aplikasi, baik untuk proteksi rute maupun pembatasan akses di bagian-bagian tertentu aplikasi.</p><ul><li>a. Konfigurasi <code>authOptions</code> di NextAuth untuk Menyimpan Role</li></ul><p>Agar data role dari MongoDB tersimpan di token dan sesi pengguna, tambahkan konfigurasi <code>authOptions</code> berikut:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/api/auth/[...nextauth]/route.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> NextAuth <span class="token keyword">from</span> <span class="token string">&#x27;next-auth&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> GoogleProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/google&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> CredentialsProvider <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/providers/credentials&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> connectToDatabase <span class="token keyword">from</span> <span class="token string">&#x27;@/lib/mongodb&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">&#x27;@/models/User&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> authOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  providers<span class="token operator">:</span> <span class="token punctuation">[</span>
</span><span class="code-line">    <span class="token function">GoogleProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      clientId<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_CLIENT_ID</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">      clientSecret<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">GOOGLE_CLIENT_SECRET</span><span class="token operator">!</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token function">CredentialsProvider</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
</span><span class="code-line">      name<span class="token operator">:</span> <span class="token string">&#x27;Credentials&#x27;</span><span class="token punctuation">,</span>
</span><span class="code-line">      credentials<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">        email<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#x27;Email&#x27;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&#x27;text&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">        password<span class="token operator">:</span> <span class="token punctuation">{</span> label<span class="token operator">:</span> <span class="token string">&#x27;Password&#x27;</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">&#x27;password&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">      <span class="token keyword">async</span> <span class="token function">authorize</span><span class="token punctuation">(</span>credentials<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// Otentikasi username/password</span>
</span><span class="code-line">        <span class="token keyword">await</span> <span class="token function">connectToDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email<span class="token operator">:</span> credentials<span class="token operator">?.</span>email <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">return</span> user
</span><span class="code-line">        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">return</span> <span class="token keyword">null</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line">  callbacks<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">async</span> <span class="token function">jwt</span><span class="token punctuation">(</span><span class="token punctuation">{</span> token<span class="token punctuation">,</span> user <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">await</span> <span class="token function">connectToDatabase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token comment">// Ambil data user dari database saat user login</span>
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>user<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> dbUser <span class="token operator">=</span> <span class="token keyword">await</span> User<span class="token punctuation">.</span><span class="token function">findOne</span><span class="token punctuation">(</span><span class="token punctuation">{</span> email<span class="token operator">:</span> user<span class="token punctuation">.</span>email <span class="token punctuation">}</span><span class="token punctuation">)</span>
</span><span class="code-line">        token<span class="token punctuation">.</span>role <span class="token operator">=</span> dbUser<span class="token operator">?.</span>role <span class="token operator">||</span> <span class="token string">&#x27;guest&#x27;</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token keyword">return</span> token
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">    <span class="token keyword">async</span> <span class="token function">session</span><span class="token punctuation">(</span><span class="token punctuation">{</span> session<span class="token punctuation">,</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Menyimpan role dari token ke session</span>
</span><span class="code-line">      session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">=</span> token<span class="token punctuation">.</span>role
</span><span class="code-line">      <span class="token keyword">return</span> session
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  session<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    strategy<span class="token operator">:</span> <span class="token string">&#x27;jwt&#x27;</span><span class="token punctuation">,</span> <span class="token comment">// Menggunakan JWT untuk manajemen sesi</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> handler <span class="token operator">=</span> <span class="token function">NextAuth</span><span class="token punctuation">(</span>authOptions<span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token punctuation">{</span> handler <span class="token keyword">as</span> <span class="token constant">GET</span><span class="token punctuation">,</span> handler <span class="token keyword">as</span> <span class="token constant">POST</span> <span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan Konfigurasi</strong>:</p><ul><li><strong>Callback <code>authorize</code> di CredentialsProvider</strong>: Digunakan untuk memvalidasi pengguna yang login menggunakan username dan password. Fungsi ini memeriksa email pengguna di MongoDB, dan jika ditemukan, user tersebut dikembalikan untuk melanjutkan sesi login.</li><li><strong>Callback <code>jwt</code></strong>: Setiap kali pengguna login atau sesi mereka diperbarui, callback ini akan menambahkan data <code>role</code> dari database MongoDB ke dalam token JWT.</li><li><strong>Callback <code>session</code></strong>: Callback ini menambahkan data role dari token ke dalam sesi. Dengan begitu, role pengguna dapat diakses di seluruh aplikasi melalui sesi pengguna.</li></ul><p>Dengan konfigurasi ini, NextAuth dapat menyimpan role dari database MongoDB ke dalam sesi pengguna, memungkinkan aplikasi untuk menentukan hak akses pengguna secara otomatis.</p><hr/><h4 id="3-middleware-untuk-proteksi-rute-berdasarkan-role"><a href="#3-middleware-untuk-proteksi-rute-berdasarkan-role" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3. Middleware untuk Proteksi Rute Berdasarkan Role</h4><p>Bagian ini akan menjelaskan penerapan <strong>Role-Based Access Control (RBAC)</strong> di aplikasi HortiLink menggunakan <strong>middleware Next.js</strong>. RBAC memungkinkan kita untuk membatasi akses ke halaman-halaman tertentu berdasarkan role pengguna, memastikan hanya pengguna dengan izin yang sesuai yang dapat mengakses halaman atau fitur tertentu.</p><h5 id="31-konsep-role-based-access-control-rbac"><a href="#31-konsep-role-based-access-control-rbac" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3.1 Konsep Role-Based Access Control (RBAC)</h5><p><strong>Role-Based Access Control (RBAC)</strong> adalah sistem manajemen akses yang menentukan hak akses pengguna berdasarkan peran (role) mereka. RBAC membantu memastikan bahwa setiap pengguna hanya dapat mengakses halaman atau fitur yang sesuai dengan peran mereka dalam aplikasi.</p><p>Dalam aplikasi HortiLink, ada empat peran utama:</p><ol><li><strong>Admin</strong>: Memiliki akses penuh ke semua halaman dan fitur.</li><li><strong>Engineer</strong>: Memiliki akses ke halaman teknis dan manajemen perangkat, tetapi tidak ke halaman administrasi.</li><li><strong>Operator</strong>: Memiliki akses terbatas hanya ke halaman pengoperasian perangkat.</li><li><strong>Guest</strong>: Hanya memiliki akses ke halaman umum yang tidak memerlukan login.</li></ol><p>Untuk implementasi RBAC, kita akan menggunakan <strong>middleware</strong> untuk memeriksa role pengguna dan membandingkannya dengan level akses yang dibutuhkan setiap halaman. Middleware akan membatasi akses secara otomatis sesuai dengan prioritas role pengguna.</p><h5 id="32-implementasi-middleware-di-nextjs"><a href="#32-implementasi-middleware-di-nextjs" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3.2 Implementasi Middleware di Next.js</h5><p>NextAuth menyediakan fungsi <code>withAuth</code> yang memungkinkan kita membuat middleware untuk proteksi rute. Middleware ini akan membaca token sesi pengguna, memeriksa role mereka, dan menentukan apakah mereka memiliki hak akses yang cukup untuk mengakses halaman yang diminta.</p><ul><li>a. Membuat Konstanta <code>ROLE_PRIORITY</code> dan <code>PROTECTED_ROUTES</code></li></ul><p>Pertama, kita definisikan konstanta <code>ROLE_PRIORITY</code> dan <code>PROTECTED_ROUTES</code> untuk memudahkan middleware dalam menentukan hak akses setiap role terhadap halaman yang dilindungi.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// middleware.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Definisikan prioritas untuk setiap role</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">ROLE_PRIORITY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  admin<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// Akses penuh</span>
</span><span class="code-line">  engineer<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token comment">// Akses teknis</span>
</span><span class="code-line">  operator<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token comment">// Akses operasional</span>
</span><span class="code-line">  guest<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span> <span class="token comment">// Akses umum</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Tentukan rute yang dilindungi dan minimum prioritas aksesnya</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">PROTECTED_ROUTES</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/admin&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>admin<span class="token punctuation">,</span> <span class="token comment">// Hanya admin</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/engineer&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>engineer<span class="token punctuation">,</span> <span class="token comment">// Admin dan engineer</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/operator&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>operator<span class="token punctuation">,</span> <span class="token comment">// Admin, engineer, dan operator</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/public&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>guest<span class="token punctuation">,</span> <span class="token comment">// Semua pengguna, termasuk guest</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li><p><code>ROLE_PRIORITY</code> mendefinisikan hierarki prioritas setiap role, di mana nilai lebih rendah menunjukkan prioritas lebih tinggi.</p></li><li><p><code>PROTECTED_ROUTES</code> menentukan halaman yang membutuhkan proteksi, dengan level akses minimum berdasarkan prioritas.</p></li><li><p>b. Implementasi Middleware <code>withAuth</code> untuk Proteksi Rute</p></li></ul><p>Selanjutnya, kita buat middleware <code>withAuth</code> untuk memeriksa apakah pengguna memiliki hak akses yang cukup untuk mengakses rute tertentu. Middleware ini akan memeriksa role pengguna dan, jika diperlukan, mengarahkan mereka ke halaman <code>unauthorized</code> jika mereka tidak memiliki izin yang cukup.</p><p>Berikut adalah implementasi lengkap middleware di file <code>middleware.ts</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// middleware.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> withAuth <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/middleware&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> NextResponse <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next/server&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Definisikan role dan rute yang dilindungi</span>
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">ROLE_PRIORITY</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  admin<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
</span><span class="code-line">  engineer<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
</span><span class="code-line">  operator<span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
</span><span class="code-line">  guest<span class="token operator">:</span> <span class="token number">4</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">const</span> <span class="token constant">PROTECTED_ROUTES</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/admin&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>admin<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/engineer&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>engineer<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/operator&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>operator<span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token property string-property">&#x27;/public&#x27;</span><span class="token operator">:</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>guest<span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">withAuth</span><span class="token punctuation">(</span>
</span><span class="code-line">  <span class="token keyword">function</span> <span class="token function">middleware</span><span class="token punctuation">(</span>req<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token comment">// Dapatkan token dari NextAuth middleware</span>
</span><span class="code-line">    <span class="token keyword">const</span> <span class="token punctuation">{</span> token <span class="token punctuation">}</span> <span class="token operator">=</span> req<span class="token punctuation">.</span>nextauth
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Redirect ke halaman login jika pengguna belum login</span>
</span><span class="code-line">    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&#x27;/login&#x27;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Ambil role pengguna dari token dan tentukan prioritasnya</span>
</span><span class="code-line">    <span class="token keyword">const</span> userRolePriority <span class="token operator">=</span>
</span><span class="code-line">      <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">[</span>token<span class="token punctuation">.</span>role <span class="token keyword">as</span> <span class="token keyword">keyof</span> <span class="token keyword">typeof</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token constant">ROLE_PRIORITY</span><span class="token punctuation">.</span>guest
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Ambil path dari URL yang diminta</span>
</span><span class="code-line">    <span class="token keyword">const</span> requestedPath <span class="token operator">=</span> req<span class="token punctuation">.</span>nextUrl<span class="token punctuation">.</span>pathname
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Periksa akses berdasarkan rute yang dilindungi</span>
</span><span class="code-line">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>path<span class="token punctuation">,</span> minPriority<span class="token punctuation">]</span> <span class="token keyword">of</span> Object<span class="token punctuation">.</span><span class="token function">entries</span><span class="token punctuation">(</span><span class="token constant">PROTECTED_ROUTES</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>requestedPath<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token comment">// Jika prioritas user lebih tinggi dari yang dibutuhkan, redirect ke halaman unauthorized</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>userRolePriority <span class="token operator">&gt;</span> minPriority<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">          <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">redirect</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name"><span class="token constant">URL</span></span><span class="token punctuation">(</span><span class="token string">&#x27;/unauthorized&#x27;</span><span class="token punctuation">,</span> req<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">)</span>
</span><span class="code-line">        <span class="token punctuation">}</span>
</span><span class="code-line">        <span class="token keyword">break</span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">    <span class="token comment">// Jika pengguna memiliki akses, lanjutkan ke halaman yang diminta</span>
</span><span class="code-line">    <span class="token keyword">return</span> NextResponse<span class="token punctuation">.</span><span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">{</span>
</span><span class="code-line">    callbacks<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token function function-variable">authorized</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> token <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">!</span><span class="token operator">!</span>token<span class="token punctuation">,</span> <span class="token comment">// Pastikan pengguna telah login</span>
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line"><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Tentukan rute yang menggunakan middleware</span>
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  matcher<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#x27;/admin/:path*&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;/engineer/:path*&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;/operator/:path*&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;/public/:path*&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan Implementasi</strong>:</p><ol><li><strong>Pengecekan Token</strong>: Middleware ini menggunakan <code>withAuth</code> untuk mendapatkan token dari sesi pengguna. Jika token tidak ada, artinya pengguna belum login, dan akan diarahkan ke halaman login.</li><li><strong>Pengecekan Role dan Prioritas</strong>: Middleware mengecek role pengguna berdasarkan <code>token.role</code> dan mencocokkannya dengan <code>ROLE_PRIORITY</code>.</li><li><strong>Akses ke Rute yang Dilindungi</strong>: Middleware membandingkan <code>userRolePriority</code> dengan <code>minPriority</code> yang ditentukan untuk rute yang diminta. Jika role pengguna tidak memenuhi syarat, mereka akan diarahkan ke halaman <code>/unauthorized</code>.</li><li><strong>Config <code>matcher</code></strong>: Middleware ini diterapkan hanya pada rute-rute tertentu yang membutuhkan proteksi, seperti <code>/admin</code>, <code>/engineer</code>, <code>/operator</code>, dan <code>/public</code>.</li></ol><h5 id="33-menangani-akses-ditolak"><a href="#33-menangani-akses-ditolak" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3.3 Menangani Akses Ditolak</h5><p>Untuk pengguna yang mencoba mengakses halaman tanpa izin yang cukup, middleware akan mengarahkan mereka ke halaman <code>unauthorized</code>. Halaman ini memberikan informasi bahwa akses ditolak karena kurangnya hak akses.</p><ul><li>Membuat Halaman <code>unauthorized</code></li></ul><p>Buat halaman <code>unauthorized</code> di <code>app/unauthorized/page.tsx</code> untuk menampilkan pesan akses ditolak.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/unauthorized/page.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">UnauthorizedPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Access Denied<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>You <span class="token keyword">do</span> not have permission to view <span class="token keyword">this</span> page<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">&quot;/&quot;</span><span class="token operator">&gt;</span>Back to Home<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li>Halaman ini memberikan pesan sederhana bahwa akses ke halaman ini ditolak karena pengguna tidak memiliki izin yang sesuai.</li><li>Terdapat tautan kembali ke halaman utama untuk membantu navigasi pengguna.</li></ul><h5 id="34-testing-middleware"><a href="#34-testing-middleware" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>3.4 Testing Middleware</h5><p>Setelah middleware selesai diimplementasikan, lakukan pengujian untuk memastikan proteksi rute berjalan dengan baik sesuai dengan role masing-masing pengguna. Berikut adalah skenario pengujian yang direkomendasikan:</p><ol><li><strong>Admin</strong>: Pastikan pengguna dengan role <code>admin</code> memiliki akses penuh ke halaman <code>/admin</code>, <code>/engineer</code>, <code>/operator</code>, dan <code>/public</code>.</li><li><strong>Engineer</strong>: Pastikan pengguna dengan role <code>engineer</code> memiliki akses ke halaman <code>/engineer</code>, <code>/operator</code>, dan <code>/public</code>, tetapi diarahkan ke halaman <code>unauthorized</code> saat mencoba mengakses <code>/admin</code>.</li><li><strong>Operator</strong>: Pastikan pengguna dengan role <code>operator</code> hanya bisa mengakses halaman <code>/operator</code> dan <code>/public</code>, tetapi diarahkan ke halaman <code>unauthorized</code> saat mencoba mengakses <code>/admin</code> atau <code>/engineer</code>.</li><li><strong>Guest</strong>: Pastikan pengguna dengan role <code>guest</code> hanya bisa mengakses halaman <code>/public</code>, dan diarahkan ke halaman <code>unauthorized</code> jika mencoba mengakses halaman lain yang dilindungi.</li></ol><hr/><h4 id="4-kontrol-akses-di-komponen-client"><a href="#4-kontrol-akses-di-komponen-client" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4. Kontrol Akses di Komponen Client</h4><p>Pada bagian ini, akan dibahas cara mengelola kontrol akses di sisi client menggunakan <strong>NextAuth</strong> dan <strong>hook <code>useSession</code></strong>. Dengan memanfaatkan <code>useSession</code>, kita dapat melakukan pengecekan role pengguna pada komponen atau halaman tertentu di client-side, serta menyesuaikan tampilan elemen UI berdasarkan role pengguna. Pendekatan ini memungkinkan aplikasi memberikan pengalaman yang lebih disesuaikan untuk setiap jenis pengguna.</p><h5 id="41-menggunakan-usesession-untuk-kontrol-akses"><a href="#41-menggunakan-usesession-untuk-kontrol-akses" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4.1 Menggunakan <code>useSession</code> untuk Kontrol Akses</h5><p><code>useSession</code> adalah hook yang disediakan oleh NextAuth untuk mendapatkan informasi sesi pengguna yang sedang aktif. Dengan hook ini, kita dapat memeriksa <strong>status login</strong> dan <strong>role pengguna</strong> di setiap komponen client, memungkinkan pengaturan akses ke halaman tertentu secara dinamis berdasarkan role yang dimiliki pengguna.</p><ul><li>a. Penggunaan Dasar <code>useSession</code> untuk Memeriksa Role</li></ul><p>Berikut adalah contoh penggunaan dasar <code>useSession</code> untuk memeriksa status sesi dan role pengguna. Implementasi ini akan menampilkan pesan akses ditolak jika pengguna tidak memiliki role yang diperlukan untuk mengakses halaman tertentu.</p><p>Misalnya, pada halaman <strong>Dashboard</strong> yang hanya bisa diakses oleh pengguna dengan role <code>admin</code>, <code>engineer</code>, dan <code>operator</code>, kita dapat menerapkan <code>useSession</code> sebagai berikut:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/dashboard/page.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useSession <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">DashboardPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> session<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Menampilkan loading sementara menunggu status sesi</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">&#x27;loading&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Cek apakah user memiliki role yang diperbolehkan mengakses halaman dashboard</span>
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>session <span class="token operator">||</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;admin&#x27;</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;engineer&#x27;</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;operator&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Access Denied<span class="token punctuation">.</span> You <span class="token keyword">do</span> not have permission to view <span class="token keyword">this</span> page<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token comment">// Jika pengguna memiliki izin, tampilkan konten dashboard</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Welcome<span class="token punctuation">,</span> <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Your role<span class="token operator">:</span> <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan:</strong></p><ul><li><p><code>status === &#x27;loading&#x27;</code> digunakan untuk menampilkan pesan loading sementara data sesi sedang diproses.</p></li><li><p>Kondisi <code>if (!session || ...)</code> mengecek apakah pengguna tidak memiliki sesi yang valid atau memiliki role yang tidak diizinkan. Jika demikian, pengguna akan diberikan pesan <strong>Access Denied</strong>.</p></li><li><p>Jika pengguna memiliki role yang sesuai (admin, engineer, atau operator), halaman Dashboard akan ditampilkan dengan pesan selamat datang.</p></li><li><p>b. Contoh Kontrol Akses Berbasis Role di Client-Side</p></li></ul><p>Untuk memberikan kontrol akses yang lebih fleksibel, kita bisa membuat fungsi khusus di komponen yang mengecek apakah role pengguna memenuhi persyaratan akses. Berikut adalah contoh fungsi <code>hasAccess</code> yang mengembalikan <code>true</code> jika pengguna memiliki role yang diizinkan, atau <code>false</code> jika sebaliknya:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token keyword">function</span> <span class="token function">hasAccess</span><span class="token punctuation">(</span>session<span class="token operator">:</span> <span class="token builtin">any</span><span class="token punctuation">,</span> allowedRoles<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> session <span class="token operator">&amp;&amp;</span> allowedRoles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role<span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token comment">// Menggunakan fungsi di komponen</span>
</span><span class="code-line"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">hasAccess</span><span class="token punctuation">(</span>session<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;operator&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Access Denied<span class="token punctuation">.</span> You <span class="token keyword">do</span> not have permission to view <span class="token keyword">this</span> page<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p>Fungsi <code>hasAccess</code> ini dapat digunakan untuk memudahkan kontrol akses di berbagai komponen client, tanpa harus menuliskan ulang logika pengecekan role setiap kali.</p><h5 id="42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role"><a href="#42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>4.2 Menyembunyikan atau Menampilkan Fitur Berdasarkan Role</h5><p>Selain mengatur akses ke halaman secara keseluruhan, <code>useSession</code> juga memungkinkan kita untuk <strong>menyembunyikan atau menampilkan elemen UI</strong> tertentu berdasarkan role pengguna. Hal ini bermanfaat untuk memberikan pengalaman pengguna yang lebih personal, dengan menampilkan hanya fitur-fitur yang relevan sesuai peran masing-masing pengguna.</p><ul><li>a. Menampilkan atau Menyembunyikan Komponen Berdasarkan Role</li></ul><p>Misalkan, kita ingin menampilkan fitur manajemen pengguna hanya untuk pengguna dengan role <code>admin</code>, dan fitur pengelolaan perangkat untuk pengguna dengan role <code>engineer</code>. Kita bisa menambahkan logika pada komponen UI sebagai berikut:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/dashboard/page.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useSession <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">DashboardPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> session<span class="token punctuation">,</span> status <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>status <span class="token operator">===</span> <span class="token string">&#x27;loading&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Loading<span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>session <span class="token operator">||</span> <span class="token punctuation">(</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;admin&#x27;</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;engineer&#x27;</span> <span class="token operator">&amp;&amp;</span> session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">!==</span> <span class="token string">&#x27;operator&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Access Denied<span class="token punctuation">.</span> You <span class="token keyword">do</span> not have permission to view <span class="token keyword">this</span> page<span class="token punctuation">.</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Welcome<span class="token punctuation">,</span> <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>p<span class="token operator">&gt;</span>Your role<span class="token operator">:</span> <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur hanya untuk Admin */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">===</span> <span class="token string">&#x27;admin&#x27;</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Admin Features<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Manage Users<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur hanya untuk Engineer */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">{</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">===</span> <span class="token string">&#x27;engineer&#x27;</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Engineer Features<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Manage Devices<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur untuk Admin dan Engineer */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">===</span> <span class="token string">&#x27;admin&#x27;</span> <span class="token operator">||</span> session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role <span class="token operator">===</span> <span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Technical Reports<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">          <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>View Reports<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token punctuation">)</span><span class="token punctuation">}</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li><p><strong>Fitur Admin</strong>: Hanya ditampilkan jika <code>session.user.role</code> adalah <code>admin</code>. Bagian ini dapat berisi fitur-fitur khusus yang hanya boleh diakses oleh admin, seperti manajemen pengguna.</p></li><li><p><strong>Fitur Engineer</strong>: Ditampilkan jika <code>session.user.role</code> adalah <code>engineer</code>. Fitur ini bisa berisi elemen UI untuk manajemen perangkat atau fitur teknis lainnya.</p></li><li><p><strong>Fitur Gabungan untuk Admin dan Engineer</strong>: Dengan kondisi <code>(session.user.role === &#x27;admin&#x27; || session.user.role === &#x27;engineer&#x27;)</code>, bagian ini akan ditampilkan kepada admin dan engineer. Misalnya, fitur untuk melihat laporan teknis.</p></li><li><p>b. Menggunakan Komponen Terkondisi Berdasarkan Role</p></li></ul><p>Untuk membuat kode lebih rapi, kita juga bisa membuat komponen yang secara dinamis menampilkan elemen berdasarkan role pengguna. Komponen ini dapat digunakan untuk menyederhanakan kontrol akses pada berbagai fitur.</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// components/RoleBasedFeature.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useSession <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">interface</span> <span class="token class-name">RoleBasedFeatureProps</span> <span class="token punctuation">{</span>
</span><span class="code-line">  allowedRoles<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</span><span class="code-line">  children<span class="token operator">:</span> React<span class="token punctuation">.</span>ReactNode<span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">RoleBasedFeature</span><span class="token punctuation">(</span><span class="token punctuation">{</span> allowedRoles<span class="token punctuation">,</span> children <span class="token punctuation">}</span><span class="token operator">:</span> RoleBasedFeatureProps<span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token punctuation">{</span> data<span class="token operator">:</span> session <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>session <span class="token operator">||</span> <span class="token operator">!</span>allowedRoles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>session<span class="token punctuation">.</span>user<span class="token punctuation">.</span>role<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token comment">// Jangan tampilkan apapun jika role tidak sesuai</span>
</span><span class="code-line">  <span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>children<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li>Komponen <code>RoleBasedFeature</code> menerima dua properti: <code>allowedRoles</code>, yang merupakan array role yang diizinkan, dan <code>children</code>, yang berisi elemen atau komponen yang akan ditampilkan.</li><li>Jika <code>session.user.role</code> cocok dengan salah satu role di <code>allowedRoles</code>, maka <code>children</code> akan ditampilkan; jika tidak, elemen tidak akan ditampilkan sama sekali.</li></ul><p>Dengan komponen ini, kontrol akses di halaman dapat disederhanakan sebagai berikut:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/dashboard/page.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> RoleBasedFeature <span class="token keyword">from</span> <span class="token string">&#x27;@/components/RoleBasedFeature&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">DashboardPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Dashboard<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur hanya untuk Admin */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>RoleBasedFeature allowedRoles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Admin Features<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Manage Users<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>RoleBasedFeature<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur hanya untuk Engineer */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>RoleBasedFeature allowedRoles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Engineer Features<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Manage Devices<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>RoleBasedFeature<span class="token operator">&gt;</span>
</span><span class="code-line">
</span><span class="code-line">      <span class="token punctuation">{</span><span class="token comment">/* Fitur untuk Admin dan Engineer */</span><span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>RoleBasedFeature allowedRoles<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">,</span> <span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span>Technical Reports<span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
</span><span class="code-line">        <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>View Reports<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span><span class="token operator">/</span>RoleBasedFeature<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p>Dengan pendekatan ini, kontrol akses menjadi lebih modular dan mudah dipelihara.</p><hr/><h4 id="5-fitur-lanjutan-redirect-setelah-login-dan-logout"><a href="#5-fitur-lanjutan-redirect-setelah-login-dan-logout" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>5. Fitur Lanjutan: Redirect Setelah Login dan Logout</h4><p>Pada bagian ini, akan dijelaskan cara menambahkan fitur <strong>redirect</strong> untuk mengarahkan pengguna ke halaman tertentu setelah proses login atau logout. Fitur ini penting untuk memberikan pengalaman pengguna yang lebih intuitif, memastikan mereka diarahkan ke halaman yang relevan sesuai konteks (misalnya, dashboard setelah login dan halaman utama setelah logout). Berikut adalah implementasi redirect setelah login dan logout di NextAuth.</p><h5 id="51-redirect-setelah-login"><a href="#51-redirect-setelah-login" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>5.1 Redirect Setelah Login</h5><p>Setelah pengguna berhasil login, seringkali kita ingin mengarahkan mereka ke halaman yang sesuai dengan peran atau tujuan mereka, seperti halaman dashboard atau halaman beranda khusus. NextAuth memungkinkan kita untuk mengimplementasikan redirect setelah login melalui beberapa metode, salah satunya adalah dengan menggunakan properti <code>callbackUrl</code> saat memanggil fungsi <code>signIn</code>.</p><ul><li>a. Menggunakan <code>callbackUrl</code> untuk Redirect Dinamis</li></ul><p>Untuk mengarahkan pengguna ke halaman tertentu setelah login, kita dapat menggunakan properti <code>callbackUrl</code> pada <code>signIn</code>. Properti ini akan menentukan URL tujuan setelah proses login selesai.</p><p>Contoh implementasi <code>signIn</code> dengan <code>callbackUrl</code> pada halaman login:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/login/page.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> signIn <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next/navigation&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">LoginPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">useRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">handleLogin</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span>provider<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">await</span> <span class="token function">signIn</span><span class="token punctuation">(</span>provider<span class="token punctuation">,</span> <span class="token punctuation">{</span> callbackUrl<span class="token operator">:</span> <span class="token string">&#x27;/dashboard&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token punctuation">(</span>
</span><span class="code-line">    <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>Login to HortiLink<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token string">&#x27;google&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Login <span class="token keyword">with</span> Google<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token string">&#x27;facebook&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Login <span class="token keyword">with</span> Facebook<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">      <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">handleLogin</span><span class="token punctuation">(</span><span class="token string">&#x27;github&#x27;</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Login <span class="token keyword">with</span> GitHub<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
</span><span class="code-line">    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</span><span class="code-line">  <span class="token punctuation">)</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li><p>Fungsi <code>handleLogin</code> memanggil <code>signIn</code> dengan parameter <code>callbackUrl</code> yang ditentukan (<code>/dashboard</code>), sehingga setelah login, pengguna akan diarahkan ke halaman <code>/dashboard</code>.</p></li><li><p>Jika login berhasil, pengguna akan otomatis diarahkan ke URL yang ditentukan.</p></li><li><p>b. Menentukan Redirect Berdasarkan Role Pengguna</p></li></ul><p>Dalam beberapa kasus, kita mungkin ingin mengarahkan pengguna ke halaman berbeda berdasarkan role mereka. Misalnya, <code>admin</code> diarahkan ke halaman manajemen, sementara <code>operator</code> diarahkan ke halaman operasional. Ini bisa dicapai dengan memanfaatkan callback <code>redirect</code> di konfigurasi NextAuth.</p><p>Tambahkan callback <code>redirect</code> ke dalam konfigurasi <code>authOptions</code> di <code>app/api/auth/[...nextauth]/route.ts</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/api/auth/[...nextauth]/route.ts</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> NextAuth <span class="token keyword">from</span> <span class="token string">&#x27;next-auth&#x27;</span>
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> authOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;@/lib/auth&#x27;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">const</span> authOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token operator">...</span>otherAuthOptions<span class="token punctuation">,</span> <span class="token comment">// Konfigurasi NextAuth lainnya</span>
</span><span class="code-line">  callbacks<span class="token operator">:</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token keyword">async</span> <span class="token function">redirect</span><span class="token punctuation">(</span><span class="token punctuation">{</span> url<span class="token punctuation">,</span> baseUrl <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">      <span class="token comment">// Arahkan berdasarkan role pengguna</span>
</span><span class="code-line">      <span class="token keyword">if</span> <span class="token punctuation">(</span>url <span class="token operator">===</span> <span class="token string">&#x27;/dashboard&#x27;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">        <span class="token keyword">const</span> session <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Redirect admin ke halaman manajemen khusus</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token operator">?.</span>user<span class="token operator">?.</span>role <span class="token operator">===</span> <span class="token string">&#x27;admin&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>baseUrl<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">/admin</span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Redirect engineer ke halaman teknis</span>
</span><span class="code-line">        <span class="token keyword">if</span> <span class="token punctuation">(</span>session<span class="token operator">?.</span>user<span class="token operator">?.</span>role <span class="token operator">===</span> <span class="token string">&#x27;engineer&#x27;</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>baseUrl<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">/engineer</span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">
</span><span class="code-line">        <span class="token comment">// Default ke dashboard umum</span>
</span><span class="code-line">        <span class="token keyword">return</span> <span class="token template-string"><span class="token string template-punctuation">`</span><span class="token interpolation"><span class="token punctuation interpolation-punctuation">${</span>baseUrl<span class="token punctuation interpolation-punctuation">}</span></span><span class="token string">/dashboard</span><span class="token string template-punctuation">`</span></span>
</span><span class="code-line">      <span class="token punctuation">}</span>
</span><span class="code-line">      <span class="token keyword">return</span> baseUrl
</span><span class="code-line">    <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">NextAuth</span><span class="token punctuation">(</span>authOptions<span class="token punctuation">)</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li><strong>Callback <code>redirect</code></strong>: Callback ini memungkinkan kita untuk mengatur URL redirect setelah login berdasarkan kondisi tertentu, dalam hal ini berdasarkan <code>role</code> pengguna.</li><li>Setelah login, <strong>admin</strong> akan diarahkan ke <code>/admin</code>, <strong>engineer</strong> ke <code>/engineer</code>, dan role lainnya ke <code>/dashboard</code>.</li></ul><h5 id="52-redirect-setelah-logout"><a href="#52-redirect-setelah-logout" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>5.2 Redirect Setelah Logout</h5><p>Untuk mengarahkan pengguna ke halaman tertentu setelah mereka logout, kita bisa menggunakan properti <code>callbackUrl</code> saat memanggil fungsi <code>signOut</code>. Secara default, NextAuth akan mengarahkan pengguna ke halaman utama aplikasi setelah logout. Namun, kita bisa menentukan URL tujuan khusus jika diinginkan, seperti halaman landing atau halaman informasi publik.</p><ul><li>a. Redirect dengan <code>callbackUrl</code> pada <code>signOut</code></li></ul><p>Berikut adalah contoh implementasi <code>signOut</code> dengan <code>callbackUrl</code> pada komponen client:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/components/LogoutButton.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token string">&#x27;use client&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> signOut <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">LogoutButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">const</span> <span class="token function function-variable">handleLogout</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
</span><span class="code-line">    <span class="token function">signOut</span><span class="token punctuation">(</span><span class="token punctuation">{</span> callbackUrl<span class="token operator">:</span> <span class="token string">&#x27;/&#x27;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// Redirect ke halaman utama setelah logout</span>
</span><span class="code-line">  <span class="token punctuation">}</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>handleLogout<span class="token punctuation">}</span><span class="token operator">&gt;</span>Logout<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p><strong>Penjelasan</strong>:</p><ul><li><p>Fungsi <code>handleLogout</code> memanggil <code>signOut</code> dengan <code>callbackUrl</code> yang ditentukan sebagai <code>&#x27;/&#x27;</code>, sehingga setelah logout, pengguna akan diarahkan ke halaman utama (<code>/</code>).</p></li><li><p>Komponen <code>LogoutButton</code> ini dapat digunakan di berbagai halaman atau komponen lain di aplikasi untuk memberikan opsi logout kepada pengguna.</p></li><li><p>b. Menggunakan Redirect Default untuk Sign Out</p></li></ul><p>Jika kita tidak menentukan <code>callbackUrl</code> saat memanggil <code>signOut</code>, NextAuth akan otomatis mengarahkan pengguna ke halaman utama aplikasi (URL dasar atau root) setelah logout. Untuk aplikasi dengan kebutuhan redirect yang lebih dinamis setelah logout, kita dapat menyesuaikan <code>callbackUrl</code> langsung dalam pengaturan NextAuth atau di bagian frontend menggunakan logika yang relevan sesuai konteks aplikasi.</p><p>Contoh implementasi redirect tanpa <code>callbackUrl</code> pada <code>signOut</code>:</p><pre class="language-typescript"><code class="language-typescript code-highlight"><span class="code-line"><span class="token comment">// app/components/LogoutButton.tsx</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">import</span> <span class="token punctuation">{</span> signOut <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#x27;next-auth/react&#x27;</span><span class="token punctuation">;</span>
</span><span class="code-line">
</span><span class="code-line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token function">LogoutButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
</span><span class="code-line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">signOut</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>Logout<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token punctuation">;</span>
</span><span class="code-line"><span class="token punctuation">}</span>
</span></code></pre><p>Dengan implementasi ini, NextAuth akan mengarahkan pengguna ke halaman root (<code>/</code>) setelah logout tanpa perlu mengatur <code>callbackUrl</code> secara manual.</p><hr/><h3 id="hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya"><a href="#hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Hak cipta<sup><a href="#user-content-fn-1" aria-describedby="footnote-label" data-footnote-ref="true" id="user-content-fnref-1">1</a></sup>. Artikel ini berdasar ChatGpt &amp; penulis tidak menjamin seluruh akurasi isinya</h3><section class="footnotes" data-footnotes="true"><h2 class="sr-only" id="footnote-label"><a href="#footnote-label" aria-hidden="true" tabindex="-1"><span class="icon icon-link"></span></a>Footnotes</h2><ol><li id="user-content-fn-1"><p><a href="https://chat.openai.com">ChatGpt</a> <a href="#user-content-fnref-1" aria-label="Back to content" class="data-footnote-backref" data-footnote-backref="true">â†©</a></p></li></ol></section></div></div><footer><div class="divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y"><div class="py-4 xl:py-8"><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Tags</h2><div class="flex flex-wrap"><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/kontrol/">kontrol</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/iot/">iot</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/mongodb/">mongoDB</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/mongose/">mongose</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/hortilink/">hortilink</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/mvc/">MVC</a><a class="mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" href="/kawruhnology/tags/atomic-design/">atomic-design</a></div></div><div class="flex justify-between py-4 xl:block xl:space-y-8 xl:py-8"><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Previous Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/kawruhnology/blog/IoT/tahap1/">Tahap 1 â€“ Pengembangan Sistem Monitoring dan Kontrol Individual (ESP-Node to Device)</a></div></div><div><h2 class="text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400">Next Article</h2><div class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400"><a href="/kawruhnology/blog/IoT/dataModelHortiLink/">Data Model â€“ Mengimplementasikan Time Series Database di MongoDB dengan Mongoose dan TypeScript untuk Data Sensor IoT</a></div></div></div></div><div class="pt-4 xl:pt-8"><a class="text-primary-500 hover:text-primary-600 dark:hover:text-primary-400" aria-label="Back to the blog" href="/kawruhnology/blog/">â† Back to the blog</a></div></footer></div></div></article></section></section></main><footer><div class="mt-16 flex flex-col items-center"><div class="mb-4 flex space-x-4"><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="mailto:address@yoursite.com"><span class="sr-only">mail</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"></path><path d="M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://github.com/slametsampon/kawruhnology"><span class="sr-only">github</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://facebook.com"><span class="sr-only">facebook</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://youtube.com"><span class="sr-only">youtube</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://www.linkedin.com"><span class="sr-only">linkedin</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"></path></svg></a><a class="text-sm text-gray-500 transition hover:text-gray-600" target="_blank" rel="noopener noreferrer" href="https://twitter.com/Twitter"><span class="sr-only">twitter</span><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6"><path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path></svg></a></div><div class="mb-2 flex flex-wrap justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400"><span>Slamet-Sam</span><span>â€¢</span><span>Â© <!-- -->2025</span><span>â€¢</span><a target="_blank" rel="noopener noreferrer" href="https://github.com/slametsampon/kawruhnology" class="text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300" aria-label="Source code on GitHub">kawruhnology<span> V-</span>0.2.1</a><span>â€¢</span><a class="text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300" aria-label="About page" href="/kawruhnology/about/">About</a></div></div></footer></div><script src="/kawruhnology/_next/static/chunks/webpack-294be49627267a98.js" async=""></script><script src="/kawruhnology/_next/static/chunks/2443530c-fe536c5a812ade0b.js" async=""></script><script src="/kawruhnology/_next/static/chunks/139-4c6cbf970d63f838.js" async=""></script><script src="/kawruhnology/_next/static/chunks/main-app-fd2537973a646b7d.js" async=""></script></body></html><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:HL[\"/kawruhnology/_next/static/media/e4af272ccee01ff0-s.p.woff2\",{\"as\":\"font\",\"type\":\"font/woff2\"}]\n2:HL[\"/kawruhnology/_next/static/css/84be653f156721e5.css\",{\"as\":\"style\"}]\n3:HL[\"/kawruhnology/_next/static/css/7ba97ac3c17e2e2a.css\",{\"as\":\"style\"}]\n0:\"$L4\"\n"])</script><script>self.__next_f.push([1,"5:HL[\"/kawruhnology/_next/static/css/c78fb8f69dafcafd.css\",{\"as\":\"style\"}]\n"])</script><script>self.__next_f.push([1,"6:I{\"id\":\"7858\",\"chunks\":[\"272:static/chunks/webpack-294be49627267a98.js\",\"667:static/chunks/2443530c-fe536c5a812ade0b.js\",\"139:static/chunks/139-4c6cbf970d63f838.js\"],\"name\":\"\",\"async\":false}\n8:I{\"id\":\"3055\",\"chunks\":[\"272:static/chunks/webpack-294be49627267a98.js\",\"667:static/chunks/2443530c-fe536c5a812ade0b.js\",\"139:static/chunks/139-4c6cbf970d63f838.js\"],\"name\":\"\",\"async\":false}\n9:I{\"id\":\"2112\",\"chunks\":[\"774:static/chunks/framework-b98d517ce5ea2f71.js\",\"414:static/chunks/414-fb7b6f330c173877.js\",\"813:s"])</script><script>self.__next_f.push([1,"tatic/chunks/813-c3488add166708a9.js\",\"185:static/chunks/app/layout-0dbf50ec850b7826.js\"],\"name\":\"ThemeProvider\",\"async\":false}\na:I{\"id\":\"7951\",\"chunks\":[\"11:static/chunks/11-7435e8bc153b90a0.js\",\"875:static/chunks/875-ed7cf0b0e1a540f8.js\",\"49:static/chunks/app/posts/[...slug]/page-f0763aa0f5f3e50a.js\"],\"name\":\"\",\"async\":false}\nb:I{\"id\":\"7191\",\"chunks\":[\"774:static/chunks/framework-b98d517ce5ea2f71.js\",\"414:static/chunks/414-fb7b6f330c173877.js\",\"813:static/chunks/813-c3488add166708a9.js\",\"185:static/chunks"])</script><script>self.__next_f.push([1,"/app/layout-0dbf50ec850b7826.js\"],\"name\":\"CustomSearchProvider\",\"async\":false}\nc:I{\"id\":\"4732\",\"chunks\":[\"774:static/chunks/framework-b98d517ce5ea2f71.js\",\"414:static/chunks/414-fb7b6f330c173877.js\",\"813:static/chunks/813-c3488add166708a9.js\",\"185:static/chunks/app/layout-0dbf50ec850b7826.js\"],\"name\":\"\",\"async\":false}\nd:I{\"id\":\"414\",\"chunks\":[\"414:static/chunks/414-fb7b6f330c173877.js\",\"25:static/chunks/25-a7654f5cf52f4544.js\",\"107:static/chunks/app/blog/page/[page]/page-6d35ad2f16ce945d.js\"],\"name\":\"\",\"asy"])</script><script>self.__next_f.push([1,"nc\":false}\ne:I{\"id\":\"9544\",\"chunks\":[\"272:static/chunks/webpack-294be49627267a98.js\",\"667:static/chunks/2443530c-fe536c5a812ade0b.js\",\"139:static/chunks/139-4c6cbf970d63f838.js\"],\"name\":\"\",\"async\":false}\nf:I{\"id\":\"99\",\"chunks\":[\"272:static/chunks/webpack-294be49627267a98.js\",\"667:static/chunks/2443530c-fe536c5a812ade0b.js\",\"139:static/chunks/139-4c6cbf970d63f838.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"4:[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/kawruhnology/_next/static/css/84be653f156721e5.css\",\"precedence\":\"next\"}],[\"$\",\"link\",\"1\",{\"rel\":\"stylesheet\",\"href\":\"/kawruhnology/_next/static/css/7ba97ac3c17e2e2a.css\",\"precedence\":\"next\"}]],[\"$\",\"$L6\",null,{\"assetPrefix\":\"/kawruhnology\",\"initialCanonicalUrl\":\"/blog/IoT/tahap3/\",\"initialTree\":[\"\",{\"children\":[\"blog\",{\"children\":[[\"slug\",\"IoT/tahap3\",\"c\"],{\"children\":[\"__PAGE__?{\\\"slug\\\":[\\\"IoT\\\",\\\"tahap3\\\"]}\",{}]}]}]},\"$undefined\",\"$undefined\",true],\"initialHead\":[\"$L7\",[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\"}]],\"globalErrorComponent\":\"$8\",\"notFound\":[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/kawruhnology/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"kawruhnology\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Maintenance Extended Core\"}]]}],[\"$\",\"body\",null,{\"className\":\"min-h-screen bg-white text-slate-900 antialiased dark:bg-slate-950 dark:text-slate-50 __className_9d68f9\",\"children\":[\"$\",\"$L9\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"children\":[[\"$undefined\",\"$undefined\",\"$undefined\",[\"$\",\"$La\",null,{\"async\":true,\"defer\":true,\"src\":\"https://analytics.umami.is/script.js\"}],\"$undefined\",\"$undefined\"],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen flex-col justify-between font-sans\",\"children\":[[\"$\",\"$Lb\",null,{\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8\",\"children\":[\" \",[\"$undefined\",[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]]]}]}]]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-16 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-4 flex space-x-4\",\"children\":[[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"mailto:address@yoursite.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"mail\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"}],[\"$\",\"path\",null,{\"d\":\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"}]]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/slametsampon/kawruhnology\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"github\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://facebook.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"facebook\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://youtube.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"youtube\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://www.linkedin.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"linkedin\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://twitter.com/Twitter\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"twitter\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-2 flex flex-wrap justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"span\",null,{\"children\":\"Slamet-Sam\"}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"span\",null,{\"children\":[\"Â© \",2025]}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/slametsampon/kawruhnology\",\"className\":\"text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\"aria-label\":\"Source code on GitHub\",\"children\":[\"kawruhnology\",[\"$\",\"span\",null,{\"children\":\" V-\"}],\"0.2.1\"]}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"$Ld\",null,{\"href\":\"/about\",\"className\":\"text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\"aria-label\":\"About page\",\"children\":\"About\"}]]}]]}]}]]}]]}]}]]}],\"asNotFound\":false,\"children\":[[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[[\"$\",\"head\",null,{\"children\":[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/kawruhnology/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}],[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"kawruhnology\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Maintenance Extended Core\"}]]}],[\"$\",\"body\",null,{\"className\":\"min-h-screen bg-white text-slate-900 antialiased dark:bg-slate-950 dark:text-slate-50 __className_9d68f9\",\"children\":[\"$\",\"$L9\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"children\":[[\"$undefined\",\"$undefined\",\"$undefined\",[\"$\",\"$La\",null,{\"async\":true,\"defer\":true,\"src\":\"https://analytics.umami.is/script.js\"}],\"$undefined\",\"$undefined\"],[\"$\",\"div\",null,{\"className\":\"flex min-h-screen flex-col justify-between font-sans\",\"children\":[[\"$\",\"$Lb\",null,{\"children\":[[\"$\",\"$Lc\",null,{}],[\"$\",\"main\",null,{\"className\":\"mb-auto\",\"children\":[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8\",\"children\":[\" \",[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$\",\"$Le\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"blog\",\"children\",[\"slug\",\"IoT/tahap3\",\"c\"],\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"loading\":\"$undefined\",\"loadingStyles\":\"$undefined\",\"hasLoading\":false,\"template\":[\"$\",\"$Lf\",null,{}],\"templateStyles\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"asNotFound\":false,\"childProp\":{\"current\":[\"$L10\",null],\"segment\":\"__PAGE__?{\\\"slug\\\":[\\\"IoT\\\",\\\"tahap3\\\"]}\"},\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/kawruhnology/_next/static/css/c78fb8f69dafcafd.css\",\"precedence\":\"next\"}]]}],\"segment\":[\"slug\",\"IoT/tahap3\",\"c\"]},\"styles\":[]}],\"segment\":\"blog\"},\"styles\":[]}]]}]}]]}],[\"$\",\"footer\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"mt-16 flex flex-col items-center\",\"children\":[[\"$\",\"div\",null,{\"className\":\"mb-4 flex space-x-4\",\"children\":[[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"mailto:address@yoursite.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"mail\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 20 20\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[[\"$\",\"path\",null,{\"d\":\"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z\"}],[\"$\",\"path\",null,{\"d\":\"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z\"}]]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/slametsampon/kawruhnology\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"github\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://facebook.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"facebook\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://youtube.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"youtube\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M23.499 6.203a3.008 3.008 0 00-2.089-2.089c-1.87-.501-9.4-.501-9.4-.501s-7.509-.01-9.399.501a3.008 3.008 0 00-2.088 2.09A31.258 31.26 0 000 12.01a31.258 31.26 0 00.523 5.785 3.008 3.008 0 002.088 2.089c1.869.502 9.4.502 9.4.502s7.508 0 9.399-.502a3.008 3.008 0 002.089-2.09 31.258 31.26 0 00.5-5.784 31.258 31.26 0 00-.5-5.808zm-13.891 9.4V8.407l6.266 3.604z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://www.linkedin.com\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"linkedin\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 01-2.063-2.065 2.064 2.064 0 112.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z\"}]}]]}],[\"$\",\"a\",null,{\"className\":\"text-sm text-gray-500 transition hover:text-gray-600\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://twitter.com/Twitter\",\"children\":[[\"$\",\"span\",null,{\"className\":\"sr-only\",\"children\":\"twitter\"}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\",\"className\":\"fill-current text-gray-700 hover:text-primary-500 dark:text-gray-200 dark:hover:text-primary-400 h-6 w-6\",\"children\":[\"$\",\"path\",null,{\"d\":\"M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z\"}]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"mb-2 flex flex-wrap justify-center space-x-2 text-sm text-gray-500 dark:text-gray-400\",\"children\":[[\"$\",\"span\",null,{\"children\":\"Slamet-Sam\"}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"span\",null,{\"children\":[\"Â© \",2025]}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://github.com/slametsampon/kawruhnology\",\"className\":\"text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\"aria-label\":\"Source code on GitHub\",\"children\":[\"kawruhnology\",[\"$\",\"span\",null,{\"children\":\" V-\"}],\"0.2.1\"]}],[\"$\",\"span\",null,{\"children\":\"â€¢\"}],[\"$\",\"$Ld\",null,{\"href\":\"/about\",\"className\":\"text-blue-600 underline transition-colors duration-200 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300\",\"aria-label\":\"About page\",\"children\":\"About\"}]]}]]}]}]]}]]}]}]]}],null]}]]\n"])</script><script>self.__next_f.push([1,"11:I{\"id\":\"3212\",\"chunks\":[\"414:static/chunks/414-fb7b6f330c173877.js\",\"11:static/chunks/11-7435e8bc153b90a0.js\",\"797:static/chunks/app/blog/[...slug]/page-c5e58980f9fb8642.js\"],\"name\":\"\",\"async\":false}\n12:I{\"id\":\"2011\",\"chunks\":[\"11:static/chunks/11-7435e8bc153b90a0.js\",\"875:static/chunks/875-ed7cf0b0e1a540f8.js\",\"49:static/chunks/app/posts/[...slug]/page-f0763aa0f5f3e50a.js\"],\"name\":\"\",\"async\":false}\n"])</script><script>self.__next_f.push([1,"10:[[\"$\",\"script\",null,{\"type\":\"application/ld+json\",\"dangerouslySetInnerHTML\":{\"__html\":\"{\\\"@context\\\":\\\"https://schema.org\\\",\\\"@type\\\":\\\"BlogPosting\\\",\\\"headline\\\":\\\"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\\\",\\\"datePublished\\\":\\\"2024-11-06T00:00:00.000Z\\\",\\\"dateModified\\\":\\\"2024-11-06T00:00:00.000Z\\\",\\\"description\\\":\\\"Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra.\\\",\\\"url\\\":\\\"https://slametsampon.github.io/kawruhnology//blog/IoT/tahap3\\\",\\\"author\\\":[{\\\"@type\\\":\\\"Person\\\",\\\"name\\\":\\\"Slamet Sam\\\"}]}\"}}],[\"$\",\"section\",null,{\"className\":\"mx-auto max-w-5xl px-4 sm:px-6 lg:px-8\",\"children\":[[\"$\",\"$L11\",null,{}],[\"$\",\"article\",null,{\"children\":[\"$\",\"div\",null,{\"className\":\"xl:divide-y xl:divide-gray-200 xl:dark:divide-gray-700\",\"children\":[[\"$\",\"header\",null,{\"className\":\"pt-6 xl:pb-6\",\"children\":[\"$\",\"div\",null,{\"className\":\"space-y-1 text-center\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"space-y-10\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Published on\"}],[\"$\",\"dd\",null,{\"className\":\"text-base font-medium leading-6 text-gray-500 dark:text-gray-400\",\"children\":[\"$\",\"time\",null,{\"dateTime\":\"2024-11-06T00:00:00.000Z\",\"children\":\"Wednesday, November 6, 2024\"}]}]]}]}],[\"$\",\"div\",null,{\"children\":[\"$\",\"h1\",null,{\"className\":\"text-3xl font-extrabold leading-9 tracking-tight text-gray-900 dark:text-gray-100 sm:text-4xl sm:leading-10 md:text-5xl md:leading-14\",\"children\":\"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"grid-rows-[auto_1fr] divide-y divide-gray-200 pb-8 dark:divide-gray-700 xl:grid xl:grid-cols-4 xl:gap-x-6 xl:divide-y-0\",\"children\":[[\"$\",\"dl\",null,{\"className\":\"pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11 xl:dark:border-gray-700\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Authors\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"ul\",null,{\"className\":\"flex flex-wrap justify-center gap-4 sm:space-x-12 xl:block xl:space-x-0 xl:space-y-8\",\"children\":[[\"$\",\"li\",\"Slamet Sam\",{\"className\":\"flex items-center space-x-2\",\"children\":[[\"$\",\"$L12\",null,{\"src\":\"/kawruhnology/static/images/bernas.jpg\",\"width\":38,\"height\":38,\"alt\":\"Slamet Sam\",\"className\":\"h-10 w-10 rounded-full\"}],[\"$\",\"dl\",null,{\"className\":\"whitespace-nowrap text-sm font-medium leading-5\",\"children\":[[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Name\"}],[\"$\",\"dd\",null,{\"className\":\"text-gray-900 dark:text-gray-100\",\"children\":\"Slamet Sam\"}],[\"$\",\"dt\",null,{\"className\":\"sr-only\",\"children\":\"Twitter\"}],[\"$\",\"dd\",null,{\"children\":[\"$\",\"a\",null,{\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"href\":\"https://twitter.com/Twitter\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"@Twitter\"}]}]]}]]}]]}]}]]}],[\"$\",\"div\",null,{\"className\":\"divide-y divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0\",\"children\":[\"$\",\"div\",null,{\"className\":\"prose max-w-none pb-8 pt-10 dark:prose-invert\",\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Proyek Serial HortiLink: Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"}]}],[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Rangkuman Proyek:\"}]}],[\"$\",\"p\",null,{\"children\":[\"Selamat datang di \",[\"$\",\"strong\",null,{\"children\":[\"Proyek Serial \",[\"$\",\"a\",null,{\"href\":\"https://slamet-sam.netlify.app/blog/IoT/HortiLink\",\"children\":\"HortiLink\"}],\": Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[\"Setelah persiapan perangkat dan sensor selesai, kini kita memasuki \",[\"$\",\"strong\",null,{\"children\":\"Tahap 3: Integrasi ESP-Gateway dengan Server Kustom\"}],\". Di sinilah semua data mulai hidup dan bekerja untuk kitaâ€”mulai dari koneksi sensor di lapangan hingga server yang menyimpan dan menampilkan data secara real-time!\"]}],[\"$\",\"p\",null,{\"children\":\"Di tahap ini, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra. ðŸŒ±âœ¨\"}],[\"$\",\"p\",null,{\"children\":\"Yuk, simak langkah-langkah seru di Tahap 3 ini!\"}],[\"$\",\"div\",null,{\"children\":[\"$\",\"$L12\",null,{\"alt\":\"hortilink-tahap3\",\"src\":\"/static/images/IoT/hortilink-tahap3.webp\",\"width\":\"1792\",\"height\":\"1024\"}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Konsep HortiLink Tahap3 - sumber ChatGpt\"}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://github.com/slametsampon/HortiLink/tree/main/tahap1\",\"children\":\"Seluruh update file tahap3 ini bisa dilihat pada github\"}]}],[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":\"Berikut rangkuman Tahap 3 dari proyek HortiLink dengan gaya santai tapi tetap informatif:\"}],[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Tahap 3: Integrasi ESP-Gateway dengan Server Kustom\"}]}],[\"$\",\"p\",null,{\"children\":\"Di tahap ini, HortiLink mulai lebih canggih dengan menghubungkan perangkat IoT (ESP-Lora) ke server kustom untuk menangkap dan menampilkan data secara real-time! ðŸŽ‰\"}],[\"$\",\"hr\",null,{}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#11-pengembangan-komunikasi-antar-esp-lora\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1.1 Pengembangan Komunikasi Antar ESP-Lora\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#12-pengembangan-server-kustom\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1.2 Pengembangan Server Kustom\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#13-pengembangan-dasbor-dan-notifikasi-real-time\",\"children\":[\"$\",\"strong\",null,{\"children\":\"1.3 Pengembangan Dasbor dan Notifikasi Real-Time\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#alasan-pemilihan-sub-bab-12-pengembangan-server-kustom\",\"children\":\"Alasan Pemilihan Sub-Bab 1.2 Pengembangan Server Kustom\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#kreteria-rancangan\",\"children\":\"Kreteria rancangan\"}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#setup-project\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Setup Project\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#lebih-lanjut-eslint--prettier\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Lebih lanjut ESLint \u0026 Prettier\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#konfigurasi-eslint--prettier\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Konfigurasi ESLint \u0026 Prettier\"}]}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#pattern-mvc-dan-atomic-design\",\"children\":[\"$\",\"strong\",null,{\"children\":\"Pattern MVC dan Atomic Design\"}]}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#otentikasi-dan-otorisasi\",\"children\":\"Otentikasi dan Otorisasi\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#mengapa-otentikasi-dan-otorisasi-itu-penting\",\"children\":\"Mengapa Otentikasi dan Otorisasi Itu Penting?\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#tujuan-otentikasi-dan-otorisasi-di-hortilink\",\"children\":\"Tujuan Otentikasi dan Otorisasi di HortiLink\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#manfaat-langsung-bagi-hortilink\",\"children\":\"Manfaat Langsung bagi HortiLink\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#1-instalasi-dan-setup-nextauth\",\"children\":\"1. Instalasi dan Setup NextAuth\"}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose\",\"children\":\"2. Integrasi NextAuth dengan MongoDB Menggunakan Mongoose\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#21-setup-koneksi-mongodb\",\"children\":\"2.1 Setup Koneksi MongoDB\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#22-membuat-model-user-dengan-role-di-mongodb\",\"children\":\"2.2 Membuat Model User dengan Role di MongoDB\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#23-menyimpan-dan-mengambil-role-dari-database\",\"children\":\"2.3 Menyimpan dan Mengambil Role dari Database\"}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#3-middleware-untuk-proteksi-rute-berdasarkan-role\",\"children\":\"3. Middleware untuk Proteksi Rute Berdasarkan Role\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#31-konsep-role-based-access-control-rbac\",\"children\":\"3.1 Konsep Role-Based Access Control (RBAC)\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#32-implementasi-middleware-di-nextjs\",\"children\":\"3.2 Implementasi Middleware di Next.js\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#33-menangani-akses-ditolak\",\"children\":\"3.3 Menangani Akses Ditolak\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#34-testing-middleware\",\"children\":\"3.4 Testing Middleware\"}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#4-kontrol-akses-di-komponen-client\",\"children\":\"4. Kontrol Akses di Komponen Client\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#41-menggunakan-usesession-untuk-kontrol-akses\",\"children\":[\"4.1 Menggunakan \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" untuk Kontrol Akses\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role\",\"children\":\"4.2 Menyembunyikan atau Menampilkan Fitur Berdasarkan Role\"}]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"#5-fitur-lanjutan-redirect-setelah-login-dan-logout\",\"children\":\"5. Fitur Lanjutan: Redirect Setelah Login dan Logout\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#51-redirect-setelah-login\",\"children\":\"5.1 Redirect Setelah Login\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#52-redirect-setelah-logout\",\"children\":\"5.2 Redirect Setelah Logout\"}]}]]}]]}]]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya\",\"children\":\"Hak cipta^1. Artikel ini berdasar ChatGpt \u0026 penulis tidak menjamin seluruh akurasi isinya\"}]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"11-pengembangan-komunikasi-antar-esp-lora\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#11-pengembangan-komunikasi-antar-esp-lora\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"1.1 Pengembangan Komunikasi Antar ESP-Lora\"}]]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Koneksi ESP-Lora ke Wi-Fi\"}],\": Satu ESP-Lora bertindak sebagai jembatan ke server dengan koneksi Wi-Fi, sementara yang lain berkomunikasi melalui LoRa. Jadi, semua data dari sensor tetap terhubung tanpa harus memiliki Wi-Fi di setiap perangkat!\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Protokol Komunikasi\"}],\": Kita pakai \",[\"$\",\"strong\",null,{\"children\":\"MQTT\"}],\" atau \",[\"$\",\"strong\",null,{\"children\":\"HTTP\"}],\" untuk mengirim data dari gateway ke server. \",[\"$\",\"strong\",null,{\"children\":\"MQTT\"}],\" ideal untuk kirim data kecil secara berkala, cocok banget buat kebutuhan IoT seperti ini.\"]}]]}],[\"$\",\"h3\",null,{\"id\":\"12-pengembangan-server-kustom\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#12-pengembangan-server-kustom\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"1.2 Pengembangan Server Kustom\"}]]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Desain Infrastruktur Server\"}],\": Buat server khusus HortiLink yang menerima data dari gateway. Server ini bisa di cloud untuk skalabilitas atau di server lokal jika lebih aman dan sesuai kebutuhan internal.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Database Time-Series (TSDB)\"}],\": Untuk menyimpan data historis sensor, kita gunakan TSDB seperti \",[\"$\",\"strong\",null,{\"children\":\"InfluxDB\"}],\". Dengan ini, kita bisa melacak tren data, misalnya pola kelembapan dan suhu sepanjang waktu.\"]}]]}],[\"$\",\"h3\",null,{\"id\":\"13-pengembangan-dasbor-dan-notifikasi-real-time\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#13-pengembangan-dasbor-dan-notifikasi-real-time\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"1.3 Pengembangan Dasbor dan Notifikasi Real-Time\"}]]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Antarmuka Dashboard\"}],\": Bangun dasbor real-time yang user-friendly untuk memantau data dari sensor, kontrol perangkat, dan bisa diakses dari mana saja, baik lewat PC maupun mobile.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Notifikasi dan Alarm\"}],\": Fitur ini penting! Secara otomatis, sistem akan mengirimkan notifikasi saat ada parameter yang melewati batas yang telah ditentukan (misalnya pH atau kelembapan rendah), sehingga pengguna bisa cepat bertindak.\"]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"alasan-pemilihan-sub-bab-12-pengembangan-server-kustom\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#alasan-pemilihan-sub-bab-12-pengembangan-server-kustom\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Alasan Pemilihan Sub-Bab 1.2 Pengembangan Server Kustom\"]}],[\"$\",\"p\",null,{\"children\":[\"Pada \",[\"$\",\"strong\",null,{\"children\":\"Tahap 3: Integrasi ESP-Gateway dengan Server Kustom\"}],\", sub-bab \",[\"$\",\"strong\",null,{\"children\":\"1.2 Pengembangan Server Kustom\"}],\" dipilih sebagai fokus utama karena fungsi server yang vital dalam manajemen data sensor, keamanan, dan analisis jangka panjang. Server kustom bukan hanya menjadi pusat pengumpulan data yang diterima dari ESP-Gateway, namun juga berperan dalam menyediakan fondasi untuk pemrosesan data, penyimpanan historis, dan kemudahan akses bagi pengguna akhir.\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Sentralisasi Data dan Skalabilitas\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"Server kustom dirancang untuk menerima dan menyimpan data secara terpusat, memberikan kontrol penuh atas akses, keamanan, dan performa sistem. Pilihan infrastruktur serverâ€”baik cloud maupun lokalâ€”memastikan fleksibilitas dalam menyesuaikan kapasitas dengan kebutuhan proyek di masa depan, terutama jika ada peningkatan volume data atau penambahan perangkat sensor.\"}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Penyimpanan Time-Series untuk Analisis Jangka Panjang\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"Menggunakan \",[\"$\",\"strong\",null,{\"children\":\"Time Series Database (TSDB)\"}],\" seperti InfluxDB, server ini dapat menyimpan data sensor secara historis, memfasilitasi pemantauan tren serta analisis data jangka panjang. Penyimpanan yang berbasis waktu memungkinkan deteksi pola yang memengaruhi produktivitas, seperti tren kelembapan, suhu, atau konsentrasi nutrisi dalam tanah. Dengan pengelolaan data historis yang baik, sistem dapat menghasilkan laporan dan insight yang mendukung pengambilan keputusan berbasis data.\"]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Ketersediaan Data untuk Layanan Real-Time\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"Server ini menyediakan data yang terus diperbarui untuk mendukung fitur dasbor dan notifikasi real-time di tahap selanjutnya. Struktur dan penyimpanan data yang efisien memastikan integrasi yang lancar antara sistem dan antarmuka pengguna, memudahkan pemantauan dan pengaturan perangkat dari jarak jauh.\"}]}]]}]]}],[\"$\",\"p\",null,{\"children\":[\"Oleh karena itu, fokus pada \",[\"$\",\"strong\",null,{\"children\":\"Pengembangan Server Kustom\"}],\" sebagai pusat penyimpanan dan pengelolaan data di Tahap 3 akan membangun fondasi teknis yang kuat, memungkinkan pengelolaan data yang optimal dan berkelanjutan untuk HortiLink.\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"kreteria-rancangan\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#kreteria-rancangan\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Kreteria rancangan\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"Platform : Next.js versi terbaru dengan typescript serta app-router\"}],[\"$\",\"li\",null,{\"children\":\"Style : Tailwind css dan flowbite\"}],[\"$\",\"li\",null,{\"children\":\"Server/hosting : netlify\"}],[\"$\",\"li\",null,{\"children\":\"Database : MongoDB Atlas, mongose (ODM)\"}],[\"$\",\"li\",null,{\"children\":\"Integrated Development Editor (IDE) : vs-code\"}],[\"$\",\"li\",null,{\"children\":\"Memanfaatkan ESLint dan Prettier agar menjaga kode tetap konsisten\"}],[\"$\",\"li\",null,{\"children\":\"Pattern menggunakan MVC dan atomic design\"}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Platform: Next.js Versi Terbaru dengan TypeScript dan App Router\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Pemilihan \",[\"$\",\"strong\",null,{\"children\":\"Next.js\"}],\" sebagai platform utama didasarkan pada keunggulannya dalam mengembangkan aplikasi web yang cepat, dinamis, dan skalabel. Next.js versi terbaru dilengkapi dengan dukungan \",[\"$\",\"strong\",null,{\"children\":\"TypeScript\"}],\" yang memungkinkan penulisan kode yang lebih aman dan bebas dari kesalahan tipe data, yang sangat penting untuk proyek berbasis data seperti HortiLink. Dengan menggunakan \",[\"$\",\"strong\",null,{\"children\":\"app-router\"}],\" sebagai pengatur rute utama, aplikasi ini mendapatkan manfaat penuh dari kemampuan server dan client routing yang mulus, mengoptimalkan kinerja dan pengalaman pengguna dalam menjelajahi berbagai fitur.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Style: Tailwind CSS dan Flowbite\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Dalam hal styling dan antarmuka pengguna, \",[\"$\",\"strong\",null,{\"children\":\"Tailwind CSS\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Flowbite\"}],\" dipilih untuk memberikan pendekatan desain yang fleksibel dan cepat. \",[\"$\",\"strong\",null,{\"children\":\"Tailwind CSS\"}],\" adalah framework CSS yang berbasis utility-first, yang memungkinkan pengembang untuk membangun desain yang sepenuhnya responsif dengan efisiensi tinggi. Kombinasi dengan \",[\"$\",\"strong\",null,{\"children\":\"Flowbite\"}],\", komponen UI berbasis Tailwind yang siap pakai, memungkinkan pengembangan antarmuka yang konsisten dan mudah digunakan. Solusi ini memberikan dasar desain yang modern dan responsif, memastikan tampilan yang profesional di berbagai perangkat, termasuk desktop dan mobile.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Server/Hosting: Netlify\"}]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Netlify\"}],\" dipilih sebagai server hosting untuk mendukung otomatisasi proses build dan deploy. Netlify menyediakan integrasi yang seamless dengan Git, memungkinkan pengembangan dan pengujian berkelanjutan setiap kali ada pembaruan kode. Kemampuan Netlify dalam menangani deployment dengan optimasi untuk static dan server-side rendering di Next.js juga menjadikannya pilihan ideal untuk aplikasi yang memerlukan kecepatan akses tinggi. Selain itu, Netlify mempermudah pengelolaan lingkungan variabel untuk menyimpan kredensial dan API key yang dibutuhkan aplikasi.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"4. Database: MongoDB Atlas dengan Mongoose (ODM)\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Untuk penyimpanan data, \",[\"$\",\"strong\",null,{\"children\":\"MongoDB Atlas\"}],\" digunakan sebagai basis data NoSQL yang dikelola di cloud, memberikan skalabilitas tinggi yang diperlukan untuk menangani volume data sensor yang terus meningkat. \",[\"$\",\"strong\",null,{\"children\":\"Mongoose\"}],\" sebagai \",[\"$\",\"strong\",null,{\"children\":\"Object Data Modeling (ODM)\"}],\" dipilih untuk memberikan struktur data yang lebih ketat pada MongoDB, sehingga memudahkan pengembang dalam memvalidasi, mengelola, dan memanipulasi data di dalam aplikasi. Dengan MongoDB Atlas, aplikasi dapat memanfaatkan keamanan bawaan, backup otomatis, dan replikasi data yang memastikan keandalan dan ketersediaan data secara konsisten.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"5. Integrated Development Editor (IDE): Visual Studio Code\"}]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Visual Studio Code (VS Code)\"}],\" digunakan sebagai \",[\"$\",\"strong\",null,{\"children\":\"Integrated Development Environment (IDE)\"}],\" utama, karena kemudahan penggunaannya, kustomisasi yang tinggi, dan dukungan ekosistem ekstensi yang kaya. VS Code mendukung TypeScript, linting, debugging, dan fitur-fitur produktivitas lainnya, termasuk integrasi langsung dengan Git. Dengan ekstensi tambahan untuk linting dan format, seperti ESLint dan Prettier, serta konektivitas ke MongoDB, VS Code memberikan pengalaman pengembangan yang terintegrasi penuh untuk setiap aspek proyek HortiLink.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"6. Menggunakan ESLint dan Prettier untuk Konsistensi Kode\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Untuk menjaga kualitas dan konsistensi kode, \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" diterapkan. \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" berfungsi sebagai linter kode yang mendeteksi potensi kesalahan dan memastikan standar kode yang konsisten, sesuai dengan praktik terbaik. \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" digunakan sebagai alat pemformatan otomatis yang memastikan kode tetap bersih, terstruktur, dan mengikuti gaya penulisan yang seragam. Dengan menerapkan kedua alat ini, proyek HortiLink akan memiliki kode yang lebih mudah dipelihara, dibaca, dan dikembangkan, serta meminimalisir kesalahan sintaks dan ketidakkonsistenan.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"7. Pattern: Menggunakan MVC dan Atomic Design\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Proyek ini menggunakan pendekatan \",[\"$\",\"strong\",null,{\"children\":\"Model-View-Controller (MVC)\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\" untuk arsitektur dan desain komponen. \",[\"$\",\"strong\",null,{\"children\":\"MVC\"}],\" adalah pola arsitektur yang memisahkan aplikasi menjadi tiga bagian utama:\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Model\"}],\" untuk mengelola data dan logika bisnis,\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"View\"}],\" untuk antarmuka pengguna,\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Controller\"}],\" untuk menghubungkan Model dan View, menangani logika aplikasi, dan merespons tindakan pengguna.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Pola ini memudahkan dalam pengembangan modular dan memungkinkan tim untuk bekerja pada bagian aplikasi secara terpisah tanpa mengganggu keseluruhan sistem.\"}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\", di sisi lain, adalah pendekatan desain komponen yang memecah antarmuka pengguna menjadi bagian-bagian yang lebih kecil dan dapat digunakan kembali, mulai dari atom (elemen terkecil) hingga organisme (kumpulan komponen kompleks). Dengan menerapkan Atomic Design pada HortiLink, setiap elemen UI menjadi modular, dapat digunakan ulang, dan mudah dikelola, menjadikan antarmuka pengguna lebih konsisten dan fleksibel untuk dikembangkan.\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"setup-project\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#setup-project\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"Setup Project\"}]]}],[\"$\",\"p\",null,{\"children\":[\"Berikut ini adalah langkah-langkah setup awal proyek HortiLink dengan kriteria yang disebutkan, yaitu menggunakan \",[\"$\",\"strong\",null,{\"children\":\"Next.js\"}],\" (dengan \",[\"$\",\"strong\",null,{\"children\":\"TypeScript\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"app-router\"}],\"), \",[\"$\",\"strong\",null,{\"children\":\"Tailwind CSS\"}],\" serta \",[\"$\",\"strong\",null,{\"children\":\"Flowbite\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Netlify\"}],\" sebagai server hosting, dan \",[\"$\",\"strong\",null,{\"children\":\"MongoDB Atlas\"}],\" sebagai database.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah 1: Membuat Proyek Next.js dengan TypeScript\"}]}]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Instalasi Proyek Next.js dengan TypeScript\"}],\" Jalankan perintah berikut untuk membuat proyek Next.js baru dengan TypeScript:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"npx create-next-app@latest hortilink \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"--typescript\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token builtin class-name\",\"children\":\"cd\"}],\" hortilink\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Proyek ini akan terbuat dengan \",[\"$\",\"code\",null,{\"children\":\"app-router\"}],\" secara default di Next.js versi terbaru (sejak versi 13).\"]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Menjalankan Server Pengembangan\"}],\" Pastikan semuanya berjalan dengan baik dengan menjalankan:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" run dev\\n\"]}]}]}],[\"$\",\"p\",null,{\"children\":[\"Akses aplikasi pada \",[\"$\",\"code\",null,{\"children\":\"http://localhost:3000\"}],\" untuk melihat halaman awal.\"]}]]}]]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah 2: Konfigurasi Tailwind CSS dan Flowbite\"}]}]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Instalasi Tailwind CSS\"}],\" Instal Tailwind CSS dan dependensi yang diperlukan:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-D\"}],\" tailwindcss postcss autoprefixer\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"npx tailwindcss init \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-p\"}],\"\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Konfigurasi Tailwind\"}],\" Di dalam file \",[\"$\",\"code\",null,{\"children\":\"tailwind.config.js\"}],\", tambahkan lokasi file yang akan digunakan untuk menulis CSS:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-javascript\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-javascript\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment doc-comment\",\"children\":[\"/** \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"@type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'tailwindcss'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"Config\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}]]}],\" */\"]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"module\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"exports\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"content\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./app/**/*.{js,ts,jsx,tsx}'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./pages/**/*.{js,ts,jsx,tsx}'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./components/**/*.{js,ts,jsx,tsx}'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'./node_modules/flowbite-react/**/*.js'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"theme\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"extend\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property literal-property\",\"children\":\"plugins\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"require\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'flowbite/plugin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Buat File CSS Utama\"}],\" Buat file \",[\"$\",\"code\",null,{\"children\":\"globals.css\"}],\" di dalam folder \",[\"$\",\"code\",null,{\"children\":\"styles\"}],\" (gantilah isi file jika sudah ada) dan tambahkan konfigurasi berikut:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-css\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-css\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token rule\",\"children\":\"@tailwind\"}],\" base\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token rule\",\"children\":\"@tailwind\"}],\" components\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token atrule\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token rule\",\"children\":\"@tailwind\"}],\" utilities\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}]]}],\"\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Instalasi Flowbite\"}],\" Tambahkan Flowbite dan Flowbite React:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" flowbite flowbite-react\\n\"]}]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Integrasi Flowbite di Next.js\"}],\" Import \",[\"$\",\"code\",null,{\"children\":\"globals.css\"}],\" di file \",[\"$\",\"code\",null,{\"children\":\"app/layout.tsx\"}],\" agar Tailwind CSS dan Flowbite bisa digunakan di seluruh halaman:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../styles/globals.css'\"}],\"\\n\"]}]}]}]]}]]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah 3: Mengatur Koneksi ke MongoDB Atlas\"}]}]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Buat Database di MongoDB Atlas\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Buat akun di \",[\"$\",\"a\",null,{\"href\":\"https://www.mongodb.com/cloud/atlas\",\"children\":\"MongoDB Atlas\"}],\" jika belum punya.\"]}],[\"$\",\"li\",null,{\"children\":[\"Buat kluster baru dan tambahkan database bernama \",[\"$\",\"code\",null,{\"children\":\"hortilink\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[\"Buat user dan password untuk akses database, dan simpan connection string, misalnya:\",[\"$\",\"pre\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-js\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"mongodb\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"+\"}],\"srv\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"username\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"@clustername\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"mongodb\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"net\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"hortilink\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],\"retryWrites\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\"}],\"w\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"majority\\n\"]}]}]}]]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Instalasi Mongoose untuk Next.js\"}],\" Instal Mongoose sebagai ODM (Object Data Modeling) untuk menghubungkan aplikasi ke MongoDB:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" mongoose\\n\"]}]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Konfigurasi Koneksi MongoDB\"}],\" Buat file \",[\"$\",\"code\",null,{\"children\":\"lib/mongodb.ts\"}],\" untuk mengatur koneksi ke MongoDB:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Please define the MONGODB_URI environment variable inside .env.local'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" conn\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" promise\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dbConnect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" opts \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      bufferCommands\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"false\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" opts\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"then\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" mongoose\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" dbConnect\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Menambahkan Variabel Lingkungan\"}],\" Buat file \",[\"$\",\"code\",null,{\"children\":\".env.local\"}],\" di root proyek, lalu tambahkan connection string MongoDB:\"]}],[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-env\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"MONGODB_URI=mongodb+srv://\u003cusername\u003e:\u003cpassword\u003e@clustername.mongodb.net/hortilink?retryWrites=true\u0026w=majority\\n\"}]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Inisialisasi Database dalam Komponen Next.js\"}],\" Pada komponen atau halaman yang memerlukan akses ke MongoDB, import \",[\"$\",\"code\",null,{\"children\":\"dbConnect\"}],\" dan panggil di dalam \",[\"$\",\"code\",null,{\"children\":\"getServerSideProps\"}],\" atau API route.\"]}],[\"$\",\"p\",null,{\"children\":[\"Contoh di API route \",[\"$\",\"code\",null,{\"children\":\"app/api/sensordata/route.ts\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" NextResponse \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/server'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" dbConnect \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../../lib/mongodb'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" SensorData \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../../../models/sensorData'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Buat model seperti pada langkah sebelumnya\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dbConnect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" SensorData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"find\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"json\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]]}]]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah 4: Deploy ke Netlify\"}]}]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Instal Netlify CLI (Opsional)\"}],\" Instal Netlify CLI jika ingin mengelola deploy melalui terminal:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-g\"}],\" netlify-cli\\n\"]}]}]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Push Proyek ke GitHub atau GitLab\"}],\" Netlify akan mengambil source code dari repositori GitHub atau GitLab. Pastikan proyek di-push ke repositori.\"]}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Konfigurasi Build di Netlify\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Masuk ke akun \",[\"$\",\"a\",null,{\"href\":\"https://www.netlify.com/\",\"children\":\"Netlify\"}],\" dan buat proyek baru dengan menghubungkan ke repositori.\"]}],[\"$\",\"li\",null,{\"children\":[\"Tambahkan variabel environment \",[\"$\",\"code\",null,{\"children\":\"MONGODB_URI\"}],\" di pengaturan Netlify, sama seperti yang ada di \",[\"$\",\"code\",null,{\"children\":\".env.local\"}],\".\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Build Command dan Publish Directory\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Build Command\"}],\": \",[\"$\",\"code\",null,{\"children\":\"npm run build\"}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Publish Directory\"}],\": \",[\"$\",\"code\",null,{\"children\":\"out\"}]]}]]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Jalankan Deploy\"}],\" Netlify akan otomatis membangun dan menerbitkan aplikasi berdasarkan pengaturan ini.\"]}]}]]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah 5: Pengaturan VS Code\"}]}]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Instalasi Ekstensi VS Code\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Tailwind CSS IntelliSense\"}],\": Menambahkan dukungan autocompletion untuk Tailwind CSS.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"ESLint dan Prettier\"}],\": Untuk menjaga konsistensi dan kualitas kode.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"MongoDB for VS Code\"}],\": Jika ingin mengelola MongoDB langsung dari VS Code.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Konfigurasi ESLint dan Prettier\"}],\" Jika ingin menjaga kode tetap konsisten, tambahkan konfigurasi ESLint dan Prettier dengan TypeScript di proyek Anda. Penggunaan \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" sangat membantu dalam pengembangan proyek, terutama dalam menjaga kualitas dan konsistensi kode. Berikut ini fungsi dan keuntungan utama dari keduanya:\"]}]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"lebih-lanjut-eslint--prettier\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#lebih-lanjut-eslint--prettier\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"Lebih lanjut ESLint \u0026 Prettier\"}]]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. ESLint: Fungsi dan Keuntungan\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Fungsi ESLint:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Linting (Pengecekan Kode)\"}],\": ESLint memeriksa kode untuk menemukan dan menandai masalah potensial seperti kesalahan sintaks, penggunaan variabel yang tidak dideklarasikan, atau kode yang tidak digunakan.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Enforcing Best Practices\"}],\": ESLint membantu menjaga standar kode dengan memperingatkan jika ada pola yang tidak sesuai dengan praktik terbaik, misalnya, kesalahan penggunaan React Hooks atau penamaan yang tidak konsisten.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Mendeteksi Bug Lebih Dini\"}],\": Dengan linting otomatis, ESLint dapat mendeteksi bug atau kesalahan kecil sebelum mereka menjadi masalah besar. Misalnya, saat ada variabel yang typo atau tidak diimpor dengan benar.\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Keuntungan ESLint:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Konsistensi Kode\"}],\": Dengan aturan yang sama untuk semua pengembang di tim, kode menjadi konsisten dan mudah dibaca.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Efisiensi Review Kode\"}],\": Mengurangi waktu untuk revisi manual saat review, karena banyak kesalahan sudah diperbaiki oleh ESLint.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Mengurangi Bug di Produksi\"}],\": Deteksi dini terhadap kesalahan yang mungkin muncul di runtime, sehingga aplikasi lebih stabil dan andal.\"]}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Prettier: Fungsi dan Keuntungan\"}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Fungsi Prettier:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Formatter Kode\"}],\": Prettier secara otomatis memformat kode agar rapi dan seragam. Ini mencakup aspek seperti penempatan kurung, indentasi, panjang baris, dan penggunaan tanda koma.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Menghilangkan Debat Gaya Kode\"}],\": Dengan Prettier, tim tidak perlu mendebatkan gaya penulisan kode, karena Prettier menerapkan gaya yang sama ke semua bagian kode secara otomatis.\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Keuntungan Prettier:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Meningkatkan Readability\"}],\": Dengan format yang konsisten, kode menjadi lebih mudah dibaca dan dipahami, terutama dalam tim yang besar.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Hemat Waktu\"}],\": Developer tidak perlu memformat kode secara manual, sehingga fokus bisa dialihkan ke pengembangan fitur.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Konsistensi Estetika\"}],\": Mencegah ketidakkonsistenan estetika, seperti indentasi yang tidak seragam atau panjang baris yang berlebihan.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Mengapa Menggunakan Keduanya Bersamaan?\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Kolaborasi Optimal\"}],\": ESLint menangani masalah kualitas dan praktik terbaik, sementara Prettier menjaga penampilan dan estetika kode. Bersama-sama, keduanya menciptakan standar yang konsisten dan mudah diterapkan oleh semua pengembang di tim.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Integrasi Otomatis\"}],\": Dengan konfigurasi yang tepat, Prettier dapat dijalankan sebagai bagian dari ESLint. Ini memastikan kode bebas dari kesalahan sekaligus tampak rapi secara otomatis, tanpa langkah tambahan.\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"Singkatnya, \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" bersama-sama membuat proses pengembangan lebih rapi, konsisten, dan minim kesalahan. Ini sangat membantu menjaga kualitas kode di proyek yang berkembang, terutama dalam tim pengembang yang lebih besar.\"]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"konfigurasi-eslint--prettier\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#konfigurasi-eslint--prettier\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"Konfigurasi ESLint \u0026 Prettier\"}]]}],[\"$\",\"p\",null,{\"children\":[\"Konfigurasi \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" bisa dilakukan dengan mudah, dan sebagian besar bisa diotomatisasi dengan beberapa perintah. Mari ikuti langkah-langkah berikut untuk menyiapkan \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" secara otomatis di proyek \",[\"$\",\"strong\",null,{\"children\":\"Next.js\"}],\" dengan \",[\"$\",\"strong\",null,{\"children\":\"TypeScript\"}],\".\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Instalasi ESLint dan Prettier beserta Plugin Pendukung\"}]}],[\"$\",\"p\",null,{\"children\":[\"Jalankan perintah berikut di terminal proyek untuk menginstal \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\", dan plugin yang dibutuhkan:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"-D\"}],\" eslint prettier eslint-config-prettier eslint-plugin-prettier eslint-plugin-react eslint-plugin-react-hooks eslint-plugin-jsx-a11y @typescript-eslint/parser @typescript-eslint/eslint-plugin\\n\"]}]}]}],[\"$\",\"p\",null,{\"children\":\"Penjelasan singkat tentang setiap package:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"eslint\"}],\": Linter utama untuk mendeteksi dan memperbaiki masalah sintaks.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"prettier\"}],\": Formatter untuk menjaga konsistensi kode.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"eslint-config-prettier\"}],\": Menonaktifkan aturan ESLint yang bisa bertentangan dengan Prettier.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"eslint-plugin-prettier\"}],\": Menjalankan Prettier sebagai aturan ESLint.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"@typescript-eslint/parser\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"@typescript-eslint/eslint-plugin\"}],\": Mendukung linting untuk TypeScript.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"eslint-plugin-react\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"eslint-plugin-react-hooks\"}],\", dan \",[\"$\",\"strong\",null,{\"children\":\"eslint-plugin-jsx-a11y\"}],\": Plugin yang disarankan untuk proyek berbasis React agar kodenya lebih sesuai dengan standar aksesibilitas dan praktik terbaik.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Inisialisasi Konfigurasi ESLint\"}]}],[\"$\",\"p\",null,{\"children\":[\"Jalankan perintah berikut untuk membuat file konfigurasi \",[\"$\",\"code\",null,{\"children\":\".eslintrc.json\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"npx eslint \",[\"$\",\"span\",null,{\"className\":\"token parameter variable\",\"children\":\"--init\"}],\"\\n\"]}]}]}],[\"$\",\"p\",null,{\"children\":\"Saat diminta, pilih opsi berikut:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"How would you like to use ESLint?\"}],\": Choose \\\"To check syntax, find problems, and enforce code style\\\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"What type of modules does your project use?\"}],\": Choose \\\"JavaScript modules (import/export)\\\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Which framework does your project use?\"}],\": Choose \\\"React\\\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Does your project use TypeScript?\"}],\": Choose \\\"Yes\\\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Where does your code run?\"}],\": Choose \\\"Browser\\\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"What format do you want your config file to be in?\"}],\": Choose \\\"JSON\\\".\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"Setelah selesai, file \",[\"$\",\"code\",null,{\"children\":\".eslintrc.json\"}],\" akan dihasilkan, dan kita akan menambahkan beberapa konfigurasi tambahan di langkah berikutnya.\"]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"3. Menambahkan Konfigurasi ke \",[\"$\",\"code\",null,{\"children\":\".eslintrc.json\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Edit file \",[\"$\",\"code\",null,{\"children\":\".eslintrc.json\"}],\" agar kompatibel dengan Prettier dan TypeScript. Berikut adalah contoh konfigurasi yang lengkap:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"env\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"browser\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"es2021\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"extends\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"eslint:recommended\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"plugin:react/recommended\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"plugin:@typescript-eslint/recommended\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"plugin:react-hooks/recommended\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"plugin:jsx-a11y/recommended\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"plugin:prettier/recommended\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"parser\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"@typescript-eslint/parser\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"parserOptions\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"ecmaFeatures\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"jsx\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"ecmaVersion\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"latest\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"sourceType\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"module\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"plugins\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"react\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"@typescript-eslint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"prettier\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"rules\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"prettier/prettier\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"error\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"react/react-in-jsx-scope\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"off\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Khusus Next.js, karena React diimpor otomatis\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"@typescript-eslint/explicit-module-boundary-types\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"off\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"settings\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"react\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"version\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"detect\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"Konfigurasi ini mengatur ESLint untuk:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Menggunakan plugin \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" dan menandai error jika kode tidak mengikuti format Prettier.\"]}],[\"$\",\"li\",null,{\"children\":[\"Mendukung \",[\"$\",\"strong\",null,{\"children\":\"React\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"React Hooks\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"JSX Accessibility\"}],\", dan \",[\"$\",\"strong\",null,{\"children\":\"TypeScript\"}],\" dengan linting yang tepat.\"]}],[\"$\",\"li\",null,{\"children\":[\"Menonaktifkan beberapa aturan yang kurang relevan untuk proyek Next.js, seperti impor \",[\"$\",\"code\",null,{\"children\":\"React\"}],\" secara eksplisit.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"4. Buat Konfigurasi Prettier\"}]}],[\"$\",\"p\",null,{\"children\":[\"Buat file konfigurasi \",[\"$\",\"strong\",null,{\"children\":\"Prettier\"}],\" dengan nama \",[\"$\",\"code\",null,{\"children\":\".prettierrc\"}],\" di root proyek Anda:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"semi\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"singleQuote\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"tabWidth\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"printWidth\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"80\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"trailingComma\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"es5\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"arrowParens\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"avoid\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"File ini mengatur gaya format seperti penggunaan titik koma, tanda kutip tunggal, lebar baris, dan lain-lain sesuai preferensi umum.\"}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"5. Tambahkan Ignore Files\"}]}],[\"$\",\"p\",null,{\"children\":[\"Agar ESLint dan Prettier tidak memeriksa file yang tidak diperlukan, buat file \",[\"$\",\"code\",null,{\"children\":\".eslintignore\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\".prettierignore\"}],\" di root proyek. Contoh isi dari kedua file ini:\"]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\".eslintignore\"}]}],[\"$\",\"pre\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-js\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"node_modules\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"next\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"out\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\".prettierignore\"}]}],[\"$\",\"pre\",null,{\"className\":\"language-js\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-js\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"node_modules\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token property-access\",\"children\":\"next\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"out\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":[\"6. Menambahkan Script di \",[\"$\",\"code\",null,{\"children\":\"package.json\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan script berikut di \",[\"$\",\"code\",null,{\"children\":\"package.json\"}],\" untuk menjalankan ESLint dan Prettier secara otomatis:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"scripts\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"eslint . --ext .js,.jsx,.ts,.tsx\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"lint:fix\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"eslint . --ext .js,.jsx,.ts,.tsx --fix\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"format\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"prettier --write .\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"lint\"}],\": Mengecek kode menggunakan ESLint.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"lint:fix\"}],\": Mengecek dan memperbaiki masalah ESLint secara otomatis.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"format\"}],\": Menjalankan Prettier untuk memformat seluruh proyek.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"7. Konfigurasi VS Code untuk Mendukung ESLint dan Prettier\"}]}],[\"$\",\"p\",null,{\"children\":[\"Instal ekstensi \",[\"$\",\"strong\",null,{\"children\":\"ESLint\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Prettier - Code Formatter\"}],\" di VS Code untuk mendukung linting dan formatting secara otomatis.\"]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan juga pengaturan berikut di \",[\"$\",\"code\",null,{\"children\":\"settings.json\"}],\" VS Code untuk mengaktifkan format otomatis saat penyimpanan file:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-json\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-json\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"editor.formatOnSave\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"editor.codeActionsOnSave\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token property\",\"children\":\"\\\"source.fixAll.eslint\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Langkah Tambahan: Memastikan Integrasi Otomatis\"}]}],[\"$\",\"p\",null,{\"children\":\"Sekarang Anda dapat menjalankan linting dan format secara otomatis setiap kali menyimpan file di VS Code. Anda juga bisa menjalankan perintah berikut untuk linting dan format manual:\"}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" run lint\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" run \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"format\"}],\"\\n\"]}]]}]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"pattern-mvc-dan-atomic-design\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#pattern-mvc-dan-atomic-design\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],[\"$\",\"strong\",null,{\"children\":\"Pattern MVC dan Atomic Design\"}]]}],[\"$\",\"p\",null,{\"children\":[\"Menggabungkan \",[\"$\",\"strong\",null,{\"children\":\"MVC\"}],\" dengan \",[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\" adalah pilihan yang sangat baik untuk membuat aplikasi seperti \",[\"$\",\"strong\",null,{\"children\":\"HortiLink\"}],\" menjadi lebih terstruktur dan terorganisir! Dengan pendekatan ini, kita bisa menjaga logika bisnis dan manajemen data dalam pola \",[\"$\",\"strong\",null,{\"children\":\"MVC\"}],\", sambil merapikan antarmuka pengguna dengan menggunakan \",[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\" untuk komponen UI. Ini memberikan struktur kode yang lebih modular dan rapi, terutama ketika berhadapan dengan fitur kompleks dan antarmuka yang kaya.\"]}],[\"$\",\"p\",null,{\"children\":[\"Berikut cara mengimplementasikan kombinasi \",[\"$\",\"strong\",null,{\"children\":\"MVC\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\" di Next.js:\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"1. Konsep Penggabungan MVC dan Atomic Design\"}]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"MVC (Model-View-Controller)\"}],\": Fokus pada pemisahan antara data (Model), logika bisnis (Controller), dan tampilan (View). MVC akan mengelola data dan logika aplikasi.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Atomic Design\"}],\": Struktur desain UI dari komponen kecil (\",[\"$\",\"em\",null,{\"children\":\"Atoms\"}],\") hingga komponen kompleks (\",[\"$\",\"em\",null,{\"children\":\"Molecules\"}],\", \",[\"$\",\"em\",null,{\"children\":\"Organisms\"}],\", \",[\"$\",\"em\",null,{\"children\":\"Templates\"}],\", dan \",[\"$\",\"em\",null,{\"children\":\"Pages\"}],\"). Atomic Design mengatur komponen UI agar reusable dan terstruktur.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"2. Struktur Folder\"}]}]}]]}],[\"$\",\"p\",null,{\"children\":\"Kita akan membagi proyek ke dalam dua bagian utama:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"MVC Structure\"}],\": Di sini akan ada folder \",[\"$\",\"code\",null,{\"children\":\"models\"}],\", \",[\"$\",\"code\",null,{\"children\":\"controllers\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"services\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Atomic Design Structure\"}],\": Folder \",[\"$\",\"code\",null,{\"children\":\"components\"}],\" akan dibagi menjadi \",[\"$\",\"code\",null,{\"children\":\"atoms\"}],\", \",[\"$\",\"code\",null,{\"children\":\"molecules\"}],\", \",[\"$\",\"code\",null,{\"children\":\"organisms\"}],\", \",[\"$\",\"code\",null,{\"children\":\"templates\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"pages\"}],\".\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Berikut adalah contoh struktur foldernya:\"}],[\"$\",\"pre\",null,{\"className\":\"language-plaintext\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-plaintext\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"hortilink/\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”œâ”€â”€ app/                        # App Router untuk API dan halaman\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ api/                    # API routes Next.js\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”‚   â”œâ”€â”€ farm/               # API untuk data kebun\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”‚   â””â”€â”€ sensor/             # API untuk data sensor\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ farm/                   # Halaman untuk fitur kebun\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”‚   â””â”€â”€ page.tsx            # Halaman daftar kebun\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â””â”€â”€ sensor/                 # Halaman untuk fitur sensor\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚       â””â”€â”€ page.tsx            # Halaman daftar data sensor\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”œâ”€â”€ components/                 # Atomic Design untuk UI\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ atoms/                  # Komponen terkecil seperti button, input\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ molecules/              # Gabungan atoms, misalnya form field\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ organisms/              # Gabungan molecules, misalnya form atau tabel lengkap\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ templates/              # Layout atau template halaman\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â””â”€â”€ pages/                  # Halaman lengkap dengan layout dan komponen\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”œâ”€â”€ controllers/                # Controller untuk logika bisnis\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ FarmController.ts       # Logika bisnis untuk kebun\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â””â”€â”€ SensorController.ts     # Logika bisnis untuk data sensor\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”œâ”€â”€ models/                     # Model database menggunakan Mongoose\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â”œâ”€â”€ FarmModel.ts            # Model data untuk kebun\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â””â”€â”€ SensorDataModel.ts      # Model data untuk sensor\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”œâ”€â”€ services/                   # Service untuk logika umum dan helper\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â”‚   â””â”€â”€ db.ts                   # Koneksi database MongoDB\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"â””â”€â”€ utils/                      # Utilitas umum\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"    â””â”€â”€ apiHelpers.ts\\n\"}]]}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"3. Implementasi MVC\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. \",[\"$\",\"strong\",null,{\"children\":\"Model\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Model ini akan berfungsi sebagai representasi data di MongoDB. Misalnya, kita bisa membuat model \",[\"$\",\"code\",null,{\"children\":\"FarmModel\"}],\" untuk kebun dan \",[\"$\",\"code\",null,{\"children\":\"SensorDataModel\"}],\" untuk data sensor.\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// models/FarmModel.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" Schema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" model\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" models \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" farmSchema \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Schema\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  luas\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Number\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  lokasi\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  jenisSayuran\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" FarmModel \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" models\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"Farm \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"model\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Farm'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" farmSchema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" FarmModel\\n\"]}]]}]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// models/SensorDataModel.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" Schema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" model\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" models \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" sensorDataSchema \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Schema\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  farmId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"Schema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"Types\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ObjectId\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" ref\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Farm'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  suhu\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Number\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  humidity\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Number\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  ec_tds\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Number\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Date\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"now \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" SensorDataModel \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" models\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"SensorData \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"model\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'SensorData'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" sensorDataSchema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" SensorDataModel\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://slamet-sam.netlify.app/blog/IoT/dataModelHortiLink\",\"children\":\"Lebih detail terkait data model dengan mongoDB-Mongose\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"b. \",[\"$\",\"strong\",null,{\"children\":\"Controller\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Controller akan mengelola logika bisnis. Di Next.js, kita akan memanggil controller ini di dalam API Routes di \",[\"$\",\"code\",null,{\"children\":\"app/api\"}],\".\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// controllers/FarmController.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" FarmModel \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../models/FarmModel'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" dbConnect \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'../services/db'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"class\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"FarmController\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"static\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getAllFarms\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dbConnect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" FarmModel\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"find\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"static\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"createFarm\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"any\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dbConnect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" FarmModel\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"create\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"c. \",[\"$\",\"strong\",null,{\"children\":\"Service Layer\"}]]}]}],[\"$\",\"p\",null,{\"children\":\"Tambahkan service untuk koneksi database agar dapat digunakan di seluruh controller:\"}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// services/db.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"''\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Please define the MONGODB_URI environment variable'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" conn\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" promise\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"dbConnect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"then\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" dbConnect\\n\"]}]]}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"4. Implementasi Atomic Design untuk Komponen UI\"}]}],[\"$\",\"p\",null,{\"children\":\"Di sini, kita akan membuat antarmuka pengguna berdasarkan prinsip Atomic Design:\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Atoms\"}],\": Komponen UI terkecil, seperti tombol atau input.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Molecules\"}],\": Gabungan beberapa atoms, seperti field input lengkap dengan label.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Organisms\"}],\": Gabungan beberapa molecules, misalnya tabel yang berisi data sensor atau data kebun.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Templates\"}],\": Layout atau struktur halaman yang digunakan berulang kali.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Pages\"}],\": Halaman penuh yang berisi semua komponen dan layout.\"]}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":\"Contoh Implementasi Komponen Atomic Design\"}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. \",[\"$\",\"strong\",null,{\"children\":\"Atoms\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Misalnya, tombol sederhana \",[\"$\",\"code\",null,{\"children\":\"Button.tsx\"}],\" di \",[\"$\",\"code\",null,{\"children\":\"components/atoms\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/atoms/Button.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" React \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"ButtonProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  text\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function function-variable\",\"children\":\"onClick\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"void\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  className\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" Button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FC\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"ButtonProps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" text\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" onClick\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" className \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"onClick\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" className\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"px-4 py-2 bg-blue-500 text-white rounded \"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"$${\"}],\"className\",[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"text\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" Button\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"b. \",[\"$\",\"strong\",null,{\"children\":\"Molecules\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Field input yang lebih kompleks dengan label di \",[\"$\",\"code\",null,{\"children\":\"components/molecules/InputField.tsx\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/molecules/InputField.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" React \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"InputFieldProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  value\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token function function-variable\",\"children\":\"onChange\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"e\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ChangeEvent\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"HTMLInputElement\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"void\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" InputField\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FC\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"InputFieldProps\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" label\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" onChange \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"label className\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"block text-gray-700 text-sm font-bold mb-2\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"label\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"input\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"text\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      value\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"value\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      onChange\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"onChange\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      className\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"border rounded py-2 px-3 w-full\\\"\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" InputField\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"c. \",[\"$\",\"strong\",null,{\"children\":\"Organisms\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Tabel data sensor di \",[\"$\",\"code\",null,{\"children\":\"components/organisms/SensorTable.tsx\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/organisms/SensorTable.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" React \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"type\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"SensorData\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  _id\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  suhu\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  humidity\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  ec_tds\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"number\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" SensorTable\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FC\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" SensorData\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"table className\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"table-auto w-full\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"thead\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"tr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Suhu\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Humidity\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"EC\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"TDS\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Timestamp\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"th\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"tr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"thead\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"tbody\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"data\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"map\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"tr key\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"_id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"suhu\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"Â°\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"C\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"humidity\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"%\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ec_tds\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" Âµ\",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"S\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"cm\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Date\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"sensor\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"timestamp\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"toLocaleString\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"td\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"tr\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"tbody\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"table\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" SensorTable\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}]]}]}]]}]]}]]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"5. Mengintegrasikan di Halaman\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Di \",[\"$\",\"strong\",null,{\"children\":\"App Router\"}],\", kita bisa menggunakan struktur ini dalam halaman \",[\"$\",\"code\",null,{\"children\":\"app/farm/page.tsx\"}],\" atau \",[\"$\",\"code\",null,{\"children\":\"app/sensor/page.tsx\"}],\", menggabungkan komponen dari Atomic Design dan mengakses data melalui controller.\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"p\",null,{\"children\":[\"Tentu, berikut adalah kerangka bab beserta outline untuk bagian \",[\"$\",\"strong\",null,{\"children\":\"Otentikasi dan Otorisasi\"}],\" pada proyek situs HortiLink. Kerangka ini bisa membantu menyusun penjelasan yang sistematis dan komprehensif, mulai dari pengenalan hingga implementasi praktis dengan NextAuth, MongoDB, dan middleware untuk proteksi rute berdasarkan role.\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"otentikasi-dan-otorisasi\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#otentikasi-dan-otorisasi\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Otentikasi dan Otorisasi\"]}],[\"$\",\"p\",null,{\"children\":[\"Dalam aplikasi modern, terutama yang melibatkan data sensitif atau fungsi penting seperti HortiLink, \",[\"$\",\"strong\",null,{\"children\":\"otentikasi\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"otorisasi\"}],\" adalah dua pilar yang tak bisa diabaikan. Keduanya berfungsi sebagai gerbang keamanan utama yang memastikan siapa saja yang mengakses aplikasi memang benar-benar pengguna yang memiliki izin. Otentikasi dan otorisasi adalah kunci untuk menjaga data dan fungsionalitas tetap aman dari akses yang tidak sah. Mari kita bahas satu per satu kenapa ini penting dan bagaimana kita menerapkannya di HortiLink.\"]}],[\"$\",\"h4\",null,{\"id\":\"mengapa-otentikasi-dan-otorisasi-itu-penting\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#mengapa-otentikasi-dan-otorisasi-itu-penting\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Mengapa Otentikasi dan Otorisasi Itu Penting?\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Melindungi Data dan Fungsi Kritikal\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"Bayangkan sebuah aplikasi tanpa kontrol keamanan. Semua orang bisa masuk dan melihat data penting tanpa batasan. Bagi HortiLink, aplikasi yang menangani data operasional dan teknis, membuka akses tanpa filter bisa menimbulkan risiko besar, baik dari segi keamanan maupun stabilitas aplikasi.\"}],[\"$\",\"li\",null,{\"children\":\"Otentikasi memastikan bahwa yang masuk ke aplikasi hanyalah orang-orang yang memiliki akun yang valid, bukan sembarang orang. Sementara itu, otorisasi memastikan bahwa hanya pengguna tertentu yang bisa mengakses data atau fungsi tertentu, tergantung pada peran dan izin mereka.\"}]]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Membatasi Akses Berdasarkan Peran\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Di HortiLink, kita akan memiliki berbagai jenis pengguna: \",[\"$\",\"strong\",null,{\"children\":\"Admin\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Engineer\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"Teknisi/Operator\"}],\", dan \",[\"$\",\"strong\",null,{\"children\":\"Guest\"}],\". Setiap peran ini punya hak dan akses berbeda-beda.\"]}],[\"$\",\"li\",null,{\"children\":[\"Misalnya, \",[\"$\",\"strong\",null,{\"children\":\"Admin\"}],\" mungkin bisa mengakses dan mengubah segala hal, dari data pengguna hingga pengaturan sistem. \",[\"$\",\"strong\",null,{\"children\":\"Engineer\"}],\" hanya bisa mengakses data teknis, sedangkan \",[\"$\",\"strong\",null,{\"children\":\"Operator\"}],\" mungkin hanya perlu mengakses data operasional tertentu. Dengan otorisasi berbasis role, kita bisa memastikan setiap pengguna memiliki akses yang sesuai, tanpa risiko membuka data kritikal kepada orang yang tidak berhak.\"]}]]}]]}]]}],[\"$\",\"h4\",null,{\"id\":\"tujuan-otentikasi-dan-otorisasi-di-hortilink\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#tujuan-otentikasi-dan-otorisasi-di-hortilink\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Tujuan Otentikasi dan Otorisasi di HortiLink\"]}],[\"$\",\"p\",null,{\"children\":[\"Di sinilah \",[\"$\",\"strong\",null,{\"children\":\"NextAuth\"}],\" masuk sebagai sistem otentikasi, yaitu proses yang memungkinkan pengguna login dengan akun masing-masing. Selain memudahkan proses login, NextAuth mendukung berbagai metode otentikasi, termasuk melalui akun sosial media (seperti Google dan GitHub) dan login berbasis email dan password. Dengan NextAuth, pengguna dapat dengan mudah masuk ke dalam aplikasi, dan kita bisa memastikan mereka benar-benar adalah pengguna yang terdaftar.\"]}],[\"$\",\"p\",null,{\"children\":[\"Kemudian, untuk otorisasi berbasis role, kita akan menggunakan \",[\"$\",\"strong\",null,{\"children\":\"middleware\"}],\" yang akan mengelola izin akses setiap pengguna berdasarkan perannya. Artinya, setelah pengguna berhasil login, middleware ini akan memeriksa apakah mereka memiliki hak yang sesuai untuk mengakses halaman atau fitur tertentu di aplikasi.\"]}],[\"$\",\"h4\",null,{\"id\":\"manfaat-langsung-bagi-hortilink\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#manfaat-langsung-bagi-hortilink\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Manfaat Langsung bagi HortiLink\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Keamanan Data yang Lebih Baik\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"Dengan otentikasi yang kuat dan kontrol otorisasi, data sensitif, seperti data teknis perangkat atau informasi operasional yang spesifik, hanya dapat diakses oleh pengguna yang tepat. Ini memastikan bahwa data selalu aman dan mencegah akses yang tidak sah.\"}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Pengalaman Pengguna yang Disesuaikan\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"Dengan menerapkan otorisasi berbasis role, setiap pengguna akan merasa bahwa aplikasi disesuaikan untuk peran mereka. Seorang teknisi hanya akan melihat bagian yang relevan dengan tugas operasional mereka, sementara admin akan mendapatkan akses ke semua data dan pengaturan yang mereka perlukan.\"}]}]]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Menghindari Beban Teknis di Server\"}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"Membatasi akses tidak hanya soal keamanan, tetapi juga efisiensi. Dengan memastikan pengguna hanya bisa mengakses halaman dan fungsi yang mereka butuhkan, kita bisa mengurangi beban di server dan meningkatkan performa aplikasi secara keseluruhan.\"}]}]]}]]}],[\"$\",\"p\",null,{\"children\":\"Jadi, dengan otentikasi dan otorisasi yang diterapkan melalui NextAuth dan middleware, HortiLink tidak hanya menjadi aplikasi yang aman tetapi juga efisien dan ramah pengguna. Setiap pengguna dapat menjalankan tugas mereka dengan tepat dan cepat, tanpa harus berurusan dengan data atau fungsi yang tidak relevan.\"}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"1-instalasi-dan-setup-nextauth\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#1-instalasi-dan-setup-nextauth\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"1. Instalasi dan Setup NextAuth\"]}],[\"$\",\"p\",null,{\"children\":\"Pada bagian ini, akan dijelaskan langkah-langkah menginstal dan melakukan konfigurasi dasar NextAuth pada aplikasi HortiLink. NextAuth akan digunakan sebagai sistem otentikasi utama untuk mengelola login pengguna dan sesi aplikasi.\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":\"1.1 Pengantar NextAuth NextAuth adalah library otentikasi yang dirancang khusus untuk aplikasi Next.js. NextAuth memberikan solusi otentikasi yang mudah dan fleksibel dengan mendukung berbagai metode otentikasi, termasuk OAuth (misalnya Google, Facebook, GitHub) dan login berbasis email dan password.\"}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Kelebihan NextAuth\"}],\":\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Dukungan Berbagai Provider\"}],\": NextAuth mendukung banyak provider otentikasi (Google, Facebook, GitHub, dll.), sehingga memudahkan pengguna untuk login menggunakan akun sosial media mereka.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Sistem Berbasis JSON Web Tokens (JWT)\"}],\": Menggunakan JWT, NextAuth mampu mengelola sesi secara aman di client-side dan server-side, yang sangat cocok untuk aplikasi yang membutuhkan otentikasi lintas platform.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Fleksibilitas Callback\"}],\": NextAuth menyediakan berbagai callback yang memungkinkan kita untuk menyesuaikan proses otentikasi dan manajemen sesi sesuai kebutuhan aplikasi, termasuk penambahan data khusus seperti peran (role) pengguna.\"]}]]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"1.2 Instalasi NextAuth Untuk memulai penggunaan NextAuth, lakukan instalasi library \",[\"$\",\"code\",null,{\"children\":\"next-auth\"}],\" pada proyek Next.js dengan menggunakan perintah berikut:\"]}]}]]}],[\"$\",\"pre\",null,{\"className\":\"language-bash\",\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-bash\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"npm\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"install\"}],\" next-auth\\n\"]}]}]}],[\"$\",\"p\",null,{\"children\":\"Setelah instalasi selesai, NextAuth siap untuk dikonfigurasi sebagai sistem otentikasi di HortiLink.\"}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"1.3 Konfigurasi Dasar NextAuth Konfigurasi dasar NextAuth mencakup beberapa hal: menentukan provider otentikasi, menambahkan dukungan login berbasis username/password, serta mengatur callback untuk pengelolaan sesi. Berikut adalah penjelasan detail dari setiap langkah konfigurasi.\"}]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"p\",null,{\"children\":\"a. Menentukan Provider OAuth Langkah pertama adalah menentukan provider yang akan digunakan dalam otentikasi. Pada contoh ini, kita akan mengkonfigurasi Google, Facebook, dan GitHub sebagai provider login.\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Buat file konfigurasi NextAuth di \",[\"$\",\"code\",null,{\"children\":\"app/api/auth/[...nextauth]/route.ts\"}],\". Pastikan struktur file ini sesuai dengan arsitektur Next.js yang menggunakan App Router.\"]}],[\"$\",\"li\",null,{\"children\":\"Tambahkan konfigurasi setiap provider sebagai berikut:\"}]]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/api/auth/[...nextauth]/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" NextAuth \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" GoogleProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/google'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" FacebookProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/facebook'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" GitHubProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/github'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" CredentialsProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/credentials'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" authOptions \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  providers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"GoogleProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GOOGLE_CLIENT_ID\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientSecret\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GOOGLE_CLIENT_SECRET\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"FacebookProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FACEBOOK_CLIENT_ID\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientSecret\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"FACEBOOK_CLIENT_SECRET\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"GitHubProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GITHUB_CLIENT_ID\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientSecret\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GITHUB_CLIENT_SECRET\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Konfigurasi tambahan untuk pengelolaan sesi akan ditambahkan pada langkah berikut\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"NextAuth\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"authOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"POST\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"ol\",null,{\"start\":\"3\",\"children\":[\"$\",\"li\",null,{\"children\":[\"Pastikan Anda telah menambahkan variabel \",[\"$\",\"code\",null,{\"children\":\"GOOGLE_CLIENT_ID\"}],\", \",[\"$\",\"code\",null,{\"children\":\"GOOGLE_CLIENT_SECRET\"}],\", \",[\"$\",\"code\",null,{\"children\":\"FACEBOOK_CLIENT_ID\"}],\", \",[\"$\",\"code\",null,{\"children\":\"FACEBOOK_CLIENT_SECRET\"}],\", \",[\"$\",\"code\",null,{\"children\":\"GITHUB_CLIENT_ID\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"GITHUB_CLIENT_SECRET\"}],\" pada file \",[\"$\",\"code\",null,{\"children\":\".env.local\"}],\" di root proyek Next.js.\"]}]}]]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"b. Menambahkan Login Berbasis Username dan Password dengan Credentials Provider Selain menggunakan provider OAuth, NextAuth juga mendukung login berbasis username dan password menggunakan \",[\"$\",\"strong\",null,{\"children\":\"Credentials Provider\"}],\". Ini sangat bermanfaat jika aplikasi HortiLink juga ingin menyediakan opsi login khusus dengan email dan password.\"]}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan konfigurasi \",[\"$\",\"code\",null,{\"children\":\"CredentialsProvider\"}],\" pada array \",[\"$\",\"code\",null,{\"children\":\"providers\"}],\" di \",[\"$\",\"code\",null,{\"children\":\"authOptions\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Lanjutan dari kode sebelumnya di app/api/auth/[...nextauth]/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"CredentialsProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Credentials'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  credentials\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    username\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Username'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'text'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Password'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'password'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"authorize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"credentials\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Logika otentikasi username/password\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" user \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" id\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'user@example.com'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Contoh pengguna statis\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Verifikasi user dari database atau layanan lain di sini\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resolve\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"else\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"Promise\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"resolve\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Dengan menambahkan \",[\"$\",\"code\",null,{\"children\":\"CredentialsProvider\"}],\", pengguna dapat melakukan login menggunakan kombinasi username dan password. \",[\"$\",\"strong\",null,{\"children\":\"Catatan\"}],\": pada aplikasi produksi, logika \",[\"$\",\"code\",null,{\"children\":\"authorize\"}],\" harus diubah agar memvalidasi username/password dari basis data atau sumber lain yang sesuai.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"c. Mengatur Callback NextAuth untuk Pengelolaan Sesi dengan JSON Web Tokens (JWT) NextAuth memungkinkan kita untuk mengelola sesi menggunakan \",[\"$\",\"strong\",null,{\"children\":\"JWT\"}],\". Kita dapat menambahkan callback \",[\"$\",\"code\",null,{\"children\":\"jwt\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"session\"}],\" untuk menyimpan informasi tambahan di token sesi pengguna, seperti peran (role) pengguna atau ID pengguna.\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan konfigurasi berikut pada \",[\"$\",\"code\",null,{\"children\":\"authOptions\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Lanjutan dari konfigurasi di app/api/auth/[...nextauth]/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"callbacks\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"jwt\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" user \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Tambahkan data user ke token saat login pertama kali\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"id \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'user'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Menambahkan role default jika tidak ada\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"session\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" token \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Tambahkan data dari token ke dalam sesi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"id \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"id\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"session\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  strategy\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'jwt'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Gunakan JWT untuk mengelola sesi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Penjelasan:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"jwt\"}]]}],\": Callback ini menambahkan data ke JWT setiap kali sesi pengguna diperbarui. Di sini, kita menambahkan \",[\"$\",\"code\",null,{\"children\":\"user.id\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"user.role\"}],\" ke dalam token.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"session\"}]]}],\": Callback ini menambahkan data dari token JWT ke dalam sesi pengguna, sehingga data ini bisa diakses di seluruh aplikasi.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"$\",\"code\",null,{\"children\":\"strategy: 'jwt'\"}]}],\": Menginstruksikan NextAuth untuk menggunakan JWT sebagai strategi penyimpanan sesi.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Dengan konfigurasi ini, aplikasi HortiLink siap menggunakan NextAuth untuk otentikasi, mendukung beberapa provider, login berbasis username/password, dan manajemen sesi berbasis JWT.\"}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#2-integrasi-nextauth-dengan-mongodb-menggunakan-mongoose\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2. Integrasi NextAuth dengan MongoDB Menggunakan Mongoose\"]}],[\"$\",\"p\",null,{\"children\":[\"Pada bagian ini, akan dibahas cara mengintegrasikan \",[\"$\",\"strong\",null,{\"children\":\"NextAuth\"}],\" dengan \",[\"$\",\"strong\",null,{\"children\":\"MongoDB\"}],\" menggunakan \",[\"$\",\"strong\",null,{\"children\":\"Mongoose\"}],\" sebagai ODM (Object-Document Mapping). Integrasi ini diperlukan untuk menyimpan data pengguna secara persisten, termasuk informasi penting seperti role pengguna, yang digunakan dalam otorisasi akses pada aplikasi HortiLink.\"]}],[\"$\",\"h5\",null,{\"id\":\"21-setup-koneksi-mongodb\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#21-setup-koneksi-mongodb\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2.1 Setup Koneksi MongoDB\"]}],[\"$\",\"p\",null,{\"children\":\"Agar aplikasi dapat terhubung dengan MongoDB, kita perlu membuat file koneksi dan mengatur variabel lingkungan yang diperlukan untuk akses ke database MongoDB.\"}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Membuat File \",[\"$\",\"code\",null,{\"children\":\"mongodb.ts\"}],\" untuk Koneksi dengan Mongoose\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Buat file \",[\"$\",\"code\",null,{\"children\":\"mongodb.ts\"}],\" di dalam folder \",[\"$\",\"code\",null,{\"children\":\"lib/\"}],\" atau folder lain yang sesuai di dalam proyek. File ini akan mengelola koneksi MongoDB, memastikan hanya satu koneksi yang digunakan selama aplikasi berjalan. Pendekatan ini juga membantu menghindari masalah koneksi ulang yang tidak diperlukan, terutama saat menggunakan fitur \",[\"$\",\"strong\",null,{\"children\":\"Fast Refresh\"}],\" di Next.js.\"]}],[\"$\",\"p\",null,{\"children\":[\"Berikut adalah contoh implementasi file \",[\"$\",\"code\",null,{\"children\":\"mongodb.ts\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// lib/mongodb.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"throw\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Error\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Please define the MONGODB_URI environment variable inside .env.local'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Caching koneksi agar tidak membuat koneksi baru saat Fast Refresh\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"let\"}],\" cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" global\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"mongoose \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" conn\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" promise\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connectToDatabase\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"MONGODB_URI\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"then\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" mongoose\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"promise\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" cached\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"conn\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" connectToDatabase\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Penjelasan:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"MONGODB_URI\"}],\" adalah variabel lingkungan yang berisi URL koneksi ke MongoDB.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"Fungsi \",[\"$\",\"code\",null,{\"children\":\"connectToDatabase\"}],\" memastikan koneksi hanya dibuat satu kali selama aplikasi berjalan, dan koneksi ini disimpan dalam cache (\",[\"$\",\"code\",null,{\"children\":\"cached.conn\"}],\").\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"Pendekatan ini membantu mengurangi masalah koneksi yang berlebihan, terutama dalam lingkungan pengembangan.\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"b. Pengaturan Environment Variable untuk Koneksi MongoDB\"}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan variabel lingkungan \",[\"$\",\"code\",null,{\"children\":\"MONGODB_URI\"}],\" di file \",[\"$\",\"code\",null,{\"children\":\".env.local\"}],\" pada root proyek. Nilainya adalah URI koneksi MongoDB yang sesuai dengan pengaturan database yang digunakan.\"]}],[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"code-highlight language-env\",\"children\":[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/mydatabase\\n\"}]}]}],[\"$\",\"p\",null,{\"children\":[\"Gantilah \",[\"$\",\"code\",null,{\"children\":\"username\"}],\", \",[\"$\",\"code\",null,{\"children\":\"password\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"mydatabase\"}],\" sesuai dengan kredensial dan nama database yang digunakan.\"]}],[\"$\",\"h5\",null,{\"id\":\"22-membuat-model-user-dengan-role-di-mongodb\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#22-membuat-model-user-dengan-role-di-mongodb\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2.2 Membuat Model User dengan Role di MongoDB\"]}],[\"$\",\"p\",null,{\"children\":[\"Selanjutnya, kita perlu membuat model \",[\"$\",\"strong\",null,{\"children\":\"User\"}],\" di MongoDB yang mencakup informasi seperti nama, email, dan role pengguna. Model ini akan membantu mengelola dan mengakses data pengguna di seluruh aplikasi, khususnya untuk keperluan otorisasi.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"a. Membuat Skema User Menggunakan Mongoose\"}]}],[\"$\",\"p\",null,{\"children\":[\"Buat file \",[\"$\",\"code\",null,{\"children\":\"User.ts\"}],\" di dalam folder \",[\"$\",\"code\",null,{\"children\":\"models\"}],\" untuk mendefinisikan skema Mongoose yang mencakup field \",[\"$\",\"code\",null,{\"children\":\"role\"}],\". Berikut ini adalah contoh skema pengguna dengan field dasar yang diperlukan.\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// models/User.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" Schema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" Document\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" Model \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'mongoose'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"IUser\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"extends\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Document\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  role\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'operator'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"|\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'guest'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" userSchema\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Schema\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"IUser\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"Schema\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" required\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" unique\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token boolean\",\"children\":\"true\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  role\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" String\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"enum\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'operator'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'guest'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'guest'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" User\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" Model\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"IUser\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"models\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"User \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" mongoose\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token generic-function\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"model\"}],[\"$\",\"span\",null,{\"className\":\"token class-name generic\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"IUser\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}]]}]]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'User'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" userSchema\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" User\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Penjelasan:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Field \",[\"$\",\"code\",null,{\"children\":\"name\"}]]}],\": Menyimpan nama pengguna, bersifat wajib (\",[\"$\",\"code\",null,{\"children\":\"required: true\"}],\").\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Field \",[\"$\",\"code\",null,{\"children\":\"email\"}]]}],\": Menyimpan email pengguna yang harus unik (\",[\"$\",\"code\",null,{\"children\":\"unique: true\"}],\") untuk setiap pengguna.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Field \",[\"$\",\"code\",null,{\"children\":\"role\"}]]}],\": Menyimpan role pengguna dengan opsi \",[\"$\",\"code\",null,{\"children\":\"enum\"}],\", yaitu hanya menerima nilai 'admin', 'engineer', 'operator', atau 'guest'. Role default adalah 'guest'.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Dengan model ini, kita bisa menyimpan dan mengelola pengguna di MongoDB serta memberikan role tertentu yang akan digunakan untuk keperluan otorisasi.\"}],[\"$\",\"h5\",null,{\"id\":\"23-menyimpan-dan-mengambil-role-dari-database\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#23-menyimpan-dan-mengambil-role-dari-database\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"2.3 Menyimpan dan Mengambil Role dari Database\"]}],[\"$\",\"p\",null,{\"children\":[\"Dalam otentikasi NextAuth, kita bisa menggunakan callback \",[\"$\",\"code\",null,{\"children\":\"jwt\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"session\"}],\" untuk menambahkan data role dari database MongoDB ke dalam token sesi. Ini memungkinkan kita untuk memanfaatkan role pengguna di seluruh aplikasi, baik untuk proteksi rute maupun pembatasan akses di bagian-bagian tertentu aplikasi.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Konfigurasi \",[\"$\",\"code\",null,{\"children\":\"authOptions\"}],\" di NextAuth untuk Menyimpan Role\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Agar data role dari MongoDB tersimpan di token dan sesi pengguna, tambahkan konfigurasi \",[\"$\",\"code\",null,{\"children\":\"authOptions\"}],\" berikut:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/api/auth/[...nextauth]/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" NextAuth \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" GoogleProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/google'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" CredentialsProvider \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/providers/credentials'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" connectToDatabase \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/lib/mongodb'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" User \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/models/User'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" authOptions \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  providers\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"GoogleProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientId\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GOOGLE_CLIENT_ID\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      clientSecret\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" process\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"env\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GOOGLE_CLIENT_SECRET\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"CredentialsProvider\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      name\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Credentials'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      credentials\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Email'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'text'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        password\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" label\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'Password'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" type\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'password'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"authorize\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"credentials\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Otentikasi username/password\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connectToDatabase\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" user \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" User\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"findOne\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" credentials\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"email \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" user\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"else\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  callbacks\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"jwt\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" user \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"connectToDatabase\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Ambil data user dari database saat user login\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" dbUser \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" User\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"findOne\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" email\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"email \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" dbUser\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'guest'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" token\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"session\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" token \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Menyimpan role dari token ke session\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" session\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  session\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    strategy\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'jwt'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Menggunakan JWT untuk manajemen sesi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"NextAuth\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"authOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"GET\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" handler \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"POST\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan Konfigurasi\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"authorize\"}],\" di CredentialsProvider\"]}],\": Digunakan untuk memvalidasi pengguna yang login menggunakan username dan password. Fungsi ini memeriksa email pengguna di MongoDB, dan jika ditemukan, user tersebut dikembalikan untuk melanjutkan sesi login.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"jwt\"}]]}],\": Setiap kali pengguna login atau sesi mereka diperbarui, callback ini akan menambahkan data \",[\"$\",\"code\",null,{\"children\":\"role\"}],\" dari database MongoDB ke dalam token JWT.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"session\"}]]}],\": Callback ini menambahkan data role dari token ke dalam sesi. Dengan begitu, role pengguna dapat diakses di seluruh aplikasi melalui sesi pengguna.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Dengan konfigurasi ini, NextAuth dapat menyimpan role dari database MongoDB ke dalam sesi pengguna, memungkinkan aplikasi untuk menentukan hak akses pengguna secara otomatis.\"}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"3-middleware-untuk-proteksi-rute-berdasarkan-role\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#3-middleware-untuk-proteksi-rute-berdasarkan-role\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3. Middleware untuk Proteksi Rute Berdasarkan Role\"]}],[\"$\",\"p\",null,{\"children\":[\"Bagian ini akan menjelaskan penerapan \",[\"$\",\"strong\",null,{\"children\":\"Role-Based Access Control (RBAC)\"}],\" di aplikasi HortiLink menggunakan \",[\"$\",\"strong\",null,{\"children\":\"middleware Next.js\"}],\". RBAC memungkinkan kita untuk membatasi akses ke halaman-halaman tertentu berdasarkan role pengguna, memastikan hanya pengguna dengan izin yang sesuai yang dapat mengakses halaman atau fitur tertentu.\"]}],[\"$\",\"h5\",null,{\"id\":\"31-konsep-role-based-access-control-rbac\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#31-konsep-role-based-access-control-rbac\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3.1 Konsep Role-Based Access Control (RBAC)\"]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Role-Based Access Control (RBAC)\"}],\" adalah sistem manajemen akses yang menentukan hak akses pengguna berdasarkan peran (role) mereka. RBAC membantu memastikan bahwa setiap pengguna hanya dapat mengakses halaman atau fitur yang sesuai dengan peran mereka dalam aplikasi.\"]}],[\"$\",\"p\",null,{\"children\":\"Dalam aplikasi HortiLink, ada empat peran utama:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Admin\"}],\": Memiliki akses penuh ke semua halaman dan fitur.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Engineer\"}],\": Memiliki akses ke halaman teknis dan manajemen perangkat, tetapi tidak ke halaman administrasi.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Operator\"}],\": Memiliki akses terbatas hanya ke halaman pengoperasian perangkat.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Guest\"}],\": Hanya memiliki akses ke halaman umum yang tidak memerlukan login.\"]}]]}],[\"$\",\"p\",null,{\"children\":[\"Untuk implementasi RBAC, kita akan menggunakan \",[\"$\",\"strong\",null,{\"children\":\"middleware\"}],\" untuk memeriksa role pengguna dan membandingkannya dengan level akses yang dibutuhkan setiap halaman. Middleware akan membatasi akses secara otomatis sesuai dengan prioritas role pengguna.\"]}],[\"$\",\"h5\",null,{\"id\":\"32-implementasi-middleware-di-nextjs\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#32-implementasi-middleware-di-nextjs\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3.2 Implementasi Middleware di Next.js\"]}],[\"$\",\"p\",null,{\"children\":[\"NextAuth menyediakan fungsi \",[\"$\",\"code\",null,{\"children\":\"withAuth\"}],\" yang memungkinkan kita membuat middleware untuk proteksi rute. Middleware ini akan membaca token sesi pengguna, memeriksa role mereka, dan menentukan apakah mereka memiliki hak akses yang cukup untuk mengakses halaman yang diminta.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Membuat Konstanta \",[\"$\",\"code\",null,{\"children\":\"ROLE_PRIORITY\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"PROTECTED_ROUTES\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Pertama, kita definisikan konstanta \",[\"$\",\"code\",null,{\"children\":\"ROLE_PRIORITY\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"PROTECTED_ROUTES\"}],\" untuk memudahkan middleware dalam menentukan hak akses setiap role terhadap halaman yang dilindungi.\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// middleware.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Definisikan prioritas untuk setiap role\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  admin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Akses penuh\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  engineer\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Akses teknis\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  operator\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Akses operasional\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  guest\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Akses umum\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Tentukan rute yang dilindungi dan minimum prioritas aksesnya\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PROTECTED_ROUTES\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/admin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"admin\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Hanya admin\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"engineer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Admin dan engineer\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/operator'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"operator\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Admin, engineer, dan operator\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/public'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"guest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Semua pengguna, termasuk guest\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"ROLE_PRIORITY\"}],\" mendefinisikan hierarki prioritas setiap role, di mana nilai lebih rendah menunjukkan prioritas lebih tinggi.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"PROTECTED_ROUTES\"}],\" menentukan halaman yang membutuhkan proteksi, dengan level akses minimum berdasarkan prioritas.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"b. Implementasi Middleware \",[\"$\",\"code\",null,{\"children\":\"withAuth\"}],\" untuk Proteksi Rute\"]}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Selanjutnya, kita buat middleware \",[\"$\",\"code\",null,{\"children\":\"withAuth\"}],\" untuk memeriksa apakah pengguna memiliki hak akses yang cukup untuk mengakses rute tertentu. Middleware ini akan memeriksa role pengguna dan, jika diperlukan, mengarahkan mereka ke halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\" jika mereka tidak memiliki izin yang cukup.\"]}],[\"$\",\"p\",null,{\"children\":[\"Berikut adalah implementasi lengkap middleware di file \",[\"$\",\"code\",null,{\"children\":\"middleware.ts\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// middleware.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" withAuth \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/middleware'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" NextResponse \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/server'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Definisikan role dan rute yang dilindungi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  admin\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"1\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  engineer\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"2\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  operator\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"3\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  guest\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token number\",\"children\":\"4\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PROTECTED_ROUTES\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/admin'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"admin\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"engineer\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/operator'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"operator\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token property string-property\",\"children\":\"'/public'\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"guest\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"withAuth\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"middleware\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"req\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Dapatkan token dari NextAuth middleware\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" token \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" req\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"nextauth\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Redirect ke halaman login jika pengguna belum login\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"redirect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/login'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" req\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Ambil role pengguna dari token dan tentukan prioritasnya\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" userRolePriority \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"as\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"keyof\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"typeof\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"ROLE_PRIORITY\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"guest\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Ambil path dari URL yang diminta\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" requestedPath \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" req\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"nextUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"pathname\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Periksa akses berdasarkan rute yang dilindungi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"for\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],\"path\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" minPriority\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"of\"}],\" Object\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"entries\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"PROTECTED_ROUTES\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"requestedPath\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"startsWith\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"path\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Jika prioritas user lebih tinggi dari yang dibutuhkan, redirect ke halaman unauthorized\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"userRolePriority \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\" minPriority\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"redirect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"new\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":[\"$\",\"span\",null,{\"className\":\"token constant\",\"children\":\"URL\"}]}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/unauthorized'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" req\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"break\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Jika pengguna memiliki akses, lanjutkan ke halaman yang diminta\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" NextResponse\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"next\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    callbacks\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token function function-variable\",\"children\":\"authorized\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" token \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"token\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Pastikan pengguna telah login\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Tentukan rute yang menggunakan middleware\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" config \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  matcher\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/admin/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/engineer/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/operator/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/public/:path*'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan Implementasi\"}],\":\"]}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Pengecekan Token\"}],\": Middleware ini menggunakan \",[\"$\",\"code\",null,{\"children\":\"withAuth\"}],\" untuk mendapatkan token dari sesi pengguna. Jika token tidak ada, artinya pengguna belum login, dan akan diarahkan ke halaman login.\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Pengecekan Role dan Prioritas\"}],\": Middleware mengecek role pengguna berdasarkan \",[\"$\",\"code\",null,{\"children\":\"token.role\"}],\" dan mencocokkannya dengan \",[\"$\",\"code\",null,{\"children\":\"ROLE_PRIORITY\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Akses ke Rute yang Dilindungi\"}],\": Middleware membandingkan \",[\"$\",\"code\",null,{\"children\":\"userRolePriority\"}],\" dengan \",[\"$\",\"code\",null,{\"children\":\"minPriority\"}],\" yang ditentukan untuk rute yang diminta. Jika role pengguna tidak memenuhi syarat, mereka akan diarahkan ke halaman \",[\"$\",\"code\",null,{\"children\":\"/unauthorized\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Config \",[\"$\",\"code\",null,{\"children\":\"matcher\"}]]}],\": Middleware ini diterapkan hanya pada rute-rute tertentu yang membutuhkan proteksi, seperti \",[\"$\",\"code\",null,{\"children\":\"/admin\"}],\", \",[\"$\",\"code\",null,{\"children\":\"/engineer\"}],\", \",[\"$\",\"code\",null,{\"children\":\"/operator\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"/public\"}],\".\"]}]]}],[\"$\",\"h5\",null,{\"id\":\"33-menangani-akses-ditolak\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#33-menangani-akses-ditolak\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3.3 Menangani Akses Ditolak\"]}],[\"$\",\"p\",null,{\"children\":[\"Untuk pengguna yang mencoba mengakses halaman tanpa izin yang cukup, middleware akan mengarahkan mereka ke halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\". Halaman ini memberikan informasi bahwa akses ditolak karena kurangnya hak akses.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"Membuat Halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Buat halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\" di \",[\"$\",\"code\",null,{\"children\":\"app/unauthorized/page.tsx\"}],\" untuk menampilkan pesan akses ditolak.\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/unauthorized/page.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"UnauthorizedPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Access Denied\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"You \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"do\"}],\" not have permission to view \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],\" page\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"a href\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"\\\"/\\\"\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Back to Home\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"a\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":\"Halaman ini memberikan pesan sederhana bahwa akses ke halaman ini ditolak karena pengguna tidak memiliki izin yang sesuai.\"}],[\"$\",\"li\",null,{\"children\":\"Terdapat tautan kembali ke halaman utama untuk membantu navigasi pengguna.\"}]]}],[\"$\",\"h5\",null,{\"id\":\"34-testing-middleware\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#34-testing-middleware\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"3.4 Testing Middleware\"]}],[\"$\",\"p\",null,{\"children\":\"Setelah middleware selesai diimplementasikan, lakukan pengujian untuk memastikan proteksi rute berjalan dengan baik sesuai dengan role masing-masing pengguna. Berikut adalah skenario pengujian yang direkomendasikan:\"}],[\"$\",\"ol\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Admin\"}],\": Pastikan pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"admin\"}],\" memiliki akses penuh ke halaman \",[\"$\",\"code\",null,{\"children\":\"/admin\"}],\", \",[\"$\",\"code\",null,{\"children\":\"/engineer\"}],\", \",[\"$\",\"code\",null,{\"children\":\"/operator\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"/public\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Engineer\"}],\": Pastikan pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"engineer\"}],\" memiliki akses ke halaman \",[\"$\",\"code\",null,{\"children\":\"/engineer\"}],\", \",[\"$\",\"code\",null,{\"children\":\"/operator\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"/public\"}],\", tetapi diarahkan ke halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\" saat mencoba mengakses \",[\"$\",\"code\",null,{\"children\":\"/admin\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Operator\"}],\": Pastikan pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"operator\"}],\" hanya bisa mengakses halaman \",[\"$\",\"code\",null,{\"children\":\"/operator\"}],\" dan \",[\"$\",\"code\",null,{\"children\":\"/public\"}],\", tetapi diarahkan ke halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\" saat mencoba mengakses \",[\"$\",\"code\",null,{\"children\":\"/admin\"}],\" atau \",[\"$\",\"code\",null,{\"children\":\"/engineer\"}],\".\"]}],[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Guest\"}],\": Pastikan pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"guest\"}],\" hanya bisa mengakses halaman \",[\"$\",\"code\",null,{\"children\":\"/public\"}],\", dan diarahkan ke halaman \",[\"$\",\"code\",null,{\"children\":\"unauthorized\"}],\" jika mencoba mengakses halaman lain yang dilindungi.\"]}]]}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"4-kontrol-akses-di-komponen-client\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#4-kontrol-akses-di-komponen-client\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"4. Kontrol Akses di Komponen Client\"]}],[\"$\",\"p\",null,{\"children\":[\"Pada bagian ini, akan dibahas cara mengelola kontrol akses di sisi client menggunakan \",[\"$\",\"strong\",null,{\"children\":\"NextAuth\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":[\"hook \",[\"$\",\"code\",null,{\"children\":\"useSession\"}]]}],\". Dengan memanfaatkan \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\", kita dapat melakukan pengecekan role pengguna pada komponen atau halaman tertentu di client-side, serta menyesuaikan tampilan elemen UI berdasarkan role pengguna. Pendekatan ini memungkinkan aplikasi memberikan pengalaman yang lebih disesuaikan untuk setiap jenis pengguna.\"]}],[\"$\",\"h5\",null,{\"id\":\"41-menggunakan-usesession-untuk-kontrol-akses\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#41-menggunakan-usesession-untuk-kontrol-akses\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"4.1 Menggunakan \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" untuk Kontrol Akses\"]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" adalah hook yang disediakan oleh NextAuth untuk mendapatkan informasi sesi pengguna yang sedang aktif. Dengan hook ini, kita dapat memeriksa \",[\"$\",\"strong\",null,{\"children\":\"status login\"}],\" dan \",[\"$\",\"strong\",null,{\"children\":\"role pengguna\"}],\" di setiap komponen client, memungkinkan pengaturan akses ke halaman tertentu secara dinamis berdasarkan role yang dimiliki pengguna.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Penggunaan Dasar \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" untuk Memeriksa Role\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Berikut adalah contoh penggunaan dasar \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" untuk memeriksa status sesi dan role pengguna. Implementasi ini akan menampilkan pesan akses ditolak jika pengguna tidak memiliki role yang diperlukan untuk mengakses halaman tertentu.\"]}],[\"$\",\"p\",null,{\"children\":[\"Misalnya, pada halaman \",[\"$\",\"strong\",null,{\"children\":\"Dashboard\"}],\" yang hanya bisa diakses oleh pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"admin\"}],\", \",[\"$\",\"code\",null,{\"children\":\"engineer\"}],\", dan \",[\"$\",\"code\",null,{\"children\":\"operator\"}],\", kita dapat menerapkan \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" sebagai berikut:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/dashboard/page.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useSession \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"DashboardPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" status \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useSession\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Menampilkan loading sementara menunggu status sesi\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"status \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'loading'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Loading\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Cek apakah user memiliki role yang diperbolehkan mengakses halaman dashboard\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"session \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'operator'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Access Denied\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" You \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"do\"}],\" not have permission to view \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],\" page\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Jika pengguna memiliki izin, tampilkan konten dashboard\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Dashboard\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Welcome\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"name\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Your role\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"$\",\"strong\",null,{\"children\":\"Penjelasan:\"}]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"code\",null,{\"children\":\"status === 'loading'\"}],\" digunakan untuk menampilkan pesan loading sementara data sesi sedang diproses.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"Kondisi \",[\"$\",\"code\",null,{\"children\":\"if (!session || ...)\"}],\" mengecek apakah pengguna tidak memiliki sesi yang valid atau memiliki role yang tidak diizinkan. Jika demikian, pengguna akan diberikan pesan \",[\"$\",\"strong\",null,{\"children\":\"Access Denied\"}],\".\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"Jika pengguna memiliki role yang sesuai (admin, engineer, atau operator), halaman Dashboard akan ditampilkan dengan pesan selamat datang.\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"b. Contoh Kontrol Akses Berbasis Role di Client-Side\"}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Untuk memberikan kontrol akses yang lebih fleksibel, kita bisa membuat fungsi khusus di komponen yang mengecek apakah role pengguna memenuhi persyaratan akses. Berikut adalah contoh fungsi \",[\"$\",\"code\",null,{\"children\":\"hasAccess\"}],\" yang mengembalikan \",[\"$\",\"code\",null,{\"children\":\"true\"}],\" jika pengguna memiliki role yang diizinkan, atau \",[\"$\",\"code\",null,{\"children\":\"false\"}],\" jika sebaliknya:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"hasAccess\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"any\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" session \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"includes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Menggunakan fungsi di komponen\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"hasAccess\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'operator'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Access Denied\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" You \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"do\"}],\" not have permission to view \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],\" page\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Fungsi \",[\"$\",\"code\",null,{\"children\":\"hasAccess\"}],\" ini dapat digunakan untuk memudahkan kontrol akses di berbagai komponen client, tanpa harus menuliskan ulang logika pengecekan role setiap kali.\"]}],[\"$\",\"h5\",null,{\"id\":\"42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#42-menyembunyikan-atau-menampilkan-fitur-berdasarkan-role\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"4.2 Menyembunyikan atau Menampilkan Fitur Berdasarkan Role\"]}],[\"$\",\"p\",null,{\"children\":[\"Selain mengatur akses ke halaman secara keseluruhan, \",[\"$\",\"code\",null,{\"children\":\"useSession\"}],\" juga memungkinkan kita untuk \",[\"$\",\"strong\",null,{\"children\":\"menyembunyikan atau menampilkan elemen UI\"}],\" tertentu berdasarkan role pengguna. Hal ini bermanfaat untuk memberikan pengalaman pengguna yang lebih personal, dengan menampilkan hanya fitur-fitur yang relevan sesuai peran masing-masing pengguna.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":\"a. Menampilkan atau Menyembunyikan Komponen Berdasarkan Role\"}]}],[\"$\",\"p\",null,{\"children\":[\"Misalkan, kita ingin menampilkan fitur manajemen pengguna hanya untuk pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"admin\"}],\", dan fitur pengelolaan perangkat untuk pengguna dengan role \",[\"$\",\"code\",null,{\"children\":\"engineer\"}],\". Kita bisa menambahkan logika pada komponen UI sebagai berikut:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/dashboard/page.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useSession \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"DashboardPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" status \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useSession\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"status \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'loading'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Loading\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"session \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!==\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'operator'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Access Denied\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\" You \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"do\"}],\" not have permission to view \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"this\"}],\" page\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Dashboard\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Welcome\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"name\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Your role\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"p\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur hanya untuk Admin */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Admin Features\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Manage Users\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur hanya untuk Engineer */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Engineer Features\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Manage Devices\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur untuk Admin dan Engineer */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u0026\u0026\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Technical Reports\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"          \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"View Reports\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Fitur Admin\"}],\": Hanya ditampilkan jika \",[\"$\",\"code\",null,{\"children\":\"session.user.role\"}],\" adalah \",[\"$\",\"code\",null,{\"children\":\"admin\"}],\". Bagian ini dapat berisi fitur-fitur khusus yang hanya boleh diakses oleh admin, seperti manajemen pengguna.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Fitur Engineer\"}],\": Ditampilkan jika \",[\"$\",\"code\",null,{\"children\":\"session.user.role\"}],\" adalah \",[\"$\",\"code\",null,{\"children\":\"engineer\"}],\". Fitur ini bisa berisi elemen UI untuk manajemen perangkat atau fitur teknis lainnya.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Fitur Gabungan untuk Admin dan Engineer\"}],\": Dengan kondisi \",[\"$\",\"code\",null,{\"children\":\"(session.user.role === 'admin' || session.user.role === 'engineer')\"}],\", bagian ini akan ditampilkan kepada admin dan engineer. Misalnya, fitur untuk melihat laporan teknis.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"b. Menggunakan Komponen Terkondisi Berdasarkan Role\"}]}]]}],[\"$\",\"p\",null,{\"children\":\"Untuk membuat kode lebih rapi, kita juga bisa membuat komponen yang secara dinamis menampilkan elemen berdasarkan role pengguna. Komponen ini dapat digunakan untuk menyederhanakan kontrol akses pada berbagai fitur.\"}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// components/RoleBasedFeature.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useSession \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"interface\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token class-name\",\"children\":\"RoleBasedFeatureProps\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  children\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" React\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"ReactNode\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"RoleBasedFeature\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" children \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" RoleBasedFeatureProps\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" data\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" session \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useSession\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"session \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"||\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"!\"}],\"allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"includes\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\".\"}],\"role\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"null\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Jangan tampilkan apapun jika role tidak sesuai\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"children\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"Komponen \",[\"$\",\"code\",null,{\"children\":\"RoleBasedFeature\"}],\" menerima dua properti: \",[\"$\",\"code\",null,{\"children\":\"allowedRoles\"}],\", yang merupakan array role yang diizinkan, dan \",[\"$\",\"code\",null,{\"children\":\"children\"}],\", yang berisi elemen atau komponen yang akan ditampilkan.\"]}],[\"$\",\"li\",null,{\"children\":[\"Jika \",[\"$\",\"code\",null,{\"children\":\"session.user.role\"}],\" cocok dengan salah satu role di \",[\"$\",\"code\",null,{\"children\":\"allowedRoles\"}],\", maka \",[\"$\",\"code\",null,{\"children\":\"children\"}],\" akan ditampilkan; jika tidak, elemen tidak akan ditampilkan sama sekali.\"]}]]}],[\"$\",\"p\",null,{\"children\":\"Dengan komponen ini, kontrol akses di halaman dapat disederhanakan sebagai berikut:\"}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/dashboard/page.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" RoleBasedFeature \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/components/RoleBasedFeature'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"DashboardPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Dashboard\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur hanya untuk Admin */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"RoleBasedFeature allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Admin Features\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Manage Users\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"RoleBasedFeature\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur hanya untuk Engineer */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"RoleBasedFeature allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Engineer Features\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Manage Devices\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"RoleBasedFeature\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"/* Fitur untuk Admin dan Engineer */\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"RoleBasedFeature allowedRoles\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"[\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"]\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Technical Reports\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h2\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"View Reports\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"RoleBasedFeature\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":\"Dengan pendekatan ini, kontrol akses menjadi lebih modular dan mudah dipelihara.\"}],[\"$\",\"hr\",null,{}],[\"$\",\"h4\",null,{\"id\":\"5-fitur-lanjutan-redirect-setelah-login-dan-logout\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#5-fitur-lanjutan-redirect-setelah-login-dan-logout\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"5. Fitur Lanjutan: Redirect Setelah Login dan Logout\"]}],[\"$\",\"p\",null,{\"children\":[\"Pada bagian ini, akan dijelaskan cara menambahkan fitur \",[\"$\",\"strong\",null,{\"children\":\"redirect\"}],\" untuk mengarahkan pengguna ke halaman tertentu setelah proses login atau logout. Fitur ini penting untuk memberikan pengalaman pengguna yang lebih intuitif, memastikan mereka diarahkan ke halaman yang relevan sesuai konteks (misalnya, dashboard setelah login dan halaman utama setelah logout). Berikut adalah implementasi redirect setelah login dan logout di NextAuth.\"]}],[\"$\",\"h5\",null,{\"id\":\"51-redirect-setelah-login\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#51-redirect-setelah-login\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"5.1 Redirect Setelah Login\"]}],[\"$\",\"p\",null,{\"children\":[\"Setelah pengguna berhasil login, seringkali kita ingin mengarahkan mereka ke halaman yang sesuai dengan peran atau tujuan mereka, seperti halaman dashboard atau halaman beranda khusus. NextAuth memungkinkan kita untuk mengimplementasikan redirect setelah login melalui beberapa metode, salah satunya adalah dengan menggunakan properti \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" saat memanggil fungsi \",[\"$\",\"code\",null,{\"children\":\"signIn\"}],\".\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Menggunakan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" untuk Redirect Dinamis\"]}]}],[\"$\",\"p\",null,{\"children\":[\"Untuk mengarahkan pengguna ke halaman tertentu setelah login, kita dapat menggunakan properti \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" pada \",[\"$\",\"code\",null,{\"children\":\"signIn\"}],\". Properti ini akan menentukan URL tujuan setelah proses login selesai.\"]}],[\"$\",\"p\",null,{\"children\":[\"Contoh implementasi \",[\"$\",\"code\",null,{\"children\":\"signIn\"}],\" dengan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" pada halaman login:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/login/page.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" signIn \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" useRouter \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next/navigation'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"LoginPage\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" router \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"useRouter\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function function-variable\",\"children\":\"handleLogin\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"provider\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token builtin\",\"children\":\"string\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"signIn\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"provider\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" callbackUrl\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/dashboard'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Login to HortiLink\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"h1\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"handleLogin\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'google'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Login \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"with\"}],\" Google\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"handleLogin\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'facebook'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Login \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"with\"}],\" Facebook\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"handleLogin\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'github'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Login \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"with\"}],\" GitHub\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"div\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"Fungsi \",[\"$\",\"code\",null,{\"children\":\"handleLogin\"}],\" memanggil \",[\"$\",\"code\",null,{\"children\":\"signIn\"}],\" dengan parameter \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" yang ditentukan (\",[\"$\",\"code\",null,{\"children\":\"/dashboard\"}],\"), sehingga setelah login, pengguna akan diarahkan ke halaman \",[\"$\",\"code\",null,{\"children\":\"/dashboard\"}],\".\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"Jika login berhasil, pengguna akan otomatis diarahkan ke URL yang ditentukan.\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"b. Menentukan Redirect Berdasarkan Role Pengguna\"}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Dalam beberapa kasus, kita mungkin ingin mengarahkan pengguna ke halaman berbeda berdasarkan role mereka. Misalnya, \",[\"$\",\"code\",null,{\"children\":\"admin\"}],\" diarahkan ke halaman manajemen, sementara \",[\"$\",\"code\",null,{\"children\":\"operator\"}],\" diarahkan ke halaman operasional. Ini bisa dicapai dengan memanfaatkan callback \",[\"$\",\"code\",null,{\"children\":\"redirect\"}],\" di konfigurasi NextAuth.\"]}],[\"$\",\"p\",null,{\"children\":[\"Tambahkan callback \",[\"$\",\"code\",null,{\"children\":\"redirect\"}],\" ke dalam konfigurasi \",[\"$\",\"code\",null,{\"children\":\"authOptions\"}],\" di \",[\"$\",\"code\",null,{\"children\":\"app/api/auth/[...nextauth]/route.ts\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/api/auth/[...nextauth]/route.ts\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" NextAuth \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" authOptions \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'@/lib/auth'\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" authOptions \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"...\"}],\"otherAuthOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Konfigurasi NextAuth lainnya\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  callbacks\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"async\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"redirect\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" url\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\" baseUrl \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Arahkan berdasarkan role pengguna\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"url \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/dashboard'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" session \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"await\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"getSession\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Redirect admin ke halaman manajemen khusus\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'admin'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"$${\"}],\"baseUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/admin\"}],[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Redirect engineer ke halaman teknis\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"if\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"session\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"user\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"?.\"}],\"role \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"===\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'engineer'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"$${\"}],\"baseUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/engineer\"}],[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Default ke dashboard umum\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"        \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token template-string\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}],[\"$\",\"span\",null,{\"className\":\"token interpolation\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"$${\"}],\"baseUrl\",[\"$\",\"span\",null,{\"className\":\"token punctuation interpolation-punctuation\",\"children\":\"}\"}]]}],[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"/dashboard\"}],[\"$\",\"span\",null,{\"className\":\"token string template-punctuation\",\"children\":\"`\"}]]}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"      \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" baseUrl\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\",\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"NextAuth\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],\"authOptions\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":[\"Callback \",[\"$\",\"code\",null,{\"children\":\"redirect\"}]]}],\": Callback ini memungkinkan kita untuk mengatur URL redirect setelah login berdasarkan kondisi tertentu, dalam hal ini berdasarkan \",[\"$\",\"code\",null,{\"children\":\"role\"}],\" pengguna.\"]}],[\"$\",\"li\",null,{\"children\":[\"Setelah login, \",[\"$\",\"strong\",null,{\"children\":\"admin\"}],\" akan diarahkan ke \",[\"$\",\"code\",null,{\"children\":\"/admin\"}],\", \",[\"$\",\"strong\",null,{\"children\":\"engineer\"}],\" ke \",[\"$\",\"code\",null,{\"children\":\"/engineer\"}],\", dan role lainnya ke \",[\"$\",\"code\",null,{\"children\":\"/dashboard\"}],\".\"]}]]}],[\"$\",\"h5\",null,{\"id\":\"52-redirect-setelah-logout\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#52-redirect-setelah-logout\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"5.2 Redirect Setelah Logout\"]}],[\"$\",\"p\",null,{\"children\":[\"Untuk mengarahkan pengguna ke halaman tertentu setelah mereka logout, kita bisa menggunakan properti \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" saat memanggil fungsi \",[\"$\",\"code\",null,{\"children\":\"signOut\"}],\". Secara default, NextAuth akan mengarahkan pengguna ke halaman utama aplikasi setelah logout. Namun, kita bisa menentukan URL tujuan khusus jika diinginkan, seperti halaman landing atau halaman informasi publik.\"]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"a. Redirect dengan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" pada \",[\"$\",\"code\",null,{\"children\":\"signOut\"}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Berikut adalah contoh implementasi \",[\"$\",\"code\",null,{\"children\":\"signOut\"}],\" dengan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" pada komponen client:\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/components/LogoutButton.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'use client'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" signOut \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"LogoutButton\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"const\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function function-variable\",\"children\":\"handleLogout\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"    \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"signOut\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" callbackUrl\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\":\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'/'\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// Redirect ke halaman utama setelah logout\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"handleLogout\",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Logout\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[[\"$\",\"strong\",null,{\"children\":\"Penjelasan\"}],\":\"]}],[\"$\",\"ul\",null,{\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"Fungsi \",[\"$\",\"code\",null,{\"children\":\"handleLogout\"}],\" memanggil \",[\"$\",\"code\",null,{\"children\":\"signOut\"}],\" dengan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" yang ditentukan sebagai \",[\"$\",\"code\",null,{\"children\":\"'/'\"}],\", sehingga setelah logout, pengguna akan diarahkan ke halaman utama (\",[\"$\",\"code\",null,{\"children\":\"/\"}],\").\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":[\"Komponen \",[\"$\",\"code\",null,{\"children\":\"LogoutButton\"}],\" ini dapat digunakan di berbagai halaman atau komponen lain di aplikasi untuk memberikan opsi logout kepada pengguna.\"]}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"p\",null,{\"children\":\"b. Menggunakan Redirect Default untuk Sign Out\"}]}]]}],[\"$\",\"p\",null,{\"children\":[\"Jika kita tidak menentukan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" saat memanggil \",[\"$\",\"code\",null,{\"children\":\"signOut\"}],\", NextAuth akan otomatis mengarahkan pengguna ke halaman utama aplikasi (URL dasar atau root) setelah logout. Untuk aplikasi dengan kebutuhan redirect yang lebih dinamis setelah logout, kita dapat menyesuaikan \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" langsung dalam pengaturan NextAuth atau di bagian frontend menggunakan logika yang relevan sesuai konteks aplikasi.\"]}],[\"$\",\"p\",null,{\"children\":[\"Contoh implementasi redirect tanpa \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" pada \",[\"$\",\"code\",null,{\"children\":\"signOut\"}],\":\"]}],[\"$\",\"pre\",null,{\"className\":\"language-typescript\",\"children\":[\"$\",\"code\",null,{\"className\":\"language-typescript code-highlight\",\"children\":[[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token comment\",\"children\":\"// app/components/LogoutButton.tsx\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"import\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\" signOut \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"from\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token string\",\"children\":\"'next-auth/react'\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":\"\\n\"}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"export\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"default\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"function\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"LogoutButton\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[\"  \",[\"$\",\"span\",null,{\"className\":\"token keyword\",\"children\":\"return\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],\"button onClick\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"{\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"=\u003e\"}],\" \",[\"$\",\"span\",null,{\"className\":\"token function\",\"children\":\"signOut\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"(\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\")\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],\"Logout\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003c\"}],[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"/\"}],\"button\",[\"$\",\"span\",null,{\"className\":\"token operator\",\"children\":\"\u003e\"}],[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\";\"}],\"\\n\"]}],[\"$\",\"span\",null,{\"className\":\"code-line\",\"children\":[[\"$\",\"span\",null,{\"className\":\"token punctuation\",\"children\":\"}\"}],\"\\n\"]}]]}]}],[\"$\",\"p\",null,{\"children\":[\"Dengan implementasi ini, NextAuth akan mengarahkan pengguna ke halaman root (\",[\"$\",\"code\",null,{\"children\":\"/\"}],\") setelah logout tanpa perlu mengatur \",[\"$\",\"code\",null,{\"children\":\"callbackUrl\"}],\" secara manual.\"]}],[\"$\",\"hr\",null,{}],[\"$\",\"h3\",null,{\"id\":\"hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#hak-cipta1-artikel-ini-berdasar-chatgpt--penulis-tidak-menjamin-seluruh-akurasi-isinya\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Hak cipta\",[\"$\",\"sup\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"#user-content-fn-1\",\"aria-describedby\":\"footnote-label\",\"data-footnote-ref\":true,\"id\":\"user-content-fnref-1\",\"children\":\"1\"}]}],\". Artikel ini berdasar ChatGpt \u0026 penulis tidak menjamin seluruh akurasi isinya\"]}],[\"$\",\"section\",null,{\"className\":\"footnotes\",\"data-footnotes\":true,\"children\":[[\"$\",\"h2\",null,{\"className\":\"sr-only\",\"id\":\"footnote-label\",\"children\":[[\"$\",\"a\",null,{\"href\":\"#footnote-label\",\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}],\"Footnotes\"]}],[\"$\",\"ol\",null,{\"children\":[\"$\",\"li\",null,{\"id\":\"user-content-fn-1\",\"children\":[\"$\",\"p\",null,{\"children\":[[\"$\",\"a\",null,{\"href\":\"https://chat.openai.com\",\"children\":\"ChatGpt\"}],\" \",[\"$\",\"a\",null,{\"href\":\"#user-content-fnref-1\",\"aria-label\":\"Back to content\",\"className\":\"data-footnote-backref\",\"data-footnote-backref\":true,\"children\":\"â†©\"}]]}]}]}]]}]]}]}],[\"$\",\"footer\",null,{\"children\":[[\"$\",\"div\",null,{\"className\":\"divide-gray-200 text-sm font-medium leading-5 dark:divide-gray-700 xl:col-start-1 xl:row-start-2 xl:divide-y\",\"children\":[[\"$\",\"div\",null,{\"className\":\"py-4 xl:py-8\",\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Tags\"}],[\"$\",\"div\",null,{\"className\":\"flex flex-wrap\",\"children\":[[\"$\",\"$Ld\",null,{\"href\":\"/tags/kontrol\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"kontrol\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/iot\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"iot\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/mongodb\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"mongoDB\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/mongose\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"mongose\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/hortilink\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"hortilink\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/mvc\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"MVC\"}],[\"$\",\"$Ld\",null,{\"href\":\"/tags/atomic-design\",\"className\":\"mr-3 text-sm font-medium uppercase text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":\"atomic-design\"}]]}]]}],[\"$\",\"div\",null,{\"className\":\"flex justify-between py-4 xl:block xl:space-y-8 xl:py-8\",\"children\":[[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Previous Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$Ld\",null,{\"href\":\"/blog/IoT/tahap1\",\"children\":\"Tahap 1 â€“ Pengembangan Sistem Monitoring dan Kontrol Individual (ESP-Node to Device)\"}]}]]}],[\"$\",\"div\",null,{\"children\":[[\"$\",\"h2\",null,{\"className\":\"text-xs uppercase tracking-wide text-gray-500 dark:text-gray-400\",\"children\":\"Next Article\"}],[\"$\",\"div\",null,{\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"children\":[\"$\",\"$Ld\",null,{\"href\":\"/blog/IoT/dataModelHortiLink\",\"children\":\"Data Model â€“ Mengimplementasikan Time Series Database di MongoDB dengan Mongoose dan TypeScript untuk Data Sensor IoT\"}]}]]}]]}]]}],[\"$\",\"div\",null,{\"className\":\"pt-4 xl:pt-8\",\"children\":[\"$\",\"$Ld\",null,{\"href\":\"/blog\",\"className\":\"text-primary-500 hover:text-primary-600 dark:hover:text-primary-400\",\"aria-label\":\"Back to the blog\",\"children\":\"â† Back to the blog\"}]}]]}]]}]]}]}]]}]]\n"])</script><script>self.__next_f.push([1,"7:[[[\"$\",\"meta\",null,{\"charSet\":\"utf-8\"}],[\"$\",\"title\",null,{\"children\":\"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"}],[\"$\",\"meta\",null,{\"name\":\"description\",\"content\":\"Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra.\"}],null,null,null,null,null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],null,null,null,null,null,null,null,null,null,null,[]],[null,null,null,null],null,null,[null,null,null,null,null],null,[null,[\"$\",\"meta\",null,{\"property\":\"og:title\",\"content\":\"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"}],[\"$\",\"meta\",null,{\"property\":\"og:description\",\"content\":\"Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra.\"}],[\"$\",\"meta\",null,{\"property\":\"og:url\",\"content\":\"http://localhost:3000/\"}],[\"$\",\"meta\",null,{\"property\":\"og:site_name\",\"content\":\"kawruhnology\"}],[\"$\",\"meta\",null,{\"property\":\"og:locale\",\"content\":\"en_US\"}],null,null,[],null,null,null,null,null,null,[[\"$\",\"meta\",null,{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",null,{\"property\":\"article:published_time\",\"content\":\"2024-11-06T00:00:00.000Z\"}],[\"$\",\"meta\",null,{\"property\":\"article:modified_time\",\"content\":\"2024-11-06T00:00:00.000Z\"}],null,[[\"$\",\"meta\",null,{\"property\":\"article:author\",\"content\":\"Slamet Sam\"}]],null,null]],[[\"$\",\"meta\",null,{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],null,null,null,null,[\"$\",\"meta\",null,{\"name\":\"twitter:title\",\"content\":\"Tahap 3 â€“ Integrasi ESP-Gateway dengan Server Kustom\"}],[\"$\",\"meta\",null,{\"name\":\"twitter:description\",\"content\":\"Pada Tahap 3, HortiLink berubah dari sekadar perangkat pemantau jadi sistem lengkap yang bisa diakses kapan saja, dari mana saja. Dengan sistem komunikasi antar perangkat IoT yang stabil, server khusus untuk menyimpan data historis, dan dasbor yang keren, kita bisa langsung tahu apa yang terjadi di lahanâ€”termasuk notifikasi real-time yang mengingatkan saat ada yang butuh perhatian ekstra.\"}],[],null,null],null,[null,[[\"$\",\"link\",null,{\"rel\":\"icon\",\"href\":\"/kawruhnology/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"any\"}]],[],null]]\n"])</script>